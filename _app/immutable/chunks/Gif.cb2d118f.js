import{s as oe,f as q,g as C,h as I,d as v,j as a,r as y,k as E,i as O,u as j,v as H,o as re,p as ue,a as $,c as ee,y as Pe,V as Ie,W as Se,A as pe,B as Re,C as qe,D as Ce,X as je,P as K,I as L,J,z as De,F as B,Y as ze,O as Be}from"./scheduler.8d84c197.js";import{S as ae,i as ce,g as te,t as A,c as se,a as V,b as Ve,d as We,m as Xe,e as Me}from"./index.5e028736.js";import{c as Oe}from"./utils.f0ccaf0a.js";import{u as Te}from"./stores.0eb9cb15.js";function Fe(s){let t,e;return{c(){t=q("div"),e=q("canvas"),this.h()},l(i){t=C(i,"DIV",{style:!0,class:!0});var l=I(t);e=C(l,"CANVAS",{width:!0,height:!0,class:!0}),I(e).forEach(v),l.forEach(v),this.h()},h(){a(e,"width",s[1]),a(e,"height",s[1]),a(e,"class","svelte-hfkcg"),y(e,"seeking",s[2]),y(e,"fillSpace",s[3]),E(t,"--s",1/s[0]),E(t,"--bg-color",s[4]),a(t,"class","svelte-hfkcg")},m(i,l){O(i,t,l),j(t,e),s[11](e)},p(i,[l]){l&2&&a(e,"width",i[1]),l&2&&a(e,"height",i[1]),l&4&&y(e,"seeking",i[2]),l&8&&y(e,"fillSpace",i[3]),l&1&&E(t,"--s",1/i[0]),l&16&&E(t,"--bg-color",i[4])},i:H,o:H,d(i){i&&v(t),s[11](null)}}}function Ae(s,t,e){let i;const l=Math.PI*2;let{percent:u=0}=t,{size:_}=t,{seeking:h}=t,{scaleFactor:n=1}=t,b,r,{use_DPR:p=!0}=t,{use_decimal:g=!0}=t,{fillSpace:d=!1}=t,{bgColor:c="#0004"}=t;const P=_/8,R=_/2,w=(_-P*1.1)/2,G=P*.7,z=_*.25,S=P*.9,f={offsetX:R-z-1.3*P,offsetY:-.5*S,outlineW:P*.05};re(()=>{p?e(0,n=window.devicePixelRatio*2):e(0,n=1),e(5,b.width=Math.floor(_*n),b),e(5,b.height=Math.floor(_*n),b),e(9,r=b.getContext("2d")),r.scale(n,n),r.rotate(Math.PI/2*3),r.translate(-_,0)});const k=m=>{r.save(),r.beginPath(),r.translate(R,R),r.rotate(m),r.roundRect(f.offsetX,f.offsetY,z,S,S),r.fill(),e(9,r.lineWidth=f.outlineW,r),r.stroke(),r.restore()},W=(m,X,D,M,N)=>{r.clearRect(0,0,_,_),r.beginPath(),r.arc(R,R,w,0,l,!0),e(9,r.strokeStyle=D,r),e(9,r.lineWidth=M,r),r.stroke(),r.beginPath(),r.arc(R,R,w,0,N,!1),e(9,r.strokeStyle=X,r),e(9,r.lineCap="round",r),e(9,r.lineWidth=G,r),r.stroke(),m&&(e(9,r.fillStyle=X,r),e(9,r.strokeStyle=X,r),k(N))};function U(m){ue[m?"unshift":"push"](()=>{b=m,e(5,b)})}return s.$$set=m=>{"percent"in m&&e(6,u=m.percent),"size"in m&&e(1,_=m.size),"seeking"in m&&e(2,h=m.seeking),"scaleFactor"in m&&e(0,n=m.scaleFactor),"use_DPR"in m&&e(7,p=m.use_DPR),"use_decimal"in m&&e(8,g=m.use_decimal),"fillSpace"in m&&e(3,d=m.fillSpace),"bgColor"in m&&e(4,c=m.bgColor)},s.$$.update=()=>{s.$$.dirty&320&&e(10,i=g?u*l:u/100*l),s.$$.dirty&1540&&r&&W(h,"#b8b7b5","#fff4",P,i)},[n,_,h,d,c,b,u,p,g,r,i,U]}class Ge extends ae{constructor(t){super(),ce(this,t,Ae,Fe,oe,{percent:6,size:1,seeking:2,scaleFactor:0,use_DPR:7,use_decimal:8,fillSpace:3,bgColor:4})}}const Ue=s=>({}),le=s=>({});function Ne(s){let t,e,i,l,u,_;return{c(){t=q("div"),e=q("video"),i=q("source"),this.h()},l(h){t=C(h,"DIV",{class:!0});var n=I(t);e=C(n,"VIDEO",{style:!0,class:!0});var b=I(e);i=C(b,"SOURCE",{src:!0,type:!0}),b.forEach(v),n.forEach(v),this.h()},h(){K(i.src,l=s[0])||a(i,"src",l),a(i,"type",u="video/"+s[1]+"; "+s[2]),e.autoplay=!0,e.loop=!0,e.playsInline=!0,e.muted=!0,E(e,"--width",s[6]),E(e,"--height",s[7]),a(e,"class","svelte-qjpw24"),y(e,"dim",s[13]),a(t,"class",_="pseudo-border "+s[9]+" svelte-qjpw24"),y(t,"outline_off",s[16])},m(h,n){O(h,t,n),j(t,e),j(e,i)},p(h,n){n[0]&1&&!K(i.src,l=h[0])&&a(i,"src",l),n[0]&6&&u!==(u="video/"+h[1]+"; "+h[2])&&a(i,"type",u),n[0]&64&&E(e,"--width",h[6]),n[0]&128&&E(e,"--height",h[7]),n[0]&8192&&y(e,"dim",h[13]),n[0]&512&&_!==(_="pseudo-border "+h[9]+" svelte-qjpw24")&&a(t,"class",_),n[0]&66048&&y(t,"outline_off",h[16])},i:H,o:H,d(h){h&&v(t)}}}function Ye(s){let t,e,i,l,u=`${s[12]}px`,_,h,n,b,r,p,g=!0,d,c,P,R,w=s[22]&&ie(s);function G(f,k){return f[21]?Je:Le}let z=G(s),S=z(s);return{c(){t=q("button"),e=q("div"),w&&w.c(),i=$(),l=L("svg"),S.c(),_=$(),h=q("div"),n=q("video"),b=q("source"),this.h()},l(f){t=C(f,"BUTTON",{class:!0});var k=I(t);e=C(k,"DIV",{class:!0});var W=I(e);w&&w.l(W),i=ee(W),l=J(W,"svg",{viewBox:!0,id:!0,width:!0,height:!0,class:!0});var U=I(l);S.l(U),U.forEach(v),W.forEach(v),k.forEach(v),_=ee(f),h=C(f,"DIV",{class:!0});var m=I(h);n=C(m,"VIDEO",{style:!0,class:!0});var X=I(n);b=C(X,"SOURCE",{src:!0,type:!0}),X.forEach(v),m.forEach(v),this.h()},h(){a(l,"viewBox","0 0 100 100"),a(l,"id","logos"),a(l,"width","50"),a(l,"height","50"),a(l,"class","svelte-qjpw24"),y(l,"seeking",s[23]),y(l,"hovered",s[22]),a(e,"class","ui-elements pseudo-border svelte-qjpw24"),a(t,"class","controls svelte-qjpw24"),E(t,"--size",u),E(t,"--controls-bg",s[11]),K(b.src,r=s[0])||a(b,"src",r),a(b,"type",p="video/"+s[1]+"; "+s[2]),n.autoplay=s[3],n.loop=!0,n.playsInline=!0,n.muted=!0,E(n,"--width",s[6]),E(n,"--height",s[7]),a(n,"class","svelte-qjpw24"),s[19]===void 0&&De(()=>s[36].call(n)),y(n,"dim",s[13]),a(h,"class",d="pseudo-border "+s[9]+" svelte-qjpw24"),y(h,"outline_off",s[16])},m(f,k){O(f,t,k),j(t,e),w&&w.m(e,null),j(e,i),j(e,l),S.m(l,null),O(f,_,k),O(f,h,k),j(h,n),j(n,b),s[35](n),c=!0,P||(R=[B(t,"click",s[34]),B(n,"pointerenter",s[27]),B(n,"pointerleave",s[28]),B(n,"pointerdown",s[25]),B(n,"pointermove",s[24]),B(n,"pointerup",s[26]),B(n,"touchstart",ze(s[33])),B(n,"durationchange",s[36]),B(n,"play",s[37]),B(n,"pause",s[37])],P=!0)},p(f,k){f[22]?w?(w.p(f,k),k[0]&4194304&&V(w,1)):(w=ie(f),w.c(),V(w,1),w.m(e,i)):w&&(te(),A(w,1,1,()=>{w=null}),se()),z!==(z=G(f))&&(S.d(1),S=z(f),S&&(S.c(),S.m(l,null))),(!c||k[0]&8388608)&&y(l,"seeking",f[23]),(!c||k[0]&4194304)&&y(l,"hovered",f[22]),k[0]&4096&&u!==(u=`${f[12]}px`)&&E(t,"--size",u),k[0]&2048&&E(t,"--controls-bg",f[11]),(!c||k[0]&1&&!K(b.src,r=f[0]))&&a(b,"src",r),(!c||k[0]&6&&p!==(p="video/"+f[1]+"; "+f[2]))&&a(b,"type",p),(!c||k[0]&8)&&(n.autoplay=f[3]),(!c||k[0]&64)&&E(n,"--width",f[6]),(!c||k[0]&128)&&E(n,"--height",f[7]),k[0]&2097152&&g!==(g=f[21])&&n[g?"pause":"play"](),(!c||k[0]&8192)&&y(n,"dim",f[13]),(!c||k[0]&512&&d!==(d="pseudo-border "+f[9]+" svelte-qjpw24"))&&a(h,"class",d),(!c||k[0]&66048)&&y(h,"outline_off",f[16])},i(f){c||(V(w),c=!0)},o(f){A(w),c=!1},d(f){f&&(v(t),v(_),v(h)),w&&w.d(),S.d(),s[35](null),P=!1,Be(R)}}}function ie(s){let t,e;return t=new Ge({props:{size:s[12],percent:s[20],seeking:s[23]}}),{c(){Ve(t.$$.fragment)},l(i){We(t.$$.fragment,i)},m(i,l){Xe(t,i,l),e=!0},p(i,l){const u={};l[0]&4096&&(u.size=i[12]),l[0]&1048576&&(u.percent=i[20]),l[0]&8388608&&(u.seeking=i[23]),t.$set(u)},i(i){e||(V(t.$$.fragment,i),e=!0)},o(i){A(t.$$.fragment,i),e=!1},d(i){Me(t,i)}}}function Le(s){let t,e,i;return{c(){t=L("g"),e=L("rect"),i=L("rect"),this.h()},l(l){t=J(l,"g",{id:!0,class:!0});var u=I(t);e=J(u,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),I(e).forEach(v),i=J(u,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),I(i).forEach(v),u.forEach(v),this.h()},h(){a(e,"x","24"),a(e,"y","20"),a(e,"width","20"),a(e,"height","60"),a(e,"rx","5"),a(i,"x","56"),a(i,"y","20"),a(i,"width","20"),a(i,"height","60"),a(i,"rx","5"),a(t,"id","pause"),a(t,"class","svelte-qjpw24")},m(l,u){O(l,t,u),j(t,e),j(t,i)},d(l){l&&v(t)}}}function Je(s){let t,e;return{c(){t=L("g"),e=L("path"),this.h()},l(i){t=J(i,"g",{id:!0,class:!0});var l=I(t);e=J(l,"path",{d:!0}),I(e).forEach(v),l.forEach(v),this.h()},h(){a(e,"d","M 34 25 v 50L 76 50 Z"),a(t,"id","play"),a(t,"class","svelte-qjpw24")},m(i,l){O(i,t,l),j(t,e)},d(i){i&&v(t)}}}function ne(s){let t,e;const i=s[32].caption,l=pe(i,s,s[31],le);return{c(){t=q("figcaption"),l&&l.c(),this.h()},l(u){t=C(u,"FIGCAPTION",{class:!0});var _=I(t);l&&l.l(_),_.forEach(v),this.h()},h(){a(t,"class","caption svelte-qjpw24"),y(t,"cap_center",s[5])},m(u,_){O(u,t,_),l&&l.m(t,null),e=!0},p(u,_){l&&l.p&&(!e||_[1]&1)&&Re(l,i,u,u[31],e?Ce(i,u[31],_,Ue):qe(u[31]),le),(!e||_[0]&32)&&y(t,"cap_center",u[5])},i(u){e||(V(l,u),e=!0)},o(u){A(l,u),e=!1},d(u){u&&v(t),l&&l.d(u)}}}function Ze(s){let t,e,i,l,u=`${100-s[13]}%`,_,h=`${s[14]}rem`,n;const b=[Ye,Ne],r=[];function p(d,c){return d[4]?0:1}i=p(s),l=r[i]=b[i](s);let g=s[29].caption&&ne(s);return{c(){t=q("figure"),e=q("div"),l.c(),_=$(),g&&g.c(),this.h()},l(d){t=C(d,"FIGURE",{class:!0});var c=I(t);e=C(c,"DIV",{class:!0});var P=I(e);l.l(P),P.forEach(v),_=ee(c),g&&g.l(c),c.forEach(v),this.h()},h(){a(e,"class","wrapper radius svelte-qjpw24"),E(e,"--dim",u),a(t,"class","svelte-qjpw24"),y(t,"card",s[8]),y(t,"inset_shadow",s[17]),y(t,"hovered",s[22]),E(t,"--bg",s[10]),E(t,"--pad",h),E(t,"--inner-radius",s[15])},m(d,c){O(d,t,c),j(t,e),r[i].m(e,null),j(t,_),g&&g.m(t,null),n=!0},p(d,c){let P=i;i=p(d),i===P?r[i].p(d,c):(te(),A(r[P],1,1,()=>{r[P]=null}),se(),l=r[i],l?l.p(d,c):(l=r[i]=b[i](d),l.c()),V(l,1),l.m(e,null)),c[0]&8192&&u!==(u=`${100-d[13]}%`)&&E(e,"--dim",u),d[29].caption?g?(g.p(d,c),c[0]&536870912&&V(g,1)):(g=ne(d),g.c(),V(g,1),g.m(t,null)):g&&(te(),A(g,1,1,()=>{g=null}),se()),(!n||c[0]&256)&&y(t,"card",d[8]),(!n||c[0]&131072)&&y(t,"inset_shadow",d[17]),(!n||c[0]&4194304)&&y(t,"hovered",d[22]),c[0]&1024&&E(t,"--bg",d[10]),c[0]&16384&&h!==(h=`${d[14]}rem`)&&E(t,"--pad",h),c[0]&32768&&E(t,"--inner-radius",d[15])},i(d){n||(V(l),V(g),n=!0)},o(d){A(l),A(g),n=!1},d(d){d&&v(t),r[i].d(),g&&g.d()}}}function He(s,t,e){let i;Pe(s,Te,o=>e(40,i=o));let{$$slots:l={},$$scope:u}=t;const _=Ie(l),h=window.matchMedia("(prefers-reduced-motion: reduce)").matches==!0;let{src:n=""}=t,{ext:b=n.split(".")[1]}=t,{codecs:r="hevc1"}=t,{t:p="#t=0.01"}=t,{autoplay:g=!0}=t,{controls:d=!0}=t,{cap_center:c=!0}=t,{width:P="100%"}=t,{height:R="auto"}=t,{card:w=!1}=t,{radius_type:G="all"}=t,{background:z="var(--grey-0)"}=t,{controlsBg:S="#0002"}=t,{controlsSize:f=32}=t,{dim:k=0}=t,{pad:W=0}=t,{inner_radius:U="var(--space-3xs)"}=t,{outline_off:m=!1}=t,{inset_shadow:X=!1}=t,D,M,N,T,Q=!1,Z=!1;const Y={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let F;re(()=>{if(i==!0){let o=n.split(".")[0]+".webm";e(0,n=o),e(1,b="webm"),e(2,r="vp9")}F=void 0,h&&e(3,g=!1),g||(e(21,T=!0),e(0,n=n+p))}),Se(()=>{F&&(clearInterval(F),F=void 0)});const fe=o=>{if(!M||o.type!=="touchmove"&&!(o.buttons&1))return;o.target.setPointerCapture(o.pointerId);const x=o.type==="touchmove"?o.touches[0].clientX:o.clientX,{width:Ee}=D.getBoundingClientRect();e(20,N=Oe(Y.initialProgress+(x-Y.initialPosition)/Ee,.01,.99)),e(18,D.currentTime=M*N,D)},_e=o=>{D.pause();const x=o.type==="touchmove"?o.touches[0].clientX:o.clientX;e(23,Z=!0),Y.paused_before=!!T,Y.initialPosition=x,Y.initialProgress=D.currentTime/M},he=o=>{e(23,Z=!1),Y.paused_before||D.play()},de=o=>{e(22,Q=!0),(!Z||!T)&&(F=setInterval(me,10))},ge=o=>{e(22,Q=!1),F&&clearInterval(F),F=void 0};function me(){e(20,N=D.currentTime/M)}function be(o){je.call(this,s,o)}const ke=()=>e(21,T=!T);function we(o){ue[o?"unshift":"push"](()=>{D=o,e(18,D)})}function ve(){M=this.duration,e(19,M)}function ye(){T=this.paused,e(21,T)}return s.$$set=o=>{"src"in o&&e(0,n=o.src),"ext"in o&&e(1,b=o.ext),"codecs"in o&&e(2,r=o.codecs),"t"in o&&e(30,p=o.t),"autoplay"in o&&e(3,g=o.autoplay),"controls"in o&&e(4,d=o.controls),"cap_center"in o&&e(5,c=o.cap_center),"width"in o&&e(6,P=o.width),"height"in o&&e(7,R=o.height),"card"in o&&e(8,w=o.card),"radius_type"in o&&e(9,G=o.radius_type),"background"in o&&e(10,z=o.background),"controlsBg"in o&&e(11,S=o.controlsBg),"controlsSize"in o&&e(12,f=o.controlsSize),"dim"in o&&e(13,k=o.dim),"pad"in o&&e(14,W=o.pad),"inner_radius"in o&&e(15,U=o.inner_radius),"outline_off"in o&&e(16,m=o.outline_off),"inset_shadow"in o&&e(17,X=o.inset_shadow),"$$scope"in o&&e(31,u=o.$$scope)},[n,b,r,g,d,c,P,R,w,G,z,S,f,k,W,U,m,X,D,M,N,T,Q,Z,fe,_e,he,de,ge,_,p,u,l,be,ke,we,ve,ye]}class et extends ae{constructor(t){super(),ce(this,t,He,Ze,oe,{src:0,ext:1,codecs:2,t:30,autoplay:3,controls:4,cap_center:5,width:6,height:7,card:8,radius_type:9,background:10,controlsBg:11,controlsSize:12,dim:13,pad:14,inner_radius:15,outline_off:16,inset_shadow:17},null,[-1,-1])}}export{et as G,Ge as R};
