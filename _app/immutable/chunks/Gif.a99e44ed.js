import{s as oe,f as D,g as z,h as P,d as w,j as c,r as y,k as S,i as V,u as F,v as H,o as re,p as ne,a as x,c as $,y as Se,W as Ee,X as Pe,A as Ie,B as Re,C as Ce,D as De,S as ze,P as K,I as j,J,z as Fe,F as M,Y as pe,O as Be}from"./scheduler.6d6d93c7.js";import{S as ae,i as ce,g as ee,t as U,c as te,a as O,b as We,d as Xe,m as Me,e as Oe}from"./index.15fe4709.js";import{c as Te}from"./utils.f0ccaf0a.js";import{u as Ve}from"./stores.8130cd92.js";function Ae(s){let t,e;return{c(){t=D("div"),e=D("canvas"),this.h()},l(i){t=z(i,"DIV",{style:!0,class:!0});var l=P(t);e=z(l,"CANVAS",{width:!0,height:!0,class:!0}),P(e).forEach(w),l.forEach(w),this.h()},h(){c(e,"width",s[1]),c(e,"height",s[1]),c(e,"class","svelte-hfkcg"),y(e,"seeking",s[2]),y(e,"fillSpace",s[3]),S(t,"--s",1/s[0]),S(t,"--bg-color",s[4]),c(t,"class","svelte-hfkcg")},m(i,l){V(i,t,l),F(t,e),s[13](e)},p(i,[l]){l&2&&c(e,"width",i[1]),l&2&&c(e,"height",i[1]),l&4&&y(e,"seeking",i[2]),l&8&&y(e,"fillSpace",i[3]),l&1&&S(t,"--s",1/i[0]),l&16&&S(t,"--bg-color",i[4])},i:H,o:H,d(i){i&&w(t),s[13](null)}}}function Ge(s,t,e){let i;const l=Math.PI*2;let{percent:n=0}=t,{size:u}=t,{seeking:b}=t,{scaleFactor:r=1}=t,m,a,{use_DPR:E=!0}=t,{use_decimal:I=!0}=t,{fillSpace:f=!1}=t,{bgColor:h="#0004"}=t,{colorFill:k="#b8b7b5"}=t,{colorStroke:g="#fff4"}=t;const p=u/8,R=u/2,C=(u-p*1.1)/2,_=p*.7,v=u*.25,W=p*.9,T={offsetX:R-v-1.3*p,offsetY:-.5*W,outlineW:p*.05};re(()=>{E?e(0,r=window.devicePixelRatio*2):e(0,r=1),e(5,m.width=Math.floor(u*r),m),e(5,m.height=Math.floor(u*r),m),e(11,a=m.getContext("2d")),a.scale(r,r),a.rotate(Math.PI/2*3),a.translate(-u,0)});const N=d=>{a.save(),a.beginPath(),a.translate(R,R),a.rotate(d),a.roundRect(T.offsetX,T.offsetY,v,W,W),a.fill(),e(11,a.lineWidth=T.outlineW,a),a.stroke(),a.restore()},Y=(d,A,X,Z,q)=>{a.clearRect(0,0,u,u),a.beginPath(),a.arc(R,R,C,0,l,!0),e(11,a.strokeStyle=X,a),e(11,a.lineWidth=Z,a),a.stroke(),a.beginPath(),a.arc(R,R,C,0,q,!1),e(11,a.strokeStyle=A,a),e(11,a.lineCap="round",a),e(11,a.lineWidth=_,a),a.stroke(),d&&(e(11,a.fillStyle=A,a),e(11,a.strokeStyle=A,a),N(q))};function B(d){ne[d?"unshift":"push"](()=>{m=d,e(5,m)})}return s.$$set=d=>{"percent"in d&&e(6,n=d.percent),"size"in d&&e(1,u=d.size),"seeking"in d&&e(2,b=d.seeking),"scaleFactor"in d&&e(0,r=d.scaleFactor),"use_DPR"in d&&e(7,E=d.use_DPR),"use_decimal"in d&&e(8,I=d.use_decimal),"fillSpace"in d&&e(3,f=d.fillSpace),"bgColor"in d&&e(4,h=d.bgColor),"colorFill"in d&&e(9,k=d.colorFill),"colorStroke"in d&&e(10,g=d.colorStroke)},s.$$.update=()=>{s.$$.dirty&320&&e(12,i=I?n*l:n/100*l),s.$$.dirty&7684&&a&&Y(b,k,g,p,i)},[r,u,b,f,h,m,n,E,I,k,g,a,i,B]}class Ue extends ae{constructor(t){super(),ce(this,t,Ge,Ae,oe,{percent:6,size:1,seeking:2,scaleFactor:0,use_DPR:7,use_decimal:8,fillSpace:3,bgColor:4,colorFill:9,colorStroke:10})}}const Ne=s=>({}),se=s=>({});function Ye(s){let t,e,i,l,n;return{c(){t=D("div"),e=D("video"),i=D("source"),this.h()},l(u){t=z(u,"DIV",{class:!0});var b=P(t);e=z(b,"VIDEO",{disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var r=P(e);i=z(r,"SOURCE",{src:!0,type:!0}),r.forEach(w),b.forEach(w),this.h()},h(){K(i.src,l=s[0])||c(i,"src",l),c(i,"type",n="video/"+s[1]+"; "+s[2]),e.autoplay=!0,e.loop=!0,e.playsInline=!0,e.muted=!0,c(e,"disableremoteplayback",""),c(e,"disablepictureinpicture",""),S(e,"--width",s[6]),S(e,"--height",s[7]),c(e,"class","svelte-1taah4r"),y(e,"dim",s[13]),c(t,"class","svelte-1taah4r"),y(t,"outline_off",s[15])},m(u,b){V(u,t,b),F(t,e),F(e,i)},p(u,b){b[0]&1&&!K(i.src,l=u[0])&&c(i,"src",l),b[0]&6&&n!==(n="video/"+u[1]+"; "+u[2])&&c(i,"type",n),b[0]&64&&S(e,"--width",u[6]),b[0]&128&&S(e,"--height",u[7]),b[0]&8192&&y(e,"dim",u[13]),b[0]&32768&&y(t,"outline_off",u[15])},i:H,o:H,d(u){u&&w(t)}}}function qe(s){let t,e,i,l,n=`${s[12]}px`,u,b,r,m,a,E,I=!0,f,h,k,g=s[21]&&le(s);function p(_,v){return _[20]?je:Le}let R=p(s),C=R(s);return{c(){t=D("button"),e=D("div"),g&&g.c(),i=x(),l=j("svg"),C.c(),u=x(),b=D("div"),r=D("video"),m=D("source"),this.h()},l(_){t=z(_,"BUTTON",{class:!0});var v=P(t);e=z(v,"DIV",{class:!0});var W=P(e);g&&g.l(W),i=$(W),l=J(W,"svg",{viewBox:!0,id:!0,width:!0,height:!0,class:!0});var T=P(l);C.l(T),T.forEach(w),W.forEach(w),v.forEach(w),u=$(_),b=z(_,"DIV",{class:!0});var N=P(b);r=z(N,"VIDEO",{disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var Y=P(r);m=z(Y,"SOURCE",{src:!0,type:!0}),Y.forEach(w),N.forEach(w),this.h()},h(){c(l,"viewBox","0 0 100 100"),c(l,"id","logos"),c(l,"width","50"),c(l,"height","50"),c(l,"class","svelte-1taah4r"),y(l,"seeking",s[22]),y(l,"hovered",s[21]),c(e,"class","ui-elements pseudo-border svelte-1taah4r"),c(t,"class","controls svelte-1taah4r"),S(t,"--size",n),S(t,"--controls-bg",s[11]),K(m.src,a=s[0])||c(m,"src",a),c(m,"type",E="video/"+s[1]+"; "+s[2]),r.autoplay=s[3],r.loop=!0,r.playsInline=!0,r.muted=!0,c(r,"disableremoteplayback",""),c(r,"disablepictureinpicture",""),S(r,"--width",s[6]),S(r,"--height",s[7]),c(r,"class","svelte-1taah4r"),s[18]===void 0&&Fe(()=>s[35].call(r)),y(r,"dim",s[13]),c(b,"class","svelte-1taah4r"),y(b,"outline_off",s[15])},m(_,v){V(_,t,v),F(t,e),g&&g.m(e,null),F(e,i),F(e,l),C.m(l,null),V(_,u,v),V(_,b,v),F(b,r),F(r,m),s[34](r),f=!0,h||(k=[M(t,"click",s[33]),M(r,"pointerenter",s[26]),M(r,"pointerleave",s[27]),M(r,"pointerdown",s[24]),M(r,"pointermove",s[23]),M(r,"pointerup",s[25]),M(r,"touchstart",pe(s[32])),M(r,"durationchange",s[35]),M(r,"play",s[36]),M(r,"pause",s[36])],h=!0)},p(_,v){_[21]?g?(g.p(_,v),v[0]&2097152&&O(g,1)):(g=le(_),g.c(),O(g,1),g.m(e,i)):g&&(ee(),U(g,1,1,()=>{g=null}),te()),R!==(R=p(_))&&(C.d(1),C=R(_),C&&(C.c(),C.m(l,null))),(!f||v[0]&4194304)&&y(l,"seeking",_[22]),(!f||v[0]&2097152)&&y(l,"hovered",_[21]),v[0]&4096&&n!==(n=`${_[12]}px`)&&S(t,"--size",n),v[0]&2048&&S(t,"--controls-bg",_[11]),(!f||v[0]&1&&!K(m.src,a=_[0]))&&c(m,"src",a),(!f||v[0]&6&&E!==(E="video/"+_[1]+"; "+_[2]))&&c(m,"type",E),(!f||v[0]&8)&&(r.autoplay=_[3]),(!f||v[0]&64)&&S(r,"--width",_[6]),(!f||v[0]&128)&&S(r,"--height",_[7]),v[0]&1048576&&I!==(I=_[20])&&r[I?"pause":"play"](),(!f||v[0]&8192)&&y(r,"dim",_[13]),(!f||v[0]&32768)&&y(b,"outline_off",_[15])},i(_){f||(O(g),f=!0)},o(_){U(g),f=!1},d(_){_&&(w(t),w(u),w(b)),g&&g.d(),C.d(),s[34](null),h=!1,Be(k)}}}function le(s){let t,e;return t=new Ue({props:{size:s[12],percent:s[19],seeking:s[22]}}),{c(){We(t.$$.fragment)},l(i){Xe(t.$$.fragment,i)},m(i,l){Me(t,i,l),e=!0},p(i,l){const n={};l[0]&4096&&(n.size=i[12]),l[0]&524288&&(n.percent=i[19]),l[0]&4194304&&(n.seeking=i[22]),t.$set(n)},i(i){e||(O(t.$$.fragment,i),e=!0)},o(i){U(t.$$.fragment,i),e=!1},d(i){Oe(t,i)}}}function Le(s){let t,e,i;return{c(){t=j("g"),e=j("rect"),i=j("rect"),this.h()},l(l){t=J(l,"g",{id:!0,class:!0});var n=P(t);e=J(n,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),P(e).forEach(w),i=J(n,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),P(i).forEach(w),n.forEach(w),this.h()},h(){c(e,"x","24"),c(e,"y","20"),c(e,"width","20"),c(e,"height","60"),c(e,"rx","5"),c(i,"x","56"),c(i,"y","20"),c(i,"width","20"),c(i,"height","60"),c(i,"rx","5"),c(t,"id","pause"),c(t,"class","svelte-1taah4r")},m(l,n){V(l,t,n),F(t,e),F(t,i)},d(l){l&&w(t)}}}function je(s){let t,e;return{c(){t=j("g"),e=j("path"),this.h()},l(i){t=J(i,"g",{id:!0,class:!0});var l=P(t);e=J(l,"path",{d:!0}),P(e).forEach(w),l.forEach(w),this.h()},h(){c(e,"d","M 34 25 v 50L 76 50 Z"),c(t,"id","play"),c(t,"class","svelte-1taah4r")},m(i,l){V(i,t,l),F(t,e)},d(i){i&&w(t)}}}function ie(s){let t,e;const i=s[31].caption,l=Ie(i,s,s[30],se);return{c(){t=D("figcaption"),l&&l.c(),this.h()},l(n){t=z(n,"FIGCAPTION",{class:!0});var u=P(t);l&&l.l(u),u.forEach(w),this.h()},h(){c(t,"class","caption svelte-1taah4r"),y(t,"cap_center",s[5])},m(n,u){V(n,t,u),l&&l.m(t,null),e=!0},p(n,u){l&&l.p&&(!e||u[0]&1073741824)&&Re(l,i,n,n[30],e?De(i,n[30],u,Ne):Ce(n[30]),se),(!e||u[0]&32)&&y(t,"cap_center",n[5])},i(n){e||(O(l,n),e=!0)},o(n){U(l,n),e=!1},d(n){n&&w(t),l&&l.d(n)}}}function Je(s){let t,e,i,l,n,u=`${100-s[13]}%`,b,r=`${s[14]}rem`,m;const a=[qe,Ye],E=[];function I(h,k){return h[4]?0:1}i=I(s),l=E[i]=a[i](s);let f=s[28].caption&&ie(s);return{c(){t=D("figure"),e=D("div"),l.c(),b=x(),f&&f.c(),this.h()},l(h){t=z(h,"FIGURE",{class:!0});var k=P(t);e=z(k,"DIV",{class:!0});var g=P(e);l.l(g),g.forEach(w),b=$(k),f&&f.l(k),k.forEach(w),this.h()},h(){c(e,"class",n="wrapper pseudo-border "+s[9]+" svelte-1taah4r"),y(e,"outline_off",s[15]),S(e,"--dim",u),c(t,"class","radius svelte-1taah4r"),y(t,"card",s[8]),y(t,"hovered",s[21]),y(t,"inset_shadow",s[16]),S(t,"--bg",s[10]),S(t,"--pad",r)},m(h,k){V(h,t,k),F(t,e),E[i].m(e,null),F(t,b),f&&f.m(t,null),m=!0},p(h,k){let g=i;i=I(h),i===g?E[i].p(h,k):(ee(),U(E[g],1,1,()=>{E[g]=null}),te(),l=E[i],l?l.p(h,k):(l=E[i]=a[i](h),l.c()),O(l,1),l.m(e,null)),(!m||k[0]&512&&n!==(n="wrapper pseudo-border "+h[9]+" svelte-1taah4r"))&&c(e,"class",n),(!m||k[0]&33280)&&y(e,"outline_off",h[15]),k[0]&8192&&u!==(u=`${100-h[13]}%`)&&S(e,"--dim",u),h[28].caption?f?(f.p(h,k),k[0]&268435456&&O(f,1)):(f=ie(h),f.c(),O(f,1),f.m(t,null)):f&&(ee(),U(f,1,1,()=>{f=null}),te()),(!m||k[0]&256)&&y(t,"card",h[8]),(!m||k[0]&2097152)&&y(t,"hovered",h[21]),(!m||k[0]&65536)&&y(t,"inset_shadow",h[16]),k[0]&1024&&S(t,"--bg",h[10]),k[0]&16384&&r!==(r=`${h[14]}rem`)&&S(t,"--pad",r)},i(h){m||(O(l),O(f),m=!0)},o(h){U(l),U(f),m=!1},d(h){h&&w(t),E[i].d(),f&&f.d()}}}function Ze(s,t,e){let i;Se(s,Ve,o=>e(39,i=o));let{$$slots:l={},$$scope:n}=t;const u=Ee(l),b=window.matchMedia("(prefers-reduced-motion: reduce)").matches==!0;let{src:r=""}=t,{ext:m=r.split(".")[1]}=t,{codecs:a="hevc1"}=t,{t:E="#t=0.01"}=t,{autoplay:I=!0}=t,{controls:f=!0}=t,{cap_center:h=!0}=t,{width:k="100%"}=t,{height:g="auto"}=t,{card:p=!1}=t,{radius_type:R="all"}=t,{background:C="var(--grey-0)"}=t,{controlsBg:_="#0002"}=t,{controlsSize:v=32}=t,{dim:W=0}=t,{pad:T=0}=t,{outline_off:N=!1}=t,{inset_shadow:Y=!0}=t,B,d,A,X,Z=!1,q=!1;const L={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let G;re(()=>{if(i==!0){let o=r.split(".")[0]+".webm";e(0,r=o),e(1,m="webm"),e(2,a="vp9")}G=void 0,b&&e(3,I=!1),I||(e(20,X=!0),e(0,r=r+E))}),Pe(()=>{G&&(clearInterval(G),G=void 0)});const ue=o=>{if(!d||o.type!=="touchmove"&&!(o.buttons&1))return;o.target.setPointerCapture(o.pointerId);const Q=o.type==="touchmove"?o.touches[0].clientX:o.clientX,{width:ye}=B.getBoundingClientRect();e(19,A=Te(L.initialProgress+(Q-L.initialPosition)/ye,.01,.99)),e(17,B.currentTime=d*A,B)},fe=o=>{B.pause();const Q=o.type==="touchmove"?o.touches[0].clientX:o.clientX;e(22,q=!0),L.paused_before=!!X,L.initialPosition=Q,L.initialProgress=B.currentTime/d},_e=o=>{e(22,q=!1),L.paused_before||B.play()},he=o=>{e(21,Z=!0),(!q||!X)&&(G=setInterval(ge,10))},de=o=>{e(21,Z=!1),G&&clearInterval(G),G=void 0};function ge(){e(19,A=B.currentTime/d)}function me(o){ze.call(this,s,o)}const be=()=>e(20,X=!X);function ke(o){ne[o?"unshift":"push"](()=>{B=o,e(17,B)})}function ve(){d=this.duration,e(18,d)}function we(){X=this.paused,e(20,X)}return s.$$set=o=>{"src"in o&&e(0,r=o.src),"ext"in o&&e(1,m=o.ext),"codecs"in o&&e(2,a=o.codecs),"t"in o&&e(29,E=o.t),"autoplay"in o&&e(3,I=o.autoplay),"controls"in o&&e(4,f=o.controls),"cap_center"in o&&e(5,h=o.cap_center),"width"in o&&e(6,k=o.width),"height"in o&&e(7,g=o.height),"card"in o&&e(8,p=o.card),"radius_type"in o&&e(9,R=o.radius_type),"background"in o&&e(10,C=o.background),"controlsBg"in o&&e(11,_=o.controlsBg),"controlsSize"in o&&e(12,v=o.controlsSize),"dim"in o&&e(13,W=o.dim),"pad"in o&&e(14,T=o.pad),"outline_off"in o&&e(15,N=o.outline_off),"inset_shadow"in o&&e(16,Y=o.inset_shadow),"$$scope"in o&&e(30,n=o.$$scope)},[r,m,a,I,f,h,k,g,p,R,C,_,v,W,T,N,Y,B,d,A,X,Z,q,ue,fe,_e,he,de,u,E,n,l,me,be,ke,ve,we]}class $e extends ae{constructor(t){super(),ce(this,t,Ze,Je,oe,{src:0,ext:1,codecs:2,t:29,autoplay:3,controls:4,cap_center:5,width:6,height:7,card:8,radius_type:9,background:10,controlsBg:11,controlsSize:12,dim:13,pad:14,outline_off:15,inset_shadow:16},null,[-1,-1])}}export{$e as G,Ue as R};
