import{s as re,f as D,g as z,h as P,d as w,j as c,r as y,k as E,i as A,u as F,v as Q,o as ne,p as fe,a as $,c as ee,y as Se,V as Pe,W as Ie,A as Re,B as Ce,C as De,D as ze,X as Fe,P as p,I as Z,J as H,z as Be,F as M,Y as Ve,O as We}from"./scheduler.8d84c197.js";import{S as ce,i as ue,g as te,t as U,c as se,a as O,b as Xe,d as Me,m as Oe,e as Te}from"./index.5e028736.js";import{c as Ae}from"./utils.f0ccaf0a.js";import{u as Ge}from"./stores.0eb9cb15.js";function Ue(s){let t,e;return{c(){t=D("div"),e=D("canvas"),this.h()},l(i){t=z(i,"DIV",{style:!0,class:!0});var l=P(t);e=z(l,"CANVAS",{width:!0,height:!0,class:!0}),P(e).forEach(w),l.forEach(w),this.h()},h(){c(e,"width",s[1]),c(e,"height",s[1]),c(e,"class","svelte-hfkcg"),y(e,"seeking",s[2]),y(e,"fillSpace",s[3]),E(t,"--s",1/s[0]),E(t,"--bg-color",s[4]),c(t,"class","svelte-hfkcg")},m(i,l){A(i,t,l),F(t,e),s[13](e)},p(i,[l]){l&2&&c(e,"width",i[1]),l&2&&c(e,"height",i[1]),l&4&&y(e,"seeking",i[2]),l&8&&y(e,"fillSpace",i[3]),l&1&&E(t,"--s",1/i[0]),l&16&&E(t,"--bg-color",i[4])},i:Q,o:Q,d(i){i&&w(t),s[13](null)}}}function Ne(s,t,e){let i;const l=Math.PI*2;let{percent:f=0}=t,{size:h}=t,{seeking:d}=t,{scaleFactor:o=1}=t,v,n,{use_DPR:I=!0}=t,{use_decimal:m=!0}=t,{fillSpace:g=!1}=t,{bgColor:u="#0004"}=t,{colorFill:S="#b8b7b5"}=t,{colorStroke:T="#fff4"}=t;const b=h/8,C=h/2,W=(h-b*1.1)/2,R=b*.7,a=h*.25,k=b*.9,B={offsetX:C-a-1.3*b,offsetY:-.5*k,outlineW:b*.05};ne(()=>{I?e(0,o=window.devicePixelRatio*2):e(0,o=1),e(5,v.width=Math.floor(h*o),v),e(5,v.height=Math.floor(h*o),v),e(11,n=v.getContext("2d")),n.scale(o,o),n.rotate(Math.PI/2*3),n.translate(-h,0)});const N=_=>{n.save(),n.beginPath(),n.translate(C,C),n.rotate(_),n.roundRect(B.offsetX,B.offsetY,a,k,k),n.fill(),e(11,n.lineWidth=B.outlineW,n),n.stroke(),n.restore()},Y=(_,V,L,X,j)=>{n.clearRect(0,0,h,h),n.beginPath(),n.arc(C,C,W,0,l,!0),e(11,n.strokeStyle=L,n),e(11,n.lineWidth=X,n),n.stroke(),n.beginPath(),n.arc(C,C,W,0,j,!1),e(11,n.strokeStyle=V,n),e(11,n.lineCap="round",n),e(11,n.lineWidth=R,n),n.stroke(),_&&(e(11,n.fillStyle=V,n),e(11,n.strokeStyle=V,n),N(j))};function q(_){fe[_?"unshift":"push"](()=>{v=_,e(5,v)})}return s.$$set=_=>{"percent"in _&&e(6,f=_.percent),"size"in _&&e(1,h=_.size),"seeking"in _&&e(2,d=_.seeking),"scaleFactor"in _&&e(0,o=_.scaleFactor),"use_DPR"in _&&e(7,I=_.use_DPR),"use_decimal"in _&&e(8,m=_.use_decimal),"fillSpace"in _&&e(3,g=_.fillSpace),"bgColor"in _&&e(4,u=_.bgColor),"colorFill"in _&&e(9,S=_.colorFill),"colorStroke"in _&&e(10,T=_.colorStroke)},s.$$.update=()=>{s.$$.dirty&320&&e(12,i=m?f*l:f/100*l),s.$$.dirty&7684&&n&&Y(d,S,T,b,i)},[o,h,d,g,u,v,f,I,m,S,T,n,i,q]}class Ye extends ce{constructor(t){super(),ue(this,t,Ne,Ue,re,{percent:6,size:1,seeking:2,scaleFactor:0,use_DPR:7,use_decimal:8,fillSpace:3,bgColor:4,colorFill:9,colorStroke:10})}}const qe=s=>({}),le=s=>({});function Le(s){let t,e,i,l,f,h;return{c(){t=D("div"),e=D("video"),i=D("source"),this.h()},l(d){t=z(d,"DIV",{class:!0});var o=P(t);e=z(o,"VIDEO",{style:!0,class:!0});var v=P(e);i=z(v,"SOURCE",{src:!0,type:!0}),v.forEach(w),o.forEach(w),this.h()},h(){p(i.src,l=s[0])||c(i,"src",l),c(i,"type",f="video/"+s[1]+"; "+s[2]),e.autoplay=!0,e.loop=!0,e.playsInline=!0,e.muted=!0,E(e,"--width",s[6]),E(e,"--height",s[7]),c(e,"class","svelte-1r7df7b"),y(e,"dim",s[13]),c(t,"class",h="pseudo-border "+s[9]+" svelte-1r7df7b"),y(t,"outline_off",s[16])},m(d,o){A(d,t,o),F(t,e),F(e,i)},p(d,o){o[0]&1&&!p(i.src,l=d[0])&&c(i,"src",l),o[0]&6&&f!==(f="video/"+d[1]+"; "+d[2])&&c(i,"type",f),o[0]&64&&E(e,"--width",d[6]),o[0]&128&&E(e,"--height",d[7]),o[0]&8192&&y(e,"dim",d[13]),o[0]&512&&h!==(h="pseudo-border "+d[9]+" svelte-1r7df7b")&&c(t,"class",h),o[0]&66048&&y(t,"outline_off",d[16])},i:Q,o:Q,d(d){d&&w(t)}}}function je(s){let t,e,i,l,f=`${s[12]}px`,h,d,o,v,n,I,m=!0,g,u,S,T,b=s[22]&&ie(s);function C(a,k){return a[21]?Ze:Je}let W=C(s),R=W(s);return{c(){t=D("button"),e=D("div"),b&&b.c(),i=$(),l=Z("svg"),R.c(),h=$(),d=D("div"),o=D("video"),v=D("source"),this.h()},l(a){t=z(a,"BUTTON",{class:!0});var k=P(t);e=z(k,"DIV",{class:!0});var B=P(e);b&&b.l(B),i=ee(B),l=H(B,"svg",{viewBox:!0,id:!0,width:!0,height:!0,class:!0});var N=P(l);R.l(N),N.forEach(w),B.forEach(w),k.forEach(w),h=ee(a),d=z(a,"DIV",{class:!0});var Y=P(d);o=z(Y,"VIDEO",{style:!0,class:!0});var q=P(o);v=z(q,"SOURCE",{src:!0,type:!0}),q.forEach(w),Y.forEach(w),this.h()},h(){c(l,"viewBox","0 0 100 100"),c(l,"id","logos"),c(l,"width","50"),c(l,"height","50"),c(l,"class","svelte-1r7df7b"),y(l,"seeking",s[23]),y(l,"hovered",s[22]),c(e,"class","ui-elements pseudo-border svelte-1r7df7b"),c(t,"class","controls svelte-1r7df7b"),E(t,"--size",f),E(t,"--controls-bg",s[11]),p(v.src,n=s[0])||c(v,"src",n),c(v,"type",I="video/"+s[1]+"; "+s[2]),o.autoplay=s[3],o.loop=!0,o.playsInline=!0,o.muted=!0,E(o,"--width",s[6]),E(o,"--height",s[7]),c(o,"class","svelte-1r7df7b"),s[19]===void 0&&Be(()=>s[36].call(o)),y(o,"dim",s[13]),c(d,"class",g="pseudo-border "+s[9]+" svelte-1r7df7b"),y(d,"outline_off",s[16])},m(a,k){A(a,t,k),F(t,e),b&&b.m(e,null),F(e,i),F(e,l),R.m(l,null),A(a,h,k),A(a,d,k),F(d,o),F(o,v),s[35](o),u=!0,S||(T=[M(t,"click",s[34]),M(o,"pointerenter",s[27]),M(o,"pointerleave",s[28]),M(o,"pointerdown",s[25]),M(o,"pointermove",s[24]),M(o,"pointerup",s[26]),M(o,"touchstart",Ve(s[33])),M(o,"durationchange",s[36]),M(o,"play",s[37]),M(o,"pause",s[37])],S=!0)},p(a,k){a[22]?b?(b.p(a,k),k[0]&4194304&&O(b,1)):(b=ie(a),b.c(),O(b,1),b.m(e,i)):b&&(te(),U(b,1,1,()=>{b=null}),se()),W!==(W=C(a))&&(R.d(1),R=W(a),R&&(R.c(),R.m(l,null))),(!u||k[0]&8388608)&&y(l,"seeking",a[23]),(!u||k[0]&4194304)&&y(l,"hovered",a[22]),k[0]&4096&&f!==(f=`${a[12]}px`)&&E(t,"--size",f),k[0]&2048&&E(t,"--controls-bg",a[11]),(!u||k[0]&1&&!p(v.src,n=a[0]))&&c(v,"src",n),(!u||k[0]&6&&I!==(I="video/"+a[1]+"; "+a[2]))&&c(v,"type",I),(!u||k[0]&8)&&(o.autoplay=a[3]),(!u||k[0]&64)&&E(o,"--width",a[6]),(!u||k[0]&128)&&E(o,"--height",a[7]),k[0]&2097152&&m!==(m=a[21])&&o[m?"pause":"play"](),(!u||k[0]&8192)&&y(o,"dim",a[13]),(!u||k[0]&512&&g!==(g="pseudo-border "+a[9]+" svelte-1r7df7b"))&&c(d,"class",g),(!u||k[0]&66048)&&y(d,"outline_off",a[16])},i(a){u||(O(b),u=!0)},o(a){U(b),u=!1},d(a){a&&(w(t),w(h),w(d)),b&&b.d(),R.d(),s[35](null),S=!1,We(T)}}}function ie(s){let t,e;return t=new Ye({props:{size:s[12],percent:s[20],seeking:s[23]}}),{c(){Xe(t.$$.fragment)},l(i){Me(t.$$.fragment,i)},m(i,l){Oe(t,i,l),e=!0},p(i,l){const f={};l[0]&4096&&(f.size=i[12]),l[0]&1048576&&(f.percent=i[20]),l[0]&8388608&&(f.seeking=i[23]),t.$set(f)},i(i){e||(O(t.$$.fragment,i),e=!0)},o(i){U(t.$$.fragment,i),e=!1},d(i){Te(t,i)}}}function Je(s){let t,e,i;return{c(){t=Z("g"),e=Z("rect"),i=Z("rect"),this.h()},l(l){t=H(l,"g",{id:!0,class:!0});var f=P(t);e=H(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),P(e).forEach(w),i=H(f,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),P(i).forEach(w),f.forEach(w),this.h()},h(){c(e,"x","24"),c(e,"y","20"),c(e,"width","20"),c(e,"height","60"),c(e,"rx","5"),c(i,"x","56"),c(i,"y","20"),c(i,"width","20"),c(i,"height","60"),c(i,"rx","5"),c(t,"id","pause"),c(t,"class","svelte-1r7df7b")},m(l,f){A(l,t,f),F(t,e),F(t,i)},d(l){l&&w(t)}}}function Ze(s){let t,e;return{c(){t=Z("g"),e=Z("path"),this.h()},l(i){t=H(i,"g",{id:!0,class:!0});var l=P(t);e=H(l,"path",{d:!0}),P(e).forEach(w),l.forEach(w),this.h()},h(){c(e,"d","M 34 25 v 50L 76 50 Z"),c(t,"id","play"),c(t,"class","svelte-1r7df7b")},m(i,l){A(i,t,l),F(t,e)},d(i){i&&w(t)}}}function oe(s){let t,e;const i=s[32].caption,l=Re(i,s,s[31],le);return{c(){t=D("figcaption"),l&&l.c(),this.h()},l(f){t=z(f,"FIGCAPTION",{class:!0});var h=P(t);l&&l.l(h),h.forEach(w),this.h()},h(){c(t,"class","caption svelte-1r7df7b"),y(t,"cap_center",s[5])},m(f,h){A(f,t,h),l&&l.m(t,null),e=!0},p(f,h){l&&l.p&&(!e||h[1]&1)&&Ce(l,i,f,f[31],e?ze(i,f[31],h,qe):De(f[31]),le),(!e||h[0]&32)&&y(t,"cap_center",f[5])},i(f){e||(O(l,f),e=!0)},o(f){U(l,f),e=!1},d(f){f&&w(t),l&&l.d(f)}}}function He(s){let t,e,i,l,f=`${100-s[13]}%`,h,d=`${s[14]}rem`,o;const v=[je,Le],n=[];function I(g,u){return g[4]?0:1}i=I(s),l=n[i]=v[i](s);let m=s[29].caption&&oe(s);return{c(){t=D("figure"),e=D("div"),l.c(),h=$(),m&&m.c(),this.h()},l(g){t=z(g,"FIGURE",{class:!0});var u=P(t);e=z(u,"DIV",{class:!0});var S=P(e);l.l(S),S.forEach(w),h=ee(u),m&&m.l(u),u.forEach(w),this.h()},h(){c(e,"class","wrapper radius svelte-1r7df7b"),E(e,"--dim",f),c(t,"class","svelte-1r7df7b"),y(t,"card",s[8]),y(t,"inset_shadow",s[17]),y(t,"hovered",s[22]),E(t,"--bg",s[10]),E(t,"--pad",d),E(t,"--inner-radius",s[15])},m(g,u){A(g,t,u),F(t,e),n[i].m(e,null),F(t,h),m&&m.m(t,null),o=!0},p(g,u){let S=i;i=I(g),i===S?n[i].p(g,u):(te(),U(n[S],1,1,()=>{n[S]=null}),se(),l=n[i],l?l.p(g,u):(l=n[i]=v[i](g),l.c()),O(l,1),l.m(e,null)),u[0]&8192&&f!==(f=`${100-g[13]}%`)&&E(e,"--dim",f),g[29].caption?m?(m.p(g,u),u[0]&536870912&&O(m,1)):(m=oe(g),m.c(),O(m,1),m.m(t,null)):m&&(te(),U(m,1,1,()=>{m=null}),se()),(!o||u[0]&256)&&y(t,"card",g[8]),(!o||u[0]&131072)&&y(t,"inset_shadow",g[17]),(!o||u[0]&4194304)&&y(t,"hovered",g[22]),u[0]&1024&&E(t,"--bg",g[10]),u[0]&16384&&d!==(d=`${g[14]}rem`)&&E(t,"--pad",d),u[0]&32768&&E(t,"--inner-radius",g[15])},i(g){o||(O(l),O(m),o=!0)},o(g){U(l),U(m),o=!1},d(g){g&&w(t),n[i].d(),m&&m.d()}}}function Ke(s,t,e){let i;Se(s,Ge,r=>e(40,i=r));let{$$slots:l={},$$scope:f}=t;const h=Pe(l),d=window.matchMedia("(prefers-reduced-motion: reduce)").matches==!0;let{src:o=""}=t,{ext:v=o.split(".")[1]}=t,{codecs:n="hevc1"}=t,{t:I="#t=0.01"}=t,{autoplay:m=!0}=t,{controls:g=!0}=t,{cap_center:u=!0}=t,{width:S="100%"}=t,{height:T="auto"}=t,{card:b=!1}=t,{radius_type:C="all"}=t,{background:W="var(--grey-0)"}=t,{controlsBg:R="#0002"}=t,{controlsSize:a=32}=t,{dim:k=0}=t,{pad:B=0}=t,{inner_radius:N="var(--space-3xs)"}=t,{outline_off:Y=!1}=t,{inset_shadow:q=!1}=t,_,V,L,X,j=!1,K=!1;const J={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let G;ne(()=>{if(i==!0){let r=o.split(".")[0]+".webm";e(0,o=r),e(1,v="webm"),e(2,n="vp9")}G=void 0,d&&e(3,m=!1),m||(e(21,X=!0),e(0,o=o+I))}),Ie(()=>{G&&(clearInterval(G),G=void 0)});const ae=r=>{if(!V||r.type!=="touchmove"&&!(r.buttons&1))return;r.target.setPointerCapture(r.pointerId);const x=r.type==="touchmove"?r.touches[0].clientX:r.clientX,{width:Ee}=_.getBoundingClientRect();e(20,L=Ae(J.initialProgress+(x-J.initialPosition)/Ee,.01,.99)),e(18,_.currentTime=V*L,_)},_e=r=>{_.pause();const x=r.type==="touchmove"?r.touches[0].clientX:r.clientX;e(23,K=!0),J.paused_before=!!X,J.initialPosition=x,J.initialProgress=_.currentTime/V},he=r=>{e(23,K=!1),J.paused_before||_.play()},de=r=>{e(22,j=!0),(!K||!X)&&(G=setInterval(me,10))},ge=r=>{e(22,j=!1),G&&clearInterval(G),G=void 0};function me(){e(20,L=_.currentTime/V)}function be(r){Fe.call(this,s,r)}const ke=()=>e(21,X=!X);function ve(r){fe[r?"unshift":"push"](()=>{_=r,e(18,_)})}function we(){V=this.duration,e(19,V)}function ye(){X=this.paused,e(21,X)}return s.$$set=r=>{"src"in r&&e(0,o=r.src),"ext"in r&&e(1,v=r.ext),"codecs"in r&&e(2,n=r.codecs),"t"in r&&e(30,I=r.t),"autoplay"in r&&e(3,m=r.autoplay),"controls"in r&&e(4,g=r.controls),"cap_center"in r&&e(5,u=r.cap_center),"width"in r&&e(6,S=r.width),"height"in r&&e(7,T=r.height),"card"in r&&e(8,b=r.card),"radius_type"in r&&e(9,C=r.radius_type),"background"in r&&e(10,W=r.background),"controlsBg"in r&&e(11,R=r.controlsBg),"controlsSize"in r&&e(12,a=r.controlsSize),"dim"in r&&e(13,k=r.dim),"pad"in r&&e(14,B=r.pad),"inner_radius"in r&&e(15,N=r.inner_radius),"outline_off"in r&&e(16,Y=r.outline_off),"inset_shadow"in r&&e(17,q=r.inset_shadow),"$$scope"in r&&e(31,f=r.$$scope)},[o,v,n,m,g,u,S,T,b,C,W,R,a,k,B,N,Y,q,_,V,L,X,j,K,ae,_e,he,de,ge,h,I,f,l,be,ke,ve,we,ye]}class et extends ce{constructor(t){super(),ue(this,t,Ke,He,re,{src:0,ext:1,codecs:2,t:30,autoplay:3,controls:4,cap_center:5,width:6,height:7,card:8,radius_type:9,background:10,controlsBg:11,controlsSize:12,dim:13,pad:14,inner_radius:15,outline_off:16,inset_shadow:17},null,[-1,-1])}}export{et as G,Ye as R};
