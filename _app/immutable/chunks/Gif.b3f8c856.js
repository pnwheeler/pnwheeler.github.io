import{s as re,f as B,g as W,h as C,d as S,j as n,r as P,k as v,i as q,u as D,v as K,o as ne,p as ae,a as $,c as ee,y as Pe,W as Ee,X as Ie,z as Re,A as Ce,B as ze,C as De,S as Fe,P as Q,I as J,J as Z,D as pe,F as M,Y as Be,O as We}from"./scheduler.15fae3ce.js";import{S as ce,i as ue,g as te,t as N,c as se,a as O,b as Xe,d as Me,m as Oe,e as Te}from"./index.884423c8.js";import{c as Ae}from"./utils.849c5a30.js";import{u as Ve}from"./stores.0ea024a5.js";function Ge(s){let t,e;return{c(){t=B("div"),e=B("canvas"),this.h()},l(o){t=W(o,"DIV",{style:!0,class:!0});var i=C(t);e=W(i,"CANVAS",{width:!0,height:!0,class:!0}),C(e).forEach(S),i.forEach(S),this.h()},h(){n(e,"width",s[1]),n(e,"height",s[1]),n(e,"class","svelte-hfkcg"),P(e,"seeking",s[2]),P(e,"fillSpace",s[3]),v(t,"--s",1/s[0]),v(t,"--bg-color",s[4]),n(t,"class","svelte-hfkcg")},m(o,i){q(o,t,i),D(t,e),s[13](e)},p(o,[i]){i&2&&n(e,"width",o[1]),i&2&&n(e,"height",o[1]),i&4&&P(e,"seeking",o[2]),i&8&&P(e,"fillSpace",o[3]),i&1&&v(t,"--s",1/o[0]),i&16&&v(t,"--bg-color",o[4])},i:K,o:K,d(o){o&&S(t),s[13](null)}}}function Ue(s,t,e){let o;const i=Math.PI*2;let{percent:r=0}=t,{size:u}=t,{seeking:I}=t,{scaleFactor:m=1}=t,b,a,{use_DPR:E=!0}=t,{use_decimal:c=!0}=t,{fillSpace:h=!1}=t,{bgColor:_="#0004"}=t,{colorFill:d="#b8b7b5"}=t,{colorStroke:R="#fff4"}=t;const y=u/8,z=u/2,T=(u-y*1.1)/2,w=y*.7,g=u*.25,k=y*.9,F={offsetX:z-g-1.3*y,offsetY:-.5*k,outlineW:y*.05};ne(()=>{E?e(0,m=window.devicePixelRatio*2):e(0,m=1),e(5,b.width=Math.floor(u*m),b),e(5,b.height=Math.floor(u*m),b),e(11,a=b.getContext("2d")),a.scale(m,m),a.rotate(Math.PI/2*3),a.translate(-u,0)});const A=f=>{a.save(),a.beginPath(),a.translate(z,z),a.rotate(f),a.roundRect(F.offsetX,F.offsetY,g,k,k),a.fill(),e(11,a.lineWidth=F.outlineW,a),a.stroke(),a.restore()},Y=(f,p,L,X,j)=>{a.clearRect(0,0,u,u),a.beginPath(),a.arc(z,z,T,0,i,!0),e(11,a.strokeStyle=L,a),e(11,a.lineWidth=X,a),a.stroke(),a.beginPath(),a.arc(z,z,T,0,j,!1),e(11,a.strokeStyle=p,a),e(11,a.lineCap="round",a),e(11,a.lineWidth=w,a),a.stroke(),f&&(e(11,a.fillStyle=p,a),e(11,a.strokeStyle=p,a),A(j))};function V(f){ae[f?"unshift":"push"](()=>{b=f,e(5,b)})}return s.$$set=f=>{"percent"in f&&e(6,r=f.percent),"size"in f&&e(1,u=f.size),"seeking"in f&&e(2,I=f.seeking),"scaleFactor"in f&&e(0,m=f.scaleFactor),"use_DPR"in f&&e(7,E=f.use_DPR),"use_decimal"in f&&e(8,c=f.use_decimal),"fillSpace"in f&&e(3,h=f.fillSpace),"bgColor"in f&&e(4,_=f.bgColor),"colorFill"in f&&e(9,d=f.colorFill),"colorStroke"in f&&e(10,R=f.colorStroke)},s.$$.update=()=>{s.$$.dirty&320&&e(12,o=c?r*i:r/100*i),s.$$.dirty&7684&&a&&Y(I,d,R,y,o)},[m,u,I,h,_,b,r,E,c,d,R,a,o,V]}class Ne extends ce{constructor(t){super(),ue(this,t,Ue,Ge,re,{percent:6,size:1,seeking:2,scaleFactor:0,use_DPR:7,use_decimal:8,fillSpace:3,bgColor:4,colorFill:9,colorStroke:10})}}const Ye=s=>({}),ie=s=>({});function qe(s){let t,e,o,i;return{c(){t=B("video"),e=B("source"),this.h()},l(r){t=W(r,"VIDEO",{tabindex:!0,"x-webkit-wirelessvideoplaybackdisabled":!0,disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var u=C(t);e=W(u,"SOURCE",{src:!0,type:!0}),u.forEach(S),this.h()},h(){Q(e.src,o=s[0])||n(e,"src",o),n(e,"type",i="video/"+s[1]+"; "+s[2]),n(t,"tabindex","-1"),n(t,"x-webkit-wirelessvideoplaybackdisabled",""),n(t,"disableremoteplayback",""),t.autoplay=!0,t.loop=!0,t.playsInline=!0,t.muted=!0,n(t,"disablepictureinpicture",""),v(t,"--width",s[6]),v(t,"--height",s[7]),n(t,"class","svelte-1166x05"),P(t,"dim",s[14])},m(r,u){q(r,t,u),D(t,e)},p(r,u){u[0]&1&&!Q(e.src,o=r[0])&&n(e,"src",o),u[0]&6&&i!==(i="video/"+r[1]+"; "+r[2])&&n(e,"type",i),u[0]&64&&v(t,"--width",r[6]),u[0]&128&&v(t,"--height",r[7]),u[0]&16384&&P(t,"dim",r[14])},i:K,o:K,d(r){r&&S(t)}}}function Le(s){let t,e,o,i,r,u,I,m,b,a=`${s[13]}px`,E,c,h,_,d,R=!0,y,z,T,w=s[22]&&le(s);return{c(){t=B("button"),e=B("div"),w&&w.c(),o=$(),i=J("svg"),r=J("g"),u=J("path"),I=J("g"),m=J("rect"),b=J("rect"),E=$(),c=B("video"),h=B("source"),this.h()},l(g){t=W(g,"BUTTON",{class:!0});var k=C(t);e=W(k,"DIV",{class:!0});var F=C(e);w&&w.l(F),o=ee(F),i=Z(F,"svg",{viewBox:!0,id:!0,width:!0,height:!0,class:!0});var A=C(i);r=Z(A,"g",{id:!0,class:!0});var Y=C(r);u=Z(Y,"path",{d:!0}),C(u).forEach(S),Y.forEach(S),I=Z(A,"g",{id:!0,class:!0});var V=C(I);m=Z(V,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),C(m).forEach(S),b=Z(V,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),C(b).forEach(S),V.forEach(S),A.forEach(S),F.forEach(S),k.forEach(S),E=ee(g),c=W(g,"VIDEO",{tabindex:!0,"x-webkit-wirelessvideoplaybackdisabled":!0,disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var f=C(c);h=W(f,"SOURCE",{src:!0,type:!0}),f.forEach(S),this.h()},h(){n(u,"d","M 33 24 v 51L 77 50 Z"),n(r,"id","play"),n(r,"class","svelte-1166x05"),n(m,"x","23"),n(m,"y","19"),n(m,"width","20.5"),n(m,"height","62"),n(m,"rx","5"),n(b,"x","56.5"),n(b,"y","19"),n(b,"width","20.5"),n(b,"height","62"),n(b,"rx","5"),n(I,"id","pause"),n(I,"class","svelte-1166x05"),n(i,"viewBox","0 0 100 100"),n(i,"id","logos"),n(i,"width","30px"),n(i,"height","30px"),n(i,"class","svelte-1166x05"),P(i,"seeking",s[23]),P(i,"paused",s[21]),n(e,"class","ui-elements pseudo-border svelte-1166x05"),n(t,"class","controls svelte-1166x05"),v(t,"--size",a),v(t,"--controls-bg",s[12]),Q(h.src,_=s[0])||n(h,"src",_),n(h,"type",d="video/"+s[1]+"; "+s[2]),n(c,"tabindex","-1"),c.autoplay=s[3],n(c,"x-webkit-wirelessvideoplaybackdisabled",""),n(c,"disableremoteplayback",""),c.loop=!0,c.playsInline=!0,c.muted=!0,n(c,"disablepictureinpicture",""),v(c,"--width",s[6]),v(c,"--height",s[7]),n(c,"class","svelte-1166x05"),s[19]===void 0&&pe(()=>s[36].call(c)),P(c,"dim",s[14])},m(g,k){q(g,t,k),D(t,e),w&&w.m(e,null),D(e,o),D(e,i),D(i,r),D(r,u),D(i,I),D(I,m),D(I,b),q(g,E,k),q(g,c,k),D(c,h),s[35](c),y=!0,z||(T=[M(t,"click",s[34]),M(c,"pointerenter",s[27]),M(c,"pointerleave",s[28]),M(c,"pointerdown",s[25]),M(c,"pointermove",s[24]),M(c,"pointerup",s[26]),M(c,"touchstart",Be(s[33])),M(c,"durationchange",s[36]),M(c,"play",s[37]),M(c,"pause",s[37])],z=!0)},p(g,k){g[22]?w?(w.p(g,k),k[0]&4194304&&O(w,1)):(w=le(g),w.c(),O(w,1),w.m(e,o)):w&&(te(),N(w,1,1,()=>{w=null}),se()),(!y||k[0]&8388608)&&P(i,"seeking",g[23]),(!y||k[0]&2097152)&&P(i,"paused",g[21]),k[0]&8192&&a!==(a=`${g[13]}px`)&&v(t,"--size",a),k[0]&4096&&v(t,"--controls-bg",g[12]),(!y||k[0]&1&&!Q(h.src,_=g[0]))&&n(h,"src",_),(!y||k[0]&6&&d!==(d="video/"+g[1]+"; "+g[2]))&&n(h,"type",d),(!y||k[0]&8)&&(c.autoplay=g[3]),(!y||k[0]&64)&&v(c,"--width",g[6]),(!y||k[0]&128)&&v(c,"--height",g[7]),k[0]&2097152&&R!==(R=g[21])&&c[R?"pause":"play"](),(!y||k[0]&16384)&&P(c,"dim",g[14])},i(g){y||(O(w),y=!0)},o(g){N(w),y=!1},d(g){g&&(S(t),S(E),S(c)),w&&w.d(),s[35](null),z=!1,We(T)}}}function le(s){let t,e;return t=new Ne({props:{size:s[13],percent:s[20],seeking:s[23]}}),{c(){Xe(t.$$.fragment)},l(o){Me(t.$$.fragment,o)},m(o,i){Oe(t,o,i),e=!0},p(o,i){const r={};i[0]&8192&&(r.size=o[13]),i[0]&1048576&&(r.percent=o[20]),i[0]&8388608&&(r.seeking=o[23]),t.$set(r)},i(o){e||(O(t.$$.fragment,o),e=!0)},o(o){N(t.$$.fragment,o),e=!1},d(o){Te(t,o)}}}function oe(s){let t,e;const o=s[32].caption,i=Re(o,s,s[31],ie);return{c(){t=B("figcaption"),i&&i.c(),this.h()},l(r){t=W(r,"FIGCAPTION",{class:!0});var u=C(t);i&&i.l(u),u.forEach(S),this.h()},h(){n(t,"class","caption svelte-1166x05"),P(t,"cap_center",s[5])},m(r,u){q(r,t,u),i&&i.m(t,null),e=!0},p(r,u){i&&i.p&&(!e||u[1]&1)&&Ce(i,o,r,r[31],e?De(o,r[31],u,Ye):ze(r[31]),ie),(!e||u[0]&32)&&P(t,"cap_center",r[5])},i(r){e||(O(i,r),e=!0)},o(r){N(i,r),e=!1},d(r){r&&S(t),i&&i.d(r)}}}function je(s){let t,e,o,i,r,u=`${100-s[14]}%`,I,m=`${s[15]}rem`,b;const a=[Le,qe],E=[];function c(_,d){return _[4]?0:1}o=c(s),i=E[o]=a[o](s);let h=s[29].caption&&oe(s);return{c(){t=B("figure"),e=B("div"),i.c(),I=$(),h&&h.c(),this.h()},l(_){t=W(_,"FIGURE",{class:!0});var d=C(t);e=W(d,"DIV",{class:!0});var R=C(e);i.l(R),R.forEach(S),I=ee(d),h&&h.l(d),d.forEach(S),this.h()},h(){n(e,"class",r="wrapper pseudo-border "+s[10]+" svelte-1166x05"),P(e,"outline_off",s[16]),v(e,"--dim",u),n(t,"class","radius svelte-1166x05"),P(t,"card",s[9]),P(t,"hovered",s[22]),P(t,"box_shadow",s[17]),v(t,"--bg",s[11]),v(t,"--pad",m),v(t,"--fit",s[8])},m(_,d){q(_,t,d),D(t,e),E[o].m(e,null),D(t,I),h&&h.m(t,null),b=!0},p(_,d){let R=o;o=c(_),o===R?E[o].p(_,d):(te(),N(E[R],1,1,()=>{E[R]=null}),se(),i=E[o],i?i.p(_,d):(i=E[o]=a[o](_),i.c()),O(i,1),i.m(e,null)),(!b||d[0]&1024&&r!==(r="wrapper pseudo-border "+_[10]+" svelte-1166x05"))&&n(e,"class",r),(!b||d[0]&66560)&&P(e,"outline_off",_[16]),d[0]&16384&&u!==(u=`${100-_[14]}%`)&&v(e,"--dim",u),_[29].caption?h?(h.p(_,d),d[0]&536870912&&O(h,1)):(h=oe(_),h.c(),O(h,1),h.m(t,null)):h&&(te(),N(h,1,1,()=>{h=null}),se()),(!b||d[0]&512)&&P(t,"card",_[9]),(!b||d[0]&4194304)&&P(t,"hovered",_[22]),(!b||d[0]&131072)&&P(t,"box_shadow",_[17]),d[0]&2048&&v(t,"--bg",_[11]),d[0]&32768&&m!==(m=`${_[15]}rem`)&&v(t,"--pad",m),d[0]&256&&v(t,"--fit",_[8])},i(_){b||(O(i),O(h),b=!0)},o(_){N(i),N(h),b=!1},d(_){_&&S(t),E[o].d(),h&&h.d()}}}function Je(s,t,e){let o;Pe(s,Ve,l=>e(40,o=l));let{$$slots:i={},$$scope:r}=t;const u=Ee(i),I=window.matchMedia("(prefers-reduced-motion: reduce)").matches==!0;let{src:m=""}=t,{ext:b=m.split(".")[1]}=t,{codecs:a="hevc1"}=t,{t:E="#t=0.01"}=t,{autoplay:c=!0}=t,{controls:h=!0}=t,{cap_center:_=!0}=t,{width:d="100%"}=t,{height:R="auto"}=t,{fit:y="cover"}=t,{card:z=!1}=t,{radius_type:T="all"}=t,{background:w="var(--grey-0)"}=t,{controlsBg:g="#0002"}=t,{controlsSize:k=32}=t,{dim:F=0}=t,{pad:A=0}=t,{outline_off:Y=!1}=t,{box_shadow:V=!0}=t,f,p,L,X,j=!1,H=!1;const G={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let U;ne(()=>{if(o==!0){let l=m.split(".")[0]+".webm";e(0,m=l),e(1,b="webm"),e(2,a="vp9")}U=void 0,I&&e(3,c=!1),c||(e(21,X=!0),e(0,m=m+E))}),Ie(()=>{U&&(clearInterval(U),U=void 0)});function fe(l){if(!p||l.type!=="touchmove"&&!(l.buttons&1))return;l.target.setPointerCapture(l.pointerId);const x=l.type==="touchmove"?l.touches[0].clientX:l.clientX;e(20,L=Ae(G.initialProgress+(x-G.initialPosition)/G.width,.01,.99)),e(18,f.currentTime=p*L,f)}function _e(l){G.paused_before=!!X,f.pause(),e(23,H=!0);const x=l.type==="touchmove"?l.touches[0].clientX:l.clientX;G.initialPosition=x,G.initialProgress=f.currentTime/p;const{width:Se}=f.getBoundingClientRect();G.width=Se}const he=l=>{e(23,H=!1),G.paused_before||f.play()},de=l=>{e(22,j=!0),(!H||!X)&&(U=setInterval(be,8.33))},ge=l=>{e(22,j=!1),U&&clearInterval(U),U=void 0};function be(){e(20,L=f.currentTime/p)}function me(l){Fe.call(this,s,l)}const ke=()=>e(21,X=!X);function we(l){ae[l?"unshift":"push"](()=>{f=l,e(18,f)})}function ve(){p=this.duration,e(19,p)}function ye(){X=this.paused,e(21,X)}return s.$$set=l=>{"src"in l&&e(0,m=l.src),"ext"in l&&e(1,b=l.ext),"codecs"in l&&e(2,a=l.codecs),"t"in l&&e(30,E=l.t),"autoplay"in l&&e(3,c=l.autoplay),"controls"in l&&e(4,h=l.controls),"cap_center"in l&&e(5,_=l.cap_center),"width"in l&&e(6,d=l.width),"height"in l&&e(7,R=l.height),"fit"in l&&e(8,y=l.fit),"card"in l&&e(9,z=l.card),"radius_type"in l&&e(10,T=l.radius_type),"background"in l&&e(11,w=l.background),"controlsBg"in l&&e(12,g=l.controlsBg),"controlsSize"in l&&e(13,k=l.controlsSize),"dim"in l&&e(14,F=l.dim),"pad"in l&&e(15,A=l.pad),"outline_off"in l&&e(16,Y=l.outline_off),"box_shadow"in l&&e(17,V=l.box_shadow),"$$scope"in l&&e(31,r=l.$$scope)},[m,b,a,c,h,_,d,R,y,z,T,w,g,k,F,A,Y,V,f,p,L,X,j,H,fe,_e,he,de,ge,u,E,r,i,me,ke,we,ve,ye]}class xe extends ce{constructor(t){super(),ue(this,t,Je,je,re,{src:0,ext:1,codecs:2,t:30,autoplay:3,controls:4,cap_center:5,width:6,height:7,fit:8,card:9,radius_type:10,background:11,controlsBg:12,controlsSize:13,dim:14,pad:15,outline_off:16,box_shadow:17},null,[-1,-1])}}export{xe as G,Ne as R};
