import{s as re,f as B,g as W,h as C,d as S,j as u,r as P,k as y,i as q,u as D,v as K,o as ne,p as ue,a as $,c as ee,y as Pe,W as Ee,X as Ie,A as Re,B as Ce,C as ze,D as De,S as Fe,P as Q,I as J,J as Z,z as pe,F as M,Y as Be,O as We}from"./scheduler.6d6d93c7.js";import{S as ae,i as ce,g as te,t as N,c as se,a as O,b as Xe,d as Me,m as Oe,e as Te}from"./index.15fe4709.js";import{c as Ae}from"./utils.f0ccaf0a.js";import{u as Ve}from"./stores.8130cd92.js";function Ge(s){let t,e;return{c(){t=B("div"),e=B("canvas"),this.h()},l(o){t=W(o,"DIV",{style:!0,class:!0});var l=C(t);e=W(l,"CANVAS",{width:!0,height:!0,class:!0}),C(e).forEach(S),l.forEach(S),this.h()},h(){u(e,"width",s[1]),u(e,"height",s[1]),u(e,"class","svelte-hfkcg"),P(e,"seeking",s[2]),P(e,"fillSpace",s[3]),y(t,"--s",1/s[0]),y(t,"--bg-color",s[4]),u(t,"class","svelte-hfkcg")},m(o,l){q(o,t,l),D(t,e),s[13](e)},p(o,[l]){l&2&&u(e,"width",o[1]),l&2&&u(e,"height",o[1]),l&4&&P(e,"seeking",o[2]),l&8&&P(e,"fillSpace",o[3]),l&1&&y(t,"--s",1/o[0]),l&16&&y(t,"--bg-color",o[4])},i:K,o:K,d(o){o&&S(t),s[13](null)}}}function Ue(s,t,e){let o;const l=Math.PI*2;let{percent:r=0}=t,{size:c}=t,{seeking:I}=t,{scaleFactor:m=1}=t,b,n,{use_DPR:E=!0}=t,{use_decimal:a=!0}=t,{fillSpace:h=!1}=t,{bgColor:_="#0004"}=t,{colorFill:d="#b8b7b5"}=t,{colorStroke:R="#fff4"}=t;const v=c/8,z=c/2,T=(c-v*1.1)/2,w=v*.7,g=c*.25,k=v*.9,F={offsetX:z-g-1.3*v,offsetY:-.5*k,outlineW:v*.05};ne(()=>{E?e(0,m=window.devicePixelRatio*2):e(0,m=1),e(5,b.width=Math.floor(c*m),b),e(5,b.height=Math.floor(c*m),b),e(11,n=b.getContext("2d")),n.scale(m,m),n.rotate(Math.PI/2*3),n.translate(-c,0)});const A=f=>{n.save(),n.beginPath(),n.translate(z,z),n.rotate(f),n.roundRect(F.offsetX,F.offsetY,g,k,k),n.fill(),e(11,n.lineWidth=F.outlineW,n),n.stroke(),n.restore()},Y=(f,p,L,X,j)=>{n.clearRect(0,0,c,c),n.beginPath(),n.arc(z,z,T,0,l,!0),e(11,n.strokeStyle=L,n),e(11,n.lineWidth=X,n),n.stroke(),n.beginPath(),n.arc(z,z,T,0,j,!1),e(11,n.strokeStyle=p,n),e(11,n.lineCap="round",n),e(11,n.lineWidth=w,n),n.stroke(),f&&(e(11,n.fillStyle=p,n),e(11,n.strokeStyle=p,n),A(j))};function V(f){ue[f?"unshift":"push"](()=>{b=f,e(5,b)})}return s.$$set=f=>{"percent"in f&&e(6,r=f.percent),"size"in f&&e(1,c=f.size),"seeking"in f&&e(2,I=f.seeking),"scaleFactor"in f&&e(0,m=f.scaleFactor),"use_DPR"in f&&e(7,E=f.use_DPR),"use_decimal"in f&&e(8,a=f.use_decimal),"fillSpace"in f&&e(3,h=f.fillSpace),"bgColor"in f&&e(4,_=f.bgColor),"colorFill"in f&&e(9,d=f.colorFill),"colorStroke"in f&&e(10,R=f.colorStroke)},s.$$.update=()=>{s.$$.dirty&320&&e(12,o=a?r*l:r/100*l),s.$$.dirty&7684&&n&&Y(I,d,R,v,o)},[m,c,I,h,_,b,r,E,a,d,R,n,o,V]}class Ne extends ae{constructor(t){super(),ce(this,t,Ue,Ge,re,{percent:6,size:1,seeking:2,scaleFactor:0,use_DPR:7,use_decimal:8,fillSpace:3,bgColor:4,colorFill:9,colorStroke:10})}}const Ye=s=>({}),le=s=>({});function qe(s){let t,e,o,l;return{c(){t=B("video"),e=B("source"),this.h()},l(r){t=W(r,"VIDEO",{"x-webkit-wirelessvideoplaybackdisabled":!0,disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var c=C(t);e=W(c,"SOURCE",{src:!0,type:!0}),c.forEach(S),this.h()},h(){Q(e.src,o=s[0])||u(e,"src",o),u(e,"type",l="video/"+s[1]+"; "+s[2]),u(t,"x-webkit-wirelessvideoplaybackdisabled",""),u(t,"disableremoteplayback",""),t.autoplay=!0,t.loop=!0,t.playsInline=!0,t.muted=!0,u(t,"disablepictureinpicture",""),y(t,"--width",s[6]),y(t,"--height",s[7]),u(t,"class","svelte-791luy"),P(t,"dim",s[14])},m(r,c){q(r,t,c),D(t,e)},p(r,c){c[0]&1&&!Q(e.src,o=r[0])&&u(e,"src",o),c[0]&6&&l!==(l="video/"+r[1]+"; "+r[2])&&u(e,"type",l),c[0]&64&&y(t,"--width",r[6]),c[0]&128&&y(t,"--height",r[7]),c[0]&16384&&P(t,"dim",r[14])},i:K,o:K,d(r){r&&S(t)}}}function Le(s){let t,e,o,l,r,c,I,m,b,n=`${s[13]}px`,E,a,h,_,d,R=!0,v,z,T,w=s[22]&&ie(s);return{c(){t=B("button"),e=B("div"),w&&w.c(),o=$(),l=J("svg"),r=J("g"),c=J("path"),I=J("g"),m=J("rect"),b=J("rect"),E=$(),a=B("video"),h=B("source"),this.h()},l(g){t=W(g,"BUTTON",{class:!0});var k=C(t);e=W(k,"DIV",{class:!0});var F=C(e);w&&w.l(F),o=ee(F),l=Z(F,"svg",{viewBox:!0,id:!0,width:!0,height:!0,class:!0});var A=C(l);r=Z(A,"g",{id:!0,class:!0});var Y=C(r);c=Z(Y,"path",{d:!0}),C(c).forEach(S),Y.forEach(S),I=Z(A,"g",{id:!0,class:!0});var V=C(I);m=Z(V,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),C(m).forEach(S),b=Z(V,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),C(b).forEach(S),V.forEach(S),A.forEach(S),F.forEach(S),k.forEach(S),E=ee(g),a=W(g,"VIDEO",{"x-webkit-wirelessvideoplaybackdisabled":!0,disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var f=C(a);h=W(f,"SOURCE",{src:!0,type:!0}),f.forEach(S),this.h()},h(){u(c,"d","M 33 24 v 51L 77 50 Z"),u(r,"id","play"),u(r,"class","svelte-791luy"),u(m,"x","23"),u(m,"y","19"),u(m,"width","20.5"),u(m,"height","62"),u(m,"rx","5"),u(b,"x","56.5"),u(b,"y","19"),u(b,"width","20.5"),u(b,"height","62"),u(b,"rx","5"),u(I,"id","pause"),u(I,"class","svelte-791luy"),u(l,"viewBox","0 0 100 100"),u(l,"id","logos"),u(l,"width","30px"),u(l,"height","30px"),u(l,"class","svelte-791luy"),P(l,"seeking",s[23]),P(l,"paused",s[21]),u(e,"class","ui-elements pseudo-border svelte-791luy"),u(t,"class","controls svelte-791luy"),y(t,"--size",n),y(t,"--controls-bg",s[12]),Q(h.src,_=s[0])||u(h,"src",_),u(h,"type",d="video/"+s[1]+"; "+s[2]),a.autoplay=s[3],u(a,"x-webkit-wirelessvideoplaybackdisabled",""),u(a,"disableremoteplayback",""),a.loop=!0,a.playsInline=!0,a.muted=!0,u(a,"disablepictureinpicture",""),y(a,"--width",s[6]),y(a,"--height",s[7]),u(a,"class","svelte-791luy"),s[19]===void 0&&pe(()=>s[36].call(a)),P(a,"dim",s[14])},m(g,k){q(g,t,k),D(t,e),w&&w.m(e,null),D(e,o),D(e,l),D(l,r),D(r,c),D(l,I),D(I,m),D(I,b),q(g,E,k),q(g,a,k),D(a,h),s[35](a),v=!0,z||(T=[M(t,"click",s[34]),M(a,"pointerenter",s[27]),M(a,"pointerleave",s[28]),M(a,"pointerdown",s[25]),M(a,"pointermove",s[24]),M(a,"pointerup",s[26]),M(a,"touchstart",Be(s[33])),M(a,"durationchange",s[36]),M(a,"play",s[37]),M(a,"pause",s[37])],z=!0)},p(g,k){g[22]?w?(w.p(g,k),k[0]&4194304&&O(w,1)):(w=ie(g),w.c(),O(w,1),w.m(e,o)):w&&(te(),N(w,1,1,()=>{w=null}),se()),(!v||k[0]&8388608)&&P(l,"seeking",g[23]),(!v||k[0]&2097152)&&P(l,"paused",g[21]),k[0]&8192&&n!==(n=`${g[13]}px`)&&y(t,"--size",n),k[0]&4096&&y(t,"--controls-bg",g[12]),(!v||k[0]&1&&!Q(h.src,_=g[0]))&&u(h,"src",_),(!v||k[0]&6&&d!==(d="video/"+g[1]+"; "+g[2]))&&u(h,"type",d),(!v||k[0]&8)&&(a.autoplay=g[3]),(!v||k[0]&64)&&y(a,"--width",g[6]),(!v||k[0]&128)&&y(a,"--height",g[7]),k[0]&2097152&&R!==(R=g[21])&&a[R?"pause":"play"](),(!v||k[0]&16384)&&P(a,"dim",g[14])},i(g){v||(O(w),v=!0)},o(g){N(w),v=!1},d(g){g&&(S(t),S(E),S(a)),w&&w.d(),s[35](null),z=!1,We(T)}}}function ie(s){let t,e;return t=new Ne({props:{size:s[13],percent:s[20],seeking:s[23]}}),{c(){Xe(t.$$.fragment)},l(o){Me(t.$$.fragment,o)},m(o,l){Oe(t,o,l),e=!0},p(o,l){const r={};l[0]&8192&&(r.size=o[13]),l[0]&1048576&&(r.percent=o[20]),l[0]&8388608&&(r.seeking=o[23]),t.$set(r)},i(o){e||(O(t.$$.fragment,o),e=!0)},o(o){N(t.$$.fragment,o),e=!1},d(o){Te(t,o)}}}function oe(s){let t,e;const o=s[32].caption,l=Re(o,s,s[31],le);return{c(){t=B("figcaption"),l&&l.c(),this.h()},l(r){t=W(r,"FIGCAPTION",{class:!0});var c=C(t);l&&l.l(c),c.forEach(S),this.h()},h(){u(t,"class","caption svelte-791luy"),P(t,"cap_center",s[5])},m(r,c){q(r,t,c),l&&l.m(t,null),e=!0},p(r,c){l&&l.p&&(!e||c[1]&1)&&Ce(l,o,r,r[31],e?De(o,r[31],c,Ye):ze(r[31]),le),(!e||c[0]&32)&&P(t,"cap_center",r[5])},i(r){e||(O(l,r),e=!0)},o(r){N(l,r),e=!1},d(r){r&&S(t),l&&l.d(r)}}}function je(s){let t,e,o,l,r,c=`${100-s[14]}%`,I,m=`${s[15]}rem`,b;const n=[Le,qe],E=[];function a(_,d){return _[4]?0:1}o=a(s),l=E[o]=n[o](s);let h=s[29].caption&&oe(s);return{c(){t=B("figure"),e=B("div"),l.c(),I=$(),h&&h.c(),this.h()},l(_){t=W(_,"FIGURE",{class:!0});var d=C(t);e=W(d,"DIV",{class:!0});var R=C(e);l.l(R),R.forEach(S),I=ee(d),h&&h.l(d),d.forEach(S),this.h()},h(){u(e,"class",r="wrapper pseudo-border "+s[10]+" svelte-791luy"),P(e,"outline_off",s[16]),y(e,"--dim",c),u(t,"class","radius svelte-791luy"),P(t,"card",s[9]),P(t,"hovered",s[22]),P(t,"box_shadow",s[17]),y(t,"--bg",s[11]),y(t,"--pad",m),y(t,"--fit",s[8])},m(_,d){q(_,t,d),D(t,e),E[o].m(e,null),D(t,I),h&&h.m(t,null),b=!0},p(_,d){let R=o;o=a(_),o===R?E[o].p(_,d):(te(),N(E[R],1,1,()=>{E[R]=null}),se(),l=E[o],l?l.p(_,d):(l=E[o]=n[o](_),l.c()),O(l,1),l.m(e,null)),(!b||d[0]&1024&&r!==(r="wrapper pseudo-border "+_[10]+" svelte-791luy"))&&u(e,"class",r),(!b||d[0]&66560)&&P(e,"outline_off",_[16]),d[0]&16384&&c!==(c=`${100-_[14]}%`)&&y(e,"--dim",c),_[29].caption?h?(h.p(_,d),d[0]&536870912&&O(h,1)):(h=oe(_),h.c(),O(h,1),h.m(t,null)):h&&(te(),N(h,1,1,()=>{h=null}),se()),(!b||d[0]&512)&&P(t,"card",_[9]),(!b||d[0]&4194304)&&P(t,"hovered",_[22]),(!b||d[0]&131072)&&P(t,"box_shadow",_[17]),d[0]&2048&&y(t,"--bg",_[11]),d[0]&32768&&m!==(m=`${_[15]}rem`)&&y(t,"--pad",m),d[0]&256&&y(t,"--fit",_[8])},i(_){b||(O(l),O(h),b=!0)},o(_){N(l),N(h),b=!1},d(_){_&&S(t),E[o].d(),h&&h.d()}}}function Je(s,t,e){let o;Pe(s,Ve,i=>e(40,o=i));let{$$slots:l={},$$scope:r}=t;const c=Ee(l),I=window.matchMedia("(prefers-reduced-motion: reduce)").matches==!0;let{src:m=""}=t,{ext:b=m.split(".")[1]}=t,{codecs:n="hevc1"}=t,{t:E="#t=0.01"}=t,{autoplay:a=!0}=t,{controls:h=!0}=t,{cap_center:_=!0}=t,{width:d="100%"}=t,{height:R="auto"}=t,{fit:v="cover"}=t,{card:z=!1}=t,{radius_type:T="all"}=t,{background:w="var(--grey-0)"}=t,{controlsBg:g="#0002"}=t,{controlsSize:k=32}=t,{dim:F=0}=t,{pad:A=0}=t,{outline_off:Y=!1}=t,{box_shadow:V=!0}=t,f,p,L,X,j=!1,H=!1;const G={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let U;ne(()=>{if(o==!0){let i=m.split(".")[0]+".webm";e(0,m=i),e(1,b="webm"),e(2,n="vp9")}U=void 0,I&&e(3,a=!1),a||(e(21,X=!0),e(0,m=m+E))}),Ie(()=>{U&&(clearInterval(U),U=void 0)});function fe(i){if(!p||i.type!=="touchmove"&&!(i.buttons&1))return;i.target.setPointerCapture(i.pointerId);const x=i.type==="touchmove"?i.touches[0].clientX:i.clientX;e(20,L=Ae(G.initialProgress+(x-G.initialPosition)/G.width,.01,.99)),e(18,f.currentTime=p*L,f)}function _e(i){G.paused_before=!!X,f.pause(),e(23,H=!0);const x=i.type==="touchmove"?i.touches[0].clientX:i.clientX;G.initialPosition=x,G.initialProgress=f.currentTime/p;const{width:Se}=f.getBoundingClientRect();G.width=Se}const he=i=>{e(23,H=!1),G.paused_before||f.play()},de=i=>{e(22,j=!0),(!H||!X)&&(U=setInterval(be,8.33))},ge=i=>{e(22,j=!1),U&&clearInterval(U),U=void 0};function be(){e(20,L=f.currentTime/p)}function me(i){Fe.call(this,s,i)}const ke=()=>e(21,X=!X);function we(i){ue[i?"unshift":"push"](()=>{f=i,e(18,f)})}function ye(){p=this.duration,e(19,p)}function ve(){X=this.paused,e(21,X)}return s.$$set=i=>{"src"in i&&e(0,m=i.src),"ext"in i&&e(1,b=i.ext),"codecs"in i&&e(2,n=i.codecs),"t"in i&&e(30,E=i.t),"autoplay"in i&&e(3,a=i.autoplay),"controls"in i&&e(4,h=i.controls),"cap_center"in i&&e(5,_=i.cap_center),"width"in i&&e(6,d=i.width),"height"in i&&e(7,R=i.height),"fit"in i&&e(8,v=i.fit),"card"in i&&e(9,z=i.card),"radius_type"in i&&e(10,T=i.radius_type),"background"in i&&e(11,w=i.background),"controlsBg"in i&&e(12,g=i.controlsBg),"controlsSize"in i&&e(13,k=i.controlsSize),"dim"in i&&e(14,F=i.dim),"pad"in i&&e(15,A=i.pad),"outline_off"in i&&e(16,Y=i.outline_off),"box_shadow"in i&&e(17,V=i.box_shadow),"$$scope"in i&&e(31,r=i.$$scope)},[m,b,n,a,h,_,d,R,v,z,T,w,g,k,F,A,Y,V,f,p,L,X,j,H,fe,_e,he,de,ge,c,E,r,l,me,ke,we,ye,ve]}class xe extends ae{constructor(t){super(),ce(this,t,Je,je,re,{src:0,ext:1,codecs:2,t:30,autoplay:3,controls:4,cap_center:5,width:6,height:7,fit:8,card:9,radius_type:10,background:11,controlsBg:12,controlsSize:13,dim:14,pad:15,outline_off:16,box_shadow:17},null,[-1,-1])}}export{xe as G,Ne as R};
