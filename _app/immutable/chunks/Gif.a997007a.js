import{s as re,f as C,g as j,h as P,d as w,j as u,r as y,k as E,i as O,u as D,v as K,o as ne,p as ce,a as $,c as ee,y as Se,V as Pe,W as Ie,A as pe,B as Re,C as Ce,D as je,X as De,P as Q,I as J,J as Z,z as ze,F as W,Y as Fe,O as Be}from"./scheduler.8d84c197.js";import{S as ue,i as ae,g as te,t as A,c as se,a as X,b as Ve,d as We,m as Xe,e as Me}from"./index.5e028736.js";import{c as Oe}from"./utils.f0ccaf0a.js";import{u as Te}from"./stores.0eb9cb15.js";function Ae(s){let t,e;return{c(){t=C("div"),e=C("canvas"),this.h()},l(i){t=j(i,"DIV",{style:!0,class:!0});var l=P(t);e=j(l,"CANVAS",{width:!0,height:!0,class:!0}),P(e).forEach(w),l.forEach(w),this.h()},h(){u(e,"width",s[1]),u(e,"height",s[1]),u(e,"class","svelte-hfkcg"),y(e,"seeking",s[2]),y(e,"fillSpace",s[3]),E(t,"--s",1/s[0]),E(t,"--bg-color",s[4]),u(t,"class","svelte-hfkcg")},m(i,l){O(i,t,l),D(t,e),s[13](e)},p(i,[l]){l&2&&u(e,"width",i[1]),l&2&&u(e,"height",i[1]),l&4&&y(e,"seeking",i[2]),l&8&&y(e,"fillSpace",i[3]),l&1&&E(t,"--s",1/i[0]),l&16&&E(t,"--bg-color",i[4])},i:K,o:K,d(i){i&&w(t),s[13](null)}}}function Ge(s,t,e){let i;const l=Math.PI*2;let{percent:c=0}=t,{size:h}=t,{seeking:d}=t,{scaleFactor:o=1}=t,v,n,{use_DPR:I=!0}=t,{use_decimal:m=!0}=t,{fillSpace:g=!1}=t,{bgColor:a="#0004"}=t,{colorFill:S="#b8b7b5"}=t,{colorStroke:M="#fff4"}=t;const b=h/8,R=h/2,B=(h-b*1.1)/2,p=b*.7,f=h*.25,k=b*.9,z={offsetX:R-f-1.3*b,offsetY:-.5*k,outlineW:b*.05};ne(()=>{I?e(0,o=window.devicePixelRatio*2):e(0,o=1),e(5,v.width=Math.floor(h*o),v),e(5,v.height=Math.floor(h*o),v),e(11,n=v.getContext("2d")),n.scale(o,o),n.rotate(Math.PI/2*3),n.translate(-h,0)});const G=_=>{n.save(),n.beginPath(),n.translate(R,R),n.rotate(_),n.roundRect(z.offsetX,z.offsetY,f,k,k),n.fill(),e(11,n.lineWidth=z.outlineW,n),n.stroke(),n.restore()},U=(_,F,Y,V,q)=>{n.clearRect(0,0,h,h),n.beginPath(),n.arc(R,R,B,0,l,!0),e(11,n.strokeStyle=Y,n),e(11,n.lineWidth=V,n),n.stroke(),n.beginPath(),n.arc(R,R,B,0,q,!1),e(11,n.strokeStyle=F,n),e(11,n.lineCap="round",n),e(11,n.lineWidth=p,n),n.stroke(),_&&(e(11,n.fillStyle=F,n),e(11,n.strokeStyle=F,n),G(q))};function N(_){ce[_?"unshift":"push"](()=>{v=_,e(5,v)})}return s.$$set=_=>{"percent"in _&&e(6,c=_.percent),"size"in _&&e(1,h=_.size),"seeking"in _&&e(2,d=_.seeking),"scaleFactor"in _&&e(0,o=_.scaleFactor),"use_DPR"in _&&e(7,I=_.use_DPR),"use_decimal"in _&&e(8,m=_.use_decimal),"fillSpace"in _&&e(3,g=_.fillSpace),"bgColor"in _&&e(4,a=_.bgColor),"colorFill"in _&&e(9,S=_.colorFill),"colorStroke"in _&&e(10,M=_.colorStroke)},s.$$.update=()=>{s.$$.dirty&320&&e(12,i=m?c*l:c/100*l),s.$$.dirty&7684&&n&&U(d,S,M,b,i)},[o,h,d,g,a,v,c,I,m,S,M,n,i,N]}class Ue extends ue{constructor(t){super(),ae(this,t,Ge,Ae,re,{percent:6,size:1,seeking:2,scaleFactor:0,use_DPR:7,use_decimal:8,fillSpace:3,bgColor:4,colorFill:9,colorStroke:10})}}const Ne=s=>({}),le=s=>({});function Ye(s){let t,e,i,l,c,h;return{c(){t=C("div"),e=C("video"),i=C("source"),this.h()},l(d){t=j(d,"DIV",{class:!0});var o=P(t);e=j(o,"VIDEO",{disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var v=P(e);i=j(v,"SOURCE",{src:!0,type:!0}),v.forEach(w),o.forEach(w),this.h()},h(){Q(i.src,l=s[0])||u(i,"src",l),u(i,"type",c="video/"+s[1]+"; "+s[2]),e.autoplay=!0,e.loop=!0,e.playsInline=!0,e.muted=!0,u(e,"disableremoteplayback",""),u(e,"disablepictureinpicture",""),E(e,"--width",s[6]),E(e,"--height",s[7]),u(e,"class","svelte-cmjp30"),y(e,"dim",s[13]),u(t,"class",h="pseudo-border "+s[9]+" svelte-cmjp30"),y(t,"outline_off",s[16])},m(d,o){O(d,t,o),D(t,e),D(e,i)},p(d,o){o[0]&1&&!Q(i.src,l=d[0])&&u(i,"src",l),o[0]&6&&c!==(c="video/"+d[1]+"; "+d[2])&&u(i,"type",c),o[0]&64&&E(e,"--width",d[6]),o[0]&128&&E(e,"--height",d[7]),o[0]&8192&&y(e,"dim",d[13]),o[0]&512&&h!==(h="pseudo-border "+d[9]+" svelte-cmjp30")&&u(t,"class",h),o[0]&66048&&y(t,"outline_off",d[16])},i:K,o:K,d(d){d&&w(t)}}}function qe(s){let t,e,i,l,c=`${s[12]}px`,h,d,o,v,n,I,m=!0,g,a,S,M,b=s[22]&&ie(s);function R(f,k){return f[21]?Je:Le}let B=R(s),p=B(s);return{c(){t=C("button"),e=C("div"),b&&b.c(),i=$(),l=J("svg"),p.c(),h=$(),d=C("div"),o=C("video"),v=C("source"),this.h()},l(f){t=j(f,"BUTTON",{class:!0});var k=P(t);e=j(k,"DIV",{class:!0});var z=P(e);b&&b.l(z),i=ee(z),l=Z(z,"svg",{viewBox:!0,id:!0,width:!0,height:!0,class:!0});var G=P(l);p.l(G),G.forEach(w),z.forEach(w),k.forEach(w),h=ee(f),d=j(f,"DIV",{class:!0});var U=P(d);o=j(U,"VIDEO",{disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var N=P(o);v=j(N,"SOURCE",{src:!0,type:!0}),N.forEach(w),U.forEach(w),this.h()},h(){u(l,"viewBox","0 0 100 100"),u(l,"id","logos"),u(l,"width","50"),u(l,"height","50"),u(l,"class","svelte-cmjp30"),y(l,"seeking",s[23]),y(l,"hovered",s[22]),u(e,"class","ui-elements pseudo-border svelte-cmjp30"),u(t,"class","controls svelte-cmjp30"),E(t,"--size",c),E(t,"--controls-bg",s[11]),Q(v.src,n=s[0])||u(v,"src",n),u(v,"type",I="video/"+s[1]+"; "+s[2]),o.autoplay=s[3],o.loop=!0,o.playsInline=!0,o.muted=!0,u(o,"disableremoteplayback",""),u(o,"disablepictureinpicture",""),E(o,"--width",s[6]),E(o,"--height",s[7]),u(o,"class","svelte-cmjp30"),s[19]===void 0&&ze(()=>s[36].call(o)),y(o,"dim",s[13]),u(d,"class",g="pseudo-border "+s[9]+" svelte-cmjp30"),y(d,"outline_off",s[16])},m(f,k){O(f,t,k),D(t,e),b&&b.m(e,null),D(e,i),D(e,l),p.m(l,null),O(f,h,k),O(f,d,k),D(d,o),D(o,v),s[35](o),a=!0,S||(M=[W(t,"click",s[34]),W(o,"pointerenter",s[27]),W(o,"pointerleave",s[28]),W(o,"pointerdown",s[25]),W(o,"pointermove",s[24]),W(o,"pointerup",s[26]),W(o,"touchstart",Fe(s[33])),W(o,"durationchange",s[36]),W(o,"play",s[37]),W(o,"pause",s[37])],S=!0)},p(f,k){f[22]?b?(b.p(f,k),k[0]&4194304&&X(b,1)):(b=ie(f),b.c(),X(b,1),b.m(e,i)):b&&(te(),A(b,1,1,()=>{b=null}),se()),B!==(B=R(f))&&(p.d(1),p=B(f),p&&(p.c(),p.m(l,null))),(!a||k[0]&8388608)&&y(l,"seeking",f[23]),(!a||k[0]&4194304)&&y(l,"hovered",f[22]),k[0]&4096&&c!==(c=`${f[12]}px`)&&E(t,"--size",c),k[0]&2048&&E(t,"--controls-bg",f[11]),(!a||k[0]&1&&!Q(v.src,n=f[0]))&&u(v,"src",n),(!a||k[0]&6&&I!==(I="video/"+f[1]+"; "+f[2]))&&u(v,"type",I),(!a||k[0]&8)&&(o.autoplay=f[3]),(!a||k[0]&64)&&E(o,"--width",f[6]),(!a||k[0]&128)&&E(o,"--height",f[7]),k[0]&2097152&&m!==(m=f[21])&&o[m?"pause":"play"](),(!a||k[0]&8192)&&y(o,"dim",f[13]),(!a||k[0]&512&&g!==(g="pseudo-border "+f[9]+" svelte-cmjp30"))&&u(d,"class",g),(!a||k[0]&66048)&&y(d,"outline_off",f[16])},i(f){a||(X(b),a=!0)},o(f){A(b),a=!1},d(f){f&&(w(t),w(h),w(d)),b&&b.d(),p.d(),s[35](null),S=!1,Be(M)}}}function ie(s){let t,e;return t=new Ue({props:{size:s[12],percent:s[20],seeking:s[23]}}),{c(){Ve(t.$$.fragment)},l(i){We(t.$$.fragment,i)},m(i,l){Xe(t,i,l),e=!0},p(i,l){const c={};l[0]&4096&&(c.size=i[12]),l[0]&1048576&&(c.percent=i[20]),l[0]&8388608&&(c.seeking=i[23]),t.$set(c)},i(i){e||(X(t.$$.fragment,i),e=!0)},o(i){A(t.$$.fragment,i),e=!1},d(i){Me(t,i)}}}function Le(s){let t,e,i;return{c(){t=J("g"),e=J("rect"),i=J("rect"),this.h()},l(l){t=Z(l,"g",{id:!0,class:!0});var c=P(t);e=Z(c,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),P(e).forEach(w),i=Z(c,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),P(i).forEach(w),c.forEach(w),this.h()},h(){u(e,"x","24"),u(e,"y","20"),u(e,"width","20"),u(e,"height","60"),u(e,"rx","5"),u(i,"x","56"),u(i,"y","20"),u(i,"width","20"),u(i,"height","60"),u(i,"rx","5"),u(t,"id","pause"),u(t,"class","svelte-cmjp30")},m(l,c){O(l,t,c),D(t,e),D(t,i)},d(l){l&&w(t)}}}function Je(s){let t,e;return{c(){t=J("g"),e=J("path"),this.h()},l(i){t=Z(i,"g",{id:!0,class:!0});var l=P(t);e=Z(l,"path",{d:!0}),P(e).forEach(w),l.forEach(w),this.h()},h(){u(e,"d","M 34 25 v 50L 76 50 Z"),u(t,"id","play"),u(t,"class","svelte-cmjp30")},m(i,l){O(i,t,l),D(t,e)},d(i){i&&w(t)}}}function oe(s){let t,e;const i=s[32].caption,l=pe(i,s,s[31],le);return{c(){t=C("figcaption"),l&&l.c(),this.h()},l(c){t=j(c,"FIGCAPTION",{class:!0});var h=P(t);l&&l.l(h),h.forEach(w),this.h()},h(){u(t,"class","caption svelte-cmjp30"),y(t,"cap_center",s[5])},m(c,h){O(c,t,h),l&&l.m(t,null),e=!0},p(c,h){l&&l.p&&(!e||h[1]&1)&&Re(l,i,c,c[31],e?je(i,c[31],h,Ne):Ce(c[31]),le),(!e||h[0]&32)&&y(t,"cap_center",c[5])},i(c){e||(X(l,c),e=!0)},o(c){A(l,c),e=!1},d(c){c&&w(t),l&&l.d(c)}}}function Ze(s){let t,e,i,l,c=`${100-s[13]}%`,h,d=`${s[14]}rem`,o;const v=[qe,Ye],n=[];function I(g,a){return g[4]?0:1}i=I(s),l=n[i]=v[i](s);let m=s[29].caption&&oe(s);return{c(){t=C("figure"),e=C("div"),l.c(),h=$(),m&&m.c(),this.h()},l(g){t=j(g,"FIGURE",{class:!0});var a=P(t);e=j(a,"DIV",{class:!0});var S=P(e);l.l(S),S.forEach(w),h=ee(a),m&&m.l(a),a.forEach(w),this.h()},h(){u(e,"class","wrapper radius svelte-cmjp30"),E(e,"--dim",c),u(t,"class","svelte-cmjp30"),y(t,"card",s[8]),y(t,"hovered",s[22]),y(t,"inset_shadow",s[17]),E(t,"--bg",s[10]),E(t,"--pad",d),E(t,"--inner-radius",s[15])},m(g,a){O(g,t,a),D(t,e),n[i].m(e,null),D(t,h),m&&m.m(t,null),o=!0},p(g,a){let S=i;i=I(g),i===S?n[i].p(g,a):(te(),A(n[S],1,1,()=>{n[S]=null}),se(),l=n[i],l?l.p(g,a):(l=n[i]=v[i](g),l.c()),X(l,1),l.m(e,null)),a[0]&8192&&c!==(c=`${100-g[13]}%`)&&E(e,"--dim",c),g[29].caption?m?(m.p(g,a),a[0]&536870912&&X(m,1)):(m=oe(g),m.c(),X(m,1),m.m(t,null)):m&&(te(),A(m,1,1,()=>{m=null}),se()),(!o||a[0]&256)&&y(t,"card",g[8]),(!o||a[0]&4194304)&&y(t,"hovered",g[22]),(!o||a[0]&131072)&&y(t,"inset_shadow",g[17]),a[0]&1024&&E(t,"--bg",g[10]),a[0]&16384&&d!==(d=`${g[14]}rem`)&&E(t,"--pad",d),a[0]&32768&&E(t,"--inner-radius",g[15])},i(g){o||(X(l),X(m),o=!0)},o(g){A(l),A(m),o=!1},d(g){g&&w(t),n[i].d(),m&&m.d()}}}function He(s,t,e){let i;Se(s,Te,r=>e(40,i=r));let{$$slots:l={},$$scope:c}=t;const h=Pe(l),d=window.matchMedia("(prefers-reduced-motion: reduce)").matches==!0;let{src:o=""}=t,{ext:v=o.split(".")[1]}=t,{codecs:n="hevc1"}=t,{t:I="#t=0.01"}=t,{autoplay:m=!0}=t,{controls:g=!0}=t,{cap_center:a=!0}=t,{width:S="100%"}=t,{height:M="auto"}=t,{card:b=!1}=t,{radius_type:R="all"}=t,{background:B="var(--grey-0)"}=t,{controlsBg:p="#0002"}=t,{controlsSize:f=32}=t,{dim:k=0}=t,{pad:z=0}=t,{inner_radius:G="var(--space-3xs)"}=t,{outline_off:U=!1}=t,{inset_shadow:N=!0}=t,_,F,Y,V,q=!1,H=!1;const L={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let T;ne(()=>{if(i==!0){let r=o.split(".")[0]+".webm";e(0,o=r),e(1,v="webm"),e(2,n="vp9")}T=void 0,d&&e(3,m=!1),m||(e(21,V=!0),e(0,o=o+I))}),Ie(()=>{T&&(clearInterval(T),T=void 0)});const fe=r=>{if(!F||r.type!=="touchmove"&&!(r.buttons&1))return;r.target.setPointerCapture(r.pointerId);const x=r.type==="touchmove"?r.touches[0].clientX:r.clientX,{width:Ee}=_.getBoundingClientRect();e(20,Y=Oe(L.initialProgress+(x-L.initialPosition)/Ee,.01,.99)),e(18,_.currentTime=F*Y,_)},_e=r=>{_.pause();const x=r.type==="touchmove"?r.touches[0].clientX:r.clientX;e(23,H=!0),L.paused_before=!!V,L.initialPosition=x,L.initialProgress=_.currentTime/F},he=r=>{e(23,H=!1),L.paused_before||_.play()},de=r=>{e(22,q=!0),(!H||!V)&&(T=setInterval(me,10))},ge=r=>{e(22,q=!1),T&&clearInterval(T),T=void 0};function me(){e(20,Y=_.currentTime/F)}function be(r){De.call(this,s,r)}const ke=()=>e(21,V=!V);function ve(r){ce[r?"unshift":"push"](()=>{_=r,e(18,_)})}function we(){F=this.duration,e(19,F)}function ye(){V=this.paused,e(21,V)}return s.$$set=r=>{"src"in r&&e(0,o=r.src),"ext"in r&&e(1,v=r.ext),"codecs"in r&&e(2,n=r.codecs),"t"in r&&e(30,I=r.t),"autoplay"in r&&e(3,m=r.autoplay),"controls"in r&&e(4,g=r.controls),"cap_center"in r&&e(5,a=r.cap_center),"width"in r&&e(6,S=r.width),"height"in r&&e(7,M=r.height),"card"in r&&e(8,b=r.card),"radius_type"in r&&e(9,R=r.radius_type),"background"in r&&e(10,B=r.background),"controlsBg"in r&&e(11,p=r.controlsBg),"controlsSize"in r&&e(12,f=r.controlsSize),"dim"in r&&e(13,k=r.dim),"pad"in r&&e(14,z=r.pad),"inner_radius"in r&&e(15,G=r.inner_radius),"outline_off"in r&&e(16,U=r.outline_off),"inset_shadow"in r&&e(17,N=r.inset_shadow),"$$scope"in r&&e(31,c=r.$$scope)},[o,v,n,m,g,a,S,M,b,R,B,p,f,k,z,G,U,N,_,F,Y,V,q,H,fe,_e,he,de,ge,h,I,c,l,be,ke,ve,we,ye]}class et extends ue{constructor(t){super(),ae(this,t,He,Ze,re,{src:0,ext:1,codecs:2,t:30,autoplay:3,controls:4,cap_center:5,width:6,height:7,card:8,radius_type:9,background:10,controlsBg:11,controlsSize:12,dim:13,pad:14,inner_radius:15,outline_off:16,inset_shadow:17},null,[-1,-1])}}export{et as G,Ue as R};
