import{s as ne,f as j,g as D,h as P,d as w,j as u,r as y,k as E,i as O,u as z,v as H,o as oe,p as ce,a as $,c as ee,y as Se,V as Pe,W as Ie,A as Re,B as Ce,C as je,D as De,X as ze,P as Q,I as J,J as K,z as Fe,F as X,Y as Be,K as Ve}from"./scheduler.7ea44816.js";import{S as ue,i as ae,g as te,t as G,c as se,a as M,b as We,d as Xe,m as Me,e as Te}from"./index.0f0b2a21.js";import{c as Oe}from"./utils.f0ccaf0a.js";import{u as Ae}from"./stores.ef4b6203.js";function Ge(s){let t,e;return{c(){t=j("div"),e=j("canvas"),this.h()},l(i){t=D(i,"DIV",{style:!0,class:!0});var l=P(t);e=D(l,"CANVAS",{width:!0,height:!0,class:!0}),P(e).forEach(w),l.forEach(w),this.h()},h(){u(e,"width",s[1]),u(e,"height",s[1]),u(e,"class","svelte-hfkcg"),y(e,"seeking",s[2]),y(e,"fillSpace",s[3]),E(t,"--s",1/s[0]),E(t,"--bg-color",s[4]),u(t,"class","svelte-hfkcg")},m(i,l){O(i,t,l),z(t,e),s[13](e)},p(i,[l]){l&2&&u(e,"width",i[1]),l&2&&u(e,"height",i[1]),l&4&&y(e,"seeking",i[2]),l&8&&y(e,"fillSpace",i[3]),l&1&&E(t,"--s",1/i[0]),l&16&&E(t,"--bg-color",i[4])},i:H,o:H,d(i){i&&w(t),s[13](null)}}}function Ue(s,t,e){let i;const l=Math.PI*2;let{percent:c=0}=t,{size:h}=t,{seeking:d}=t,{scaleFactor:r=1}=t,v,o,{use_DPR:I=!0}=t,{use_decimal:m=!0}=t,{fillSpace:g=!1}=t,{bgColor:a="#0004"}=t,{colorFill:S="#b8b7b5"}=t,{colorStroke:T="#fff4"}=t;const b=h/8,C=h/2,V=(h-b*1.1)/2,R=b*.7,f=h*.25,k=b*.9,F={offsetX:C-f-1.3*b,offsetY:-.5*k,outlineW:b*.05};oe(()=>{I?e(0,r=window.devicePixelRatio*2):e(0,r=1),e(5,v.width=Math.floor(h*r),v),e(5,v.height=Math.floor(h*r),v),e(11,o=v.getContext("2d")),o.scale(r,r),o.rotate(Math.PI/2*3),o.translate(-h,0)});const U=_=>{o.save(),o.beginPath(),o.translate(C,C),o.rotate(_),o.roundRect(F.offsetX,F.offsetY,f,k,k),o.fill(),e(11,o.lineWidth=F.outlineW,o),o.stroke(),o.restore()},p=(_,B,Y,W,q)=>{o.clearRect(0,0,h,h),o.beginPath(),o.arc(C,C,V,0,l,!0),e(11,o.strokeStyle=Y,o),e(11,o.lineWidth=W,o),o.stroke(),o.beginPath(),o.arc(C,C,V,0,q,!1),e(11,o.strokeStyle=B,o),e(11,o.lineCap="round",o),e(11,o.lineWidth=R,o),o.stroke(),_&&(e(11,o.fillStyle=B,o),e(11,o.strokeStyle=B,o),U(q))};function N(_){ce[_?"unshift":"push"](()=>{v=_,e(5,v)})}return s.$$set=_=>{"percent"in _&&e(6,c=_.percent),"size"in _&&e(1,h=_.size),"seeking"in _&&e(2,d=_.seeking),"scaleFactor"in _&&e(0,r=_.scaleFactor),"use_DPR"in _&&e(7,I=_.use_DPR),"use_decimal"in _&&e(8,m=_.use_decimal),"fillSpace"in _&&e(3,g=_.fillSpace),"bgColor"in _&&e(4,a=_.bgColor),"colorFill"in _&&e(9,S=_.colorFill),"colorStroke"in _&&e(10,T=_.colorStroke)},s.$$.update=()=>{s.$$.dirty&320&&e(12,i=m?c*l:c/100*l),s.$$.dirty&7684&&o&&p(d,S,T,b,i)},[r,h,d,g,a,v,c,I,m,S,T,o,i,N]}class pe extends ue{constructor(t){super(),ae(this,t,Ue,Ge,ne,{percent:6,size:1,seeking:2,scaleFactor:0,use_DPR:7,use_decimal:8,fillSpace:3,bgColor:4,colorFill:9,colorStroke:10})}}const Ne=s=>({}),le=s=>({});function Ye(s){let t,e,i,l,c,h;return{c(){t=j("div"),e=j("video"),i=j("source"),this.h()},l(d){t=D(d,"DIV",{class:!0});var r=P(t);e=D(r,"VIDEO",{disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var v=P(e);i=D(v,"SOURCE",{src:!0,type:!0}),v.forEach(w),r.forEach(w),this.h()},h(){Q(i.src,l=s[0])||u(i,"src",l),u(i,"type",c="video/"+s[1]+"; "+s[2]),e.autoplay=!0,e.loop=!0,e.playsInline=!0,e.muted=!0,u(e,"disableremoteplayback",""),u(e,"disablepictureinpicture",""),E(e,"--width",s[6]),E(e,"--height",s[7]),u(e,"class","svelte-1nlirj3"),y(e,"dim",s[13]),u(t,"class",h="pseudo-border "+s[9]+" svelte-1nlirj3"),y(t,"outline_off",s[16])},m(d,r){O(d,t,r),z(t,e),z(e,i)},p(d,r){r[0]&1&&!Q(i.src,l=d[0])&&u(i,"src",l),r[0]&6&&c!==(c="video/"+d[1]+"; "+d[2])&&u(i,"type",c),r[0]&64&&E(e,"--width",d[6]),r[0]&128&&E(e,"--height",d[7]),r[0]&8192&&y(e,"dim",d[13]),r[0]&512&&h!==(h="pseudo-border "+d[9]+" svelte-1nlirj3")&&u(t,"class",h),r[0]&66048&&y(t,"outline_off",d[16])},i:H,o:H,d(d){d&&w(t)}}}function qe(s){let t,e,i,l,c=`${s[12]}px`,h,d,r,v,o,I,m=!0,g,a,S,T,b=s[22]&&ie(s);function C(f,k){return f[21]?Je:Le}let V=C(s),R=V(s);return{c(){t=j("button"),e=j("div"),b&&b.c(),i=$(),l=J("svg"),R.c(),h=$(),d=j("div"),r=j("video"),v=j("source"),this.h()},l(f){t=D(f,"BUTTON",{class:!0});var k=P(t);e=D(k,"DIV",{class:!0});var F=P(e);b&&b.l(F),i=ee(F),l=K(F,"svg",{viewBox:!0,id:!0,width:!0,height:!0,class:!0});var U=P(l);R.l(U),U.forEach(w),F.forEach(w),k.forEach(w),h=ee(f),d=D(f,"DIV",{class:!0});var p=P(d);r=D(p,"VIDEO",{disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var N=P(r);v=D(N,"SOURCE",{src:!0,type:!0}),N.forEach(w),p.forEach(w),this.h()},h(){u(l,"viewBox","0 0 100 100"),u(l,"id","logos"),u(l,"width","50"),u(l,"height","50"),u(l,"class","svelte-1nlirj3"),y(l,"seeking",s[23]),y(l,"hovered",s[22]),u(e,"class","ui-elements pseudo-border svelte-1nlirj3"),u(t,"class","controls svelte-1nlirj3"),E(t,"--size",c),E(t,"--controls-bg",s[11]),Q(v.src,o=s[0])||u(v,"src",o),u(v,"type",I="video/"+s[1]+"; "+s[2]),r.autoplay=s[3],r.loop=!0,r.playsInline=!0,r.muted=!0,u(r,"disableremoteplayback",""),u(r,"disablepictureinpicture",""),E(r,"--width",s[6]),E(r,"--height",s[7]),u(r,"class","svelte-1nlirj3"),s[19]===void 0&&Fe(()=>s[36].call(r)),y(r,"dim",s[13]),u(d,"class",g="pseudo-border "+s[9]+" svelte-1nlirj3"),y(d,"outline_off",s[16])},m(f,k){O(f,t,k),z(t,e),b&&b.m(e,null),z(e,i),z(e,l),R.m(l,null),O(f,h,k),O(f,d,k),z(d,r),z(r,v),s[35](r),a=!0,S||(T=[X(t,"click",s[34]),X(r,"pointerenter",s[27]),X(r,"pointerleave",s[28]),X(r,"pointerdown",s[25]),X(r,"pointermove",s[24]),X(r,"pointerup",s[26]),X(r,"touchstart",Be(s[33])),X(r,"durationchange",s[36]),X(r,"play",s[37]),X(r,"pause",s[37])],S=!0)},p(f,k){f[22]?b?(b.p(f,k),k[0]&4194304&&M(b,1)):(b=ie(f),b.c(),M(b,1),b.m(e,i)):b&&(te(),G(b,1,1,()=>{b=null}),se()),V!==(V=C(f))&&(R.d(1),R=V(f),R&&(R.c(),R.m(l,null))),(!a||k[0]&8388608)&&y(l,"seeking",f[23]),(!a||k[0]&4194304)&&y(l,"hovered",f[22]),k[0]&4096&&c!==(c=`${f[12]}px`)&&E(t,"--size",c),k[0]&2048&&E(t,"--controls-bg",f[11]),(!a||k[0]&1&&!Q(v.src,o=f[0]))&&u(v,"src",o),(!a||k[0]&6&&I!==(I="video/"+f[1]+"; "+f[2]))&&u(v,"type",I),(!a||k[0]&8)&&(r.autoplay=f[3]),(!a||k[0]&64)&&E(r,"--width",f[6]),(!a||k[0]&128)&&E(r,"--height",f[7]),k[0]&2097152&&m!==(m=f[21])&&r[m?"pause":"play"](),(!a||k[0]&8192)&&y(r,"dim",f[13]),(!a||k[0]&512&&g!==(g="pseudo-border "+f[9]+" svelte-1nlirj3"))&&u(d,"class",g),(!a||k[0]&66048)&&y(d,"outline_off",f[16])},i(f){a||(M(b),a=!0)},o(f){G(b),a=!1},d(f){f&&(w(t),w(h),w(d)),b&&b.d(),R.d(),s[35](null),S=!1,Ve(T)}}}function ie(s){let t,e;return t=new pe({props:{size:s[12],percent:s[20],seeking:s[23]}}),{c(){We(t.$$.fragment)},l(i){Xe(t.$$.fragment,i)},m(i,l){Me(t,i,l),e=!0},p(i,l){const c={};l[0]&4096&&(c.size=i[12]),l[0]&1048576&&(c.percent=i[20]),l[0]&8388608&&(c.seeking=i[23]),t.$set(c)},i(i){e||(M(t.$$.fragment,i),e=!0)},o(i){G(t.$$.fragment,i),e=!1},d(i){Te(t,i)}}}function Le(s){let t,e,i;return{c(){t=J("g"),e=J("rect"),i=J("rect"),this.h()},l(l){t=K(l,"g",{id:!0,class:!0});var c=P(t);e=K(c,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),P(e).forEach(w),i=K(c,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),P(i).forEach(w),c.forEach(w),this.h()},h(){u(e,"x","24"),u(e,"y","20"),u(e,"width","20"),u(e,"height","60"),u(e,"rx","5"),u(i,"x","56"),u(i,"y","20"),u(i,"width","20"),u(i,"height","60"),u(i,"rx","5"),u(t,"id","pause"),u(t,"class","svelte-1nlirj3")},m(l,c){O(l,t,c),z(t,e),z(t,i)},d(l){l&&w(t)}}}function Je(s){let t,e;return{c(){t=J("g"),e=J("path"),this.h()},l(i){t=K(i,"g",{id:!0,class:!0});var l=P(t);e=K(l,"path",{d:!0}),P(e).forEach(w),l.forEach(w),this.h()},h(){u(e,"d","M 34 25 v 50L 76 50 Z"),u(t,"id","play"),u(t,"class","svelte-1nlirj3")},m(i,l){O(i,t,l),z(t,e)},d(i){i&&w(t)}}}function re(s){let t,e;const i=s[32].caption,l=Re(i,s,s[31],le);return{c(){t=j("figcaption"),l&&l.c(),this.h()},l(c){t=D(c,"FIGCAPTION",{class:!0});var h=P(t);l&&l.l(h),h.forEach(w),this.h()},h(){u(t,"class","caption svelte-1nlirj3"),y(t,"cap_center",s[5])},m(c,h){O(c,t,h),l&&l.m(t,null),e=!0},p(c,h){l&&l.p&&(!e||h[1]&1)&&Ce(l,i,c,c[31],e?De(i,c[31],h,Ne):je(c[31]),le),(!e||h[0]&32)&&y(t,"cap_center",c[5])},i(c){e||(M(l,c),e=!0)},o(c){G(l,c),e=!1},d(c){c&&w(t),l&&l.d(c)}}}function Ke(s){let t,e,i,l,c=`${100-s[13]}%`,h,d=`${s[14]}rem`,r;const v=[qe,Ye],o=[];function I(g,a){return g[4]?0:1}i=I(s),l=o[i]=v[i](s);let m=s[29].caption&&re(s);return{c(){t=j("figure"),e=j("div"),l.c(),h=$(),m&&m.c(),this.h()},l(g){t=D(g,"FIGURE",{class:!0});var a=P(t);e=D(a,"DIV",{class:!0});var S=P(e);l.l(S),S.forEach(w),h=ee(a),m&&m.l(a),a.forEach(w),this.h()},h(){u(e,"class","wrapper radius svelte-1nlirj3"),E(e,"--dim",c),u(t,"class","svelte-1nlirj3"),y(t,"card",s[8]),y(t,"hovered",s[22]),y(t,"inset_shadow",s[17]),E(t,"--bg",s[10]),E(t,"--pad",d),E(t,"--inner-radius",s[15])},m(g,a){O(g,t,a),z(t,e),o[i].m(e,null),z(t,h),m&&m.m(t,null),r=!0},p(g,a){let S=i;i=I(g),i===S?o[i].p(g,a):(te(),G(o[S],1,1,()=>{o[S]=null}),se(),l=o[i],l?l.p(g,a):(l=o[i]=v[i](g),l.c()),M(l,1),l.m(e,null)),a[0]&8192&&c!==(c=`${100-g[13]}%`)&&E(e,"--dim",c),g[29].caption?m?(m.p(g,a),a[0]&536870912&&M(m,1)):(m=re(g),m.c(),M(m,1),m.m(t,null)):m&&(te(),G(m,1,1,()=>{m=null}),se()),(!r||a[0]&256)&&y(t,"card",g[8]),(!r||a[0]&4194304)&&y(t,"hovered",g[22]),(!r||a[0]&131072)&&y(t,"inset_shadow",g[17]),a[0]&1024&&E(t,"--bg",g[10]),a[0]&16384&&d!==(d=`${g[14]}rem`)&&E(t,"--pad",d),a[0]&32768&&E(t,"--inner-radius",g[15])},i(g){r||(M(l),M(m),r=!0)},o(g){G(l),G(m),r=!1},d(g){g&&w(t),o[i].d(),m&&m.d()}}}function Ze(s,t,e){let i;Se(s,Ae,n=>e(40,i=n));let{$$slots:l={},$$scope:c}=t;const h=Pe(l),d=window.matchMedia("(prefers-reduced-motion: reduce)").matches==!0;let{src:r=""}=t,{ext:v=r.split(".")[1]}=t,{codecs:o="hevc1"}=t,{t:I="#t=0.01"}=t,{autoplay:m=!0}=t,{controls:g=!0}=t,{cap_center:a=!0}=t,{width:S="100%"}=t,{height:T="auto"}=t,{card:b=!1}=t,{radius_type:C="all"}=t,{background:V="var(--grey-0)"}=t,{controlsBg:R="#0002"}=t,{controlsSize:f=32}=t,{dim:k=0}=t,{pad:F=0}=t,{inner_radius:U="var(--space-3xs)"}=t,{outline_off:p=!1}=t,{inset_shadow:N=!0}=t,_,B,Y,W,q=!1,Z=!1;const L={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let A;oe(()=>{if(i==!0){let n=r.split(".")[0]+".webm";e(0,r=n),e(1,v="webm"),e(2,o="vp9")}A=void 0,d&&e(3,m=!1),m||(e(21,W=!0),e(0,r=r+I))}),Ie(()=>{A&&(clearInterval(A),A=void 0)});const fe=n=>{if(!B||n.type!=="touchmove"&&!(n.buttons&1))return;n.target.setPointerCapture(n.pointerId);const x=n.type==="touchmove"?n.touches[0].clientX:n.clientX,{width:Ee}=_.getBoundingClientRect();e(20,Y=Oe(L.initialProgress+(x-L.initialPosition)/Ee,.01,.99)),e(18,_.currentTime=B*Y,_)},_e=n=>{_.pause();const x=n.type==="touchmove"?n.touches[0].clientX:n.clientX;e(23,Z=!0),L.paused_before=!!W,L.initialPosition=x,L.initialProgress=_.currentTime/B},he=n=>{e(23,Z=!1),L.paused_before||_.play()},de=n=>{e(22,q=!0),(!Z||!W)&&(A=setInterval(me,10))},ge=n=>{e(22,q=!1),A&&clearInterval(A),A=void 0};function me(){e(20,Y=_.currentTime/B)}function be(n){ze.call(this,s,n)}const ke=()=>e(21,W=!W);function ve(n){ce[n?"unshift":"push"](()=>{_=n,e(18,_)})}function we(){B=this.duration,e(19,B)}function ye(){W=this.paused,e(21,W)}return s.$$set=n=>{"src"in n&&e(0,r=n.src),"ext"in n&&e(1,v=n.ext),"codecs"in n&&e(2,o=n.codecs),"t"in n&&e(30,I=n.t),"autoplay"in n&&e(3,m=n.autoplay),"controls"in n&&e(4,g=n.controls),"cap_center"in n&&e(5,a=n.cap_center),"width"in n&&e(6,S=n.width),"height"in n&&e(7,T=n.height),"card"in n&&e(8,b=n.card),"radius_type"in n&&e(9,C=n.radius_type),"background"in n&&e(10,V=n.background),"controlsBg"in n&&e(11,R=n.controlsBg),"controlsSize"in n&&e(12,f=n.controlsSize),"dim"in n&&e(13,k=n.dim),"pad"in n&&e(14,F=n.pad),"inner_radius"in n&&e(15,U=n.inner_radius),"outline_off"in n&&e(16,p=n.outline_off),"inset_shadow"in n&&e(17,N=n.inset_shadow),"$$scope"in n&&e(31,c=n.$$scope)},[r,v,o,m,g,a,S,T,b,C,V,R,f,k,F,U,p,N,_,B,Y,W,q,Z,fe,_e,he,de,ge,h,I,c,l,be,ke,ve,we,ye]}class et extends ue{constructor(t){super(),ae(this,t,Ze,Ke,ne,{src:0,ext:1,codecs:2,t:30,autoplay:3,controls:4,cap_center:5,width:6,height:7,card:8,radius_type:9,background:10,controlsBg:11,controlsSize:12,dim:13,pad:14,inner_radius:15,outline_off:16,inset_shadow:17},null,[-1,-1])}}export{et as G,pe as R};
