import{s as oe,f as B,g as W,h as p,d as y,j as a,r as S,k as P,i as q,u as D,v as H,o as re,p as ne,a as x,c as $,y as Se,W as Pe,X as Ee,A as Ie,B as Re,C as Ce,D as pe,S as ze,P as K,I as j,J,z as De,F as M,Y as Fe,O as Be}from"./scheduler.6d6d93c7.js";import{S as ae,i as ce,g as ee,t as U,c as te,a as O,b as We,d as Xe,m as Me,e as Oe}from"./index.15fe4709.js";import{c as Te}from"./utils.f0ccaf0a.js";import{u as Ae}from"./stores.8130cd92.js";function Ve(s){let t,e;return{c(){t=B("div"),e=B("canvas"),this.h()},l(o){t=W(o,"DIV",{style:!0,class:!0});var i=p(t);e=W(i,"CANVAS",{width:!0,height:!0,class:!0}),p(e).forEach(y),i.forEach(y),this.h()},h(){a(e,"width",s[1]),a(e,"height",s[1]),a(e,"class","svelte-hfkcg"),S(e,"seeking",s[2]),S(e,"fillSpace",s[3]),P(t,"--s",1/s[0]),P(t,"--bg-color",s[4]),a(t,"class","svelte-hfkcg")},m(o,i){q(o,t,i),D(t,e),s[13](e)},p(o,[i]){i&2&&a(e,"width",o[1]),i&2&&a(e,"height",o[1]),i&4&&S(e,"seeking",o[2]),i&8&&S(e,"fillSpace",o[3]),i&1&&P(t,"--s",1/o[0]),i&16&&P(t,"--bg-color",o[4])},i:H,o:H,d(o){o&&y(t),s[13](null)}}}function Ge(s,t,e){let o;const i=Math.PI*2;let{percent:r=0}=t,{size:u}=t,{seeking:I}=t,{scaleFactor:b=1}=t,g,n,{use_DPR:E=!0}=t,{use_decimal:c=!0}=t,{fillSpace:_=!1}=t,{bgColor:h="#0004"}=t,{colorFill:m="#b8b7b5"}=t,{colorStroke:R="#fff4"}=t;const w=u/8,z=u/2,T=(u-w*1.1)/2,v=w*.7,d=u*.25,k=w*.9,F={offsetX:z-d-1.3*w,offsetY:-.5*k,outlineW:w*.05};re(()=>{E?e(0,b=window.devicePixelRatio*2):e(0,b=1),e(5,g.width=Math.floor(u*b),g),e(5,g.height=Math.floor(u*b),g),e(11,n=g.getContext("2d")),n.scale(b,b),n.rotate(Math.PI/2*3),n.translate(-u,0)});const A=f=>{n.save(),n.beginPath(),n.translate(z,z),n.rotate(f),n.roundRect(F.offsetX,F.offsetY,d,k,k),n.fill(),e(11,n.lineWidth=F.outlineW,n),n.stroke(),n.restore()},N=(f,V,X,Z,Y)=>{n.clearRect(0,0,u,u),n.beginPath(),n.arc(z,z,T,0,i,!0),e(11,n.strokeStyle=X,n),e(11,n.lineWidth=Z,n),n.stroke(),n.beginPath(),n.arc(z,z,T,0,Y,!1),e(11,n.strokeStyle=V,n),e(11,n.lineCap="round",n),e(11,n.lineWidth=v,n),n.stroke(),f&&(e(11,n.fillStyle=V,n),e(11,n.strokeStyle=V,n),A(Y))};function C(f){ne[f?"unshift":"push"](()=>{g=f,e(5,g)})}return s.$$set=f=>{"percent"in f&&e(6,r=f.percent),"size"in f&&e(1,u=f.size),"seeking"in f&&e(2,I=f.seeking),"scaleFactor"in f&&e(0,b=f.scaleFactor),"use_DPR"in f&&e(7,E=f.use_DPR),"use_decimal"in f&&e(8,c=f.use_decimal),"fillSpace"in f&&e(3,_=f.fillSpace),"bgColor"in f&&e(4,h=f.bgColor),"colorFill"in f&&e(9,m=f.colorFill),"colorStroke"in f&&e(10,R=f.colorStroke)},s.$$.update=()=>{s.$$.dirty&320&&e(12,o=c?r*i:r/100*i),s.$$.dirty&7684&&n&&N(I,m,R,w,o)},[b,u,I,_,h,g,r,E,c,m,R,n,o,C]}class Ue extends ae{constructor(t){super(),ce(this,t,Ge,Ve,oe,{percent:6,size:1,seeking:2,scaleFactor:0,use_DPR:7,use_decimal:8,fillSpace:3,bgColor:4,colorFill:9,colorStroke:10})}}const Ne=s=>({}),se=s=>({});function Ye(s){let t,e,o,i;return{c(){t=B("video"),e=B("source"),this.h()},l(r){t=W(r,"VIDEO",{"x-webkit-wirelessvideoplaybackdisabled":!0,disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var u=p(t);e=W(u,"SOURCE",{src:!0,type:!0}),u.forEach(y),this.h()},h(){K(e.src,o=s[0])||a(e,"src",o),a(e,"type",i="video/"+s[1]+"; "+s[2]),a(t,"x-webkit-wirelessvideoplaybackdisabled",""),a(t,"disableremoteplayback",""),t.autoplay=!0,t.loop=!0,t.playsInline=!0,t.muted=!0,a(t,"disablepictureinpicture",""),P(t,"--width",s[6]),P(t,"--height",s[7]),a(t,"class","svelte-if5kvr"),S(t,"dim",s[13])},m(r,u){q(r,t,u),D(t,e)},p(r,u){u[0]&1&&!K(e.src,o=r[0])&&a(e,"src",o),u[0]&6&&i!==(i="video/"+r[1]+"; "+r[2])&&a(e,"type",i),u[0]&64&&P(t,"--width",r[6]),u[0]&128&&P(t,"--height",r[7]),u[0]&8192&&S(t,"dim",r[13])},i:H,o:H,d(r){r&&y(t)}}}function qe(s){let t,e,o,i,r,u,I,b,g,n=`${s[12]}px`,E,c,_,h,m,R=!0,w,z,T,v=s[21]&&ie(s);return{c(){t=B("button"),e=B("div"),v&&v.c(),o=x(),i=j("svg"),r=j("g"),u=j("path"),I=j("g"),b=j("rect"),g=j("rect"),E=x(),c=B("video"),_=B("source"),this.h()},l(d){t=W(d,"BUTTON",{class:!0});var k=p(t);e=W(k,"DIV",{class:!0});var F=p(e);v&&v.l(F),o=$(F),i=J(F,"svg",{viewBox:!0,id:!0,width:!0,height:!0,class:!0});var A=p(i);r=J(A,"g",{id:!0,class:!0});var N=p(r);u=J(N,"path",{d:!0}),p(u).forEach(y),N.forEach(y),I=J(A,"g",{id:!0,class:!0});var C=p(I);b=J(C,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),p(b).forEach(y),g=J(C,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),p(g).forEach(y),C.forEach(y),A.forEach(y),F.forEach(y),k.forEach(y),E=$(d),c=W(d,"VIDEO",{"x-webkit-wirelessvideoplaybackdisabled":!0,disableremoteplayback:!0,disablepictureinpicture:!0,style:!0,class:!0});var f=p(c);_=W(f,"SOURCE",{src:!0,type:!0}),f.forEach(y),this.h()},h(){a(u,"d","M 33 24 v 51L 77 50 Z"),a(r,"id","play"),a(r,"class","svelte-if5kvr"),a(b,"x","23"),a(b,"y","19"),a(b,"width","20.5"),a(b,"height","62"),a(b,"rx","5"),a(g,"x","56.5"),a(g,"y","19"),a(g,"width","20.5"),a(g,"height","62"),a(g,"rx","5"),a(I,"id","pause"),a(I,"class","svelte-if5kvr"),a(i,"viewBox","0 0 100 100"),a(i,"id","logos"),a(i,"width","30px"),a(i,"height","30px"),a(i,"class","svelte-if5kvr"),S(i,"seeking",s[22]),S(i,"paused",s[20]),a(e,"class","ui-elements pseudo-border svelte-if5kvr"),a(t,"class","controls svelte-if5kvr"),P(t,"--size",n),P(t,"--controls-bg",s[11]),K(_.src,h=s[0])||a(_,"src",h),a(_,"type",m="video/"+s[1]+"; "+s[2]),c.autoplay=s[3],a(c,"x-webkit-wirelessvideoplaybackdisabled",""),a(c,"disableremoteplayback",""),c.loop=!0,c.playsInline=!0,c.muted=!0,a(c,"disablepictureinpicture",""),P(c,"--width",s[6]),P(c,"--height",s[7]),a(c,"class","svelte-if5kvr"),s[18]===void 0&&De(()=>s[35].call(c)),S(c,"dim",s[13])},m(d,k){q(d,t,k),D(t,e),v&&v.m(e,null),D(e,o),D(e,i),D(i,r),D(r,u),D(i,I),D(I,b),D(I,g),q(d,E,k),q(d,c,k),D(c,_),s[34](c),w=!0,z||(T=[M(t,"click",s[33]),M(c,"pointerenter",s[26]),M(c,"pointerleave",s[27]),M(c,"pointerdown",s[24]),M(c,"pointermove",s[23]),M(c,"pointerup",s[25]),M(c,"touchstart",Fe(s[32])),M(c,"durationchange",s[35]),M(c,"play",s[36]),M(c,"pause",s[36])],z=!0)},p(d,k){d[21]?v?(v.p(d,k),k[0]&2097152&&O(v,1)):(v=ie(d),v.c(),O(v,1),v.m(e,o)):v&&(ee(),U(v,1,1,()=>{v=null}),te()),(!w||k[0]&4194304)&&S(i,"seeking",d[22]),(!w||k[0]&1048576)&&S(i,"paused",d[20]),k[0]&4096&&n!==(n=`${d[12]}px`)&&P(t,"--size",n),k[0]&2048&&P(t,"--controls-bg",d[11]),(!w||k[0]&1&&!K(_.src,h=d[0]))&&a(_,"src",h),(!w||k[0]&6&&m!==(m="video/"+d[1]+"; "+d[2]))&&a(_,"type",m),(!w||k[0]&8)&&(c.autoplay=d[3]),(!w||k[0]&64)&&P(c,"--width",d[6]),(!w||k[0]&128)&&P(c,"--height",d[7]),k[0]&1048576&&R!==(R=d[20])&&c[R?"pause":"play"](),(!w||k[0]&8192)&&S(c,"dim",d[13])},i(d){w||(O(v),w=!0)},o(d){U(v),w=!1},d(d){d&&(y(t),y(E),y(c)),v&&v.d(),s[34](null),z=!1,Be(T)}}}function ie(s){let t,e;return t=new Ue({props:{size:s[12],percent:s[19],seeking:s[22]}}),{c(){We(t.$$.fragment)},l(o){Xe(t.$$.fragment,o)},m(o,i){Me(t,o,i),e=!0},p(o,i){const r={};i[0]&4096&&(r.size=o[12]),i[0]&524288&&(r.percent=o[19]),i[0]&4194304&&(r.seeking=o[22]),t.$set(r)},i(o){e||(O(t.$$.fragment,o),e=!0)},o(o){U(t.$$.fragment,o),e=!1},d(o){Oe(t,o)}}}function le(s){let t,e;const o=s[31].caption,i=Ie(o,s,s[30],se);return{c(){t=B("figcaption"),i&&i.c(),this.h()},l(r){t=W(r,"FIGCAPTION",{class:!0});var u=p(t);i&&i.l(u),u.forEach(y),this.h()},h(){a(t,"class","caption svelte-if5kvr"),S(t,"cap_center",s[5])},m(r,u){q(r,t,u),i&&i.m(t,null),e=!0},p(r,u){i&&i.p&&(!e||u[0]&1073741824)&&Re(i,o,r,r[30],e?pe(o,r[30],u,Ne):Ce(r[30]),se),(!e||u[0]&32)&&S(t,"cap_center",r[5])},i(r){e||(O(i,r),e=!0)},o(r){U(i,r),e=!1},d(r){r&&y(t),i&&i.d(r)}}}function Le(s){let t,e,o,i,r,u=`${100-s[13]}%`,I,b=`${s[14]}rem`,g;const n=[qe,Ye],E=[];function c(h,m){return h[4]?0:1}o=c(s),i=E[o]=n[o](s);let _=s[28].caption&&le(s);return{c(){t=B("figure"),e=B("div"),i.c(),I=x(),_&&_.c(),this.h()},l(h){t=W(h,"FIGURE",{class:!0});var m=p(t);e=W(m,"DIV",{class:!0});var R=p(e);i.l(R),R.forEach(y),I=$(m),_&&_.l(m),m.forEach(y),this.h()},h(){a(e,"class",r="wrapper pseudo-border "+s[9]+" svelte-if5kvr"),S(e,"outline_off",s[15]),P(e,"--dim",u),a(t,"class","radius svelte-if5kvr"),S(t,"card",s[8]),S(t,"hovered",s[21]),S(t,"inset_shadow",s[16]),P(t,"--bg",s[10]),P(t,"--pad",b)},m(h,m){q(h,t,m),D(t,e),E[o].m(e,null),D(t,I),_&&_.m(t,null),g=!0},p(h,m){let R=o;o=c(h),o===R?E[o].p(h,m):(ee(),U(E[R],1,1,()=>{E[R]=null}),te(),i=E[o],i?i.p(h,m):(i=E[o]=n[o](h),i.c()),O(i,1),i.m(e,null)),(!g||m[0]&512&&r!==(r="wrapper pseudo-border "+h[9]+" svelte-if5kvr"))&&a(e,"class",r),(!g||m[0]&33280)&&S(e,"outline_off",h[15]),m[0]&8192&&u!==(u=`${100-h[13]}%`)&&P(e,"--dim",u),h[28].caption?_?(_.p(h,m),m[0]&268435456&&O(_,1)):(_=le(h),_.c(),O(_,1),_.m(t,null)):_&&(ee(),U(_,1,1,()=>{_=null}),te()),(!g||m[0]&256)&&S(t,"card",h[8]),(!g||m[0]&2097152)&&S(t,"hovered",h[21]),(!g||m[0]&65536)&&S(t,"inset_shadow",h[16]),m[0]&1024&&P(t,"--bg",h[10]),m[0]&16384&&b!==(b=`${h[14]}rem`)&&P(t,"--pad",b)},i(h){g||(O(i),O(_),g=!0)},o(h){U(i),U(_),g=!1},d(h){h&&y(t),E[o].d(),_&&_.d()}}}function je(s,t,e){let o;Se(s,Ae,l=>e(39,o=l));let{$$slots:i={},$$scope:r}=t;const u=Pe(i),I=window.matchMedia("(prefers-reduced-motion: reduce)").matches==!0;let{src:b=""}=t,{ext:g=b.split(".")[1]}=t,{codecs:n="hevc1"}=t,{t:E="#t=0.01"}=t,{autoplay:c=!0}=t,{controls:_=!0}=t,{cap_center:h=!0}=t,{width:m="100%"}=t,{height:R="auto"}=t,{card:w=!1}=t,{radius_type:z="all"}=t,{background:T="var(--grey-0)"}=t,{controlsBg:v="#0002"}=t,{controlsSize:d=32}=t,{dim:k=0}=t,{pad:F=0}=t,{outline_off:A=!1}=t,{inset_shadow:N=!0}=t,C,f,V,X,Z=!1,Y=!1;const L={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let G;re(()=>{if(o==!0){let l=b.split(".")[0]+".webm";e(0,b=l),e(1,g="webm"),e(2,n="vp9")}G=void 0,I&&e(3,c=!1),c||(e(20,X=!0),e(0,b=b+E))}),Ee(()=>{G&&(clearInterval(G),G=void 0)});const ue=l=>{if(!f||l.type!=="touchmove"&&!(l.buttons&1))return;l.target.setPointerCapture(l.pointerId);const Q=l.type==="touchmove"?l.touches[0].clientX:l.clientX,{width:ye}=C.getBoundingClientRect();e(19,V=Te(L.initialProgress+(Q-L.initialPosition)/ye,.01,.99)),e(17,C.currentTime=f*V,C)},fe=l=>{C.pause();const Q=l.type==="touchmove"?l.touches[0].clientX:l.clientX;e(22,Y=!0),L.paused_before=!!X,L.initialPosition=Q,L.initialProgress=C.currentTime/f},_e=l=>{e(22,Y=!1),L.paused_before||C.play()},he=l=>{e(21,Z=!0),(!Y||!X)&&(G=setInterval(ge,10))},de=l=>{e(21,Z=!1),G&&clearInterval(G),G=void 0};function ge(){e(19,V=C.currentTime/f)}function me(l){ze.call(this,s,l)}const be=()=>e(20,X=!X);function ke(l){ne[l?"unshift":"push"](()=>{C=l,e(17,C)})}function ve(){f=this.duration,e(18,f)}function we(){X=this.paused,e(20,X)}return s.$$set=l=>{"src"in l&&e(0,b=l.src),"ext"in l&&e(1,g=l.ext),"codecs"in l&&e(2,n=l.codecs),"t"in l&&e(29,E=l.t),"autoplay"in l&&e(3,c=l.autoplay),"controls"in l&&e(4,_=l.controls),"cap_center"in l&&e(5,h=l.cap_center),"width"in l&&e(6,m=l.width),"height"in l&&e(7,R=l.height),"card"in l&&e(8,w=l.card),"radius_type"in l&&e(9,z=l.radius_type),"background"in l&&e(10,T=l.background),"controlsBg"in l&&e(11,v=l.controlsBg),"controlsSize"in l&&e(12,d=l.controlsSize),"dim"in l&&e(13,k=l.dim),"pad"in l&&e(14,F=l.pad),"outline_off"in l&&e(15,A=l.outline_off),"inset_shadow"in l&&e(16,N=l.inset_shadow),"$$scope"in l&&e(30,r=l.$$scope)},[b,g,n,c,_,h,m,R,w,z,T,v,d,k,F,A,N,C,f,V,X,Z,Y,ue,fe,_e,he,de,u,E,r,i,me,be,ke,ve,we]}class Qe extends ae{constructor(t){super(),ce(this,t,je,Le,oe,{src:0,ext:1,codecs:2,t:29,autoplay:3,controls:4,cap_center:5,width:6,height:7,card:8,radius_type:9,background:10,controlsBg:11,controlsSize:12,dim:13,pad:14,outline_off:15,inset_shadow:16},null,[-1,-1])}}export{Qe as G,Ue as R};
