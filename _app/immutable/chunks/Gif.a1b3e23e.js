import{s as ne,f as C,g as j,h as P,d as v,j as u,r as y,k as E,i as O,u as D,v as K,o as re,p as ce,a as $,c as ee,y as Se,V as Pe,W as Ie,A as Re,B as qe,C as Ce,D as je,X as De,P as Q,I as J,J as Z,z as ze,F as W,Y as Fe,O as Be}from"./scheduler.8d84c197.js";import{S as ue,i as ae,g as te,t as p,c as se,a as X,b as Ve,d as We,m as Xe,e as Me}from"./index.5e028736.js";import{c as Oe}from"./utils.f0ccaf0a.js";import{u as Te}from"./stores.0eb9cb15.js";function pe(s){let t,e;return{c(){t=C("div"),e=C("canvas"),this.h()},l(i){t=j(i,"DIV",{style:!0,class:!0});var l=P(t);e=j(l,"CANVAS",{width:!0,height:!0,class:!0}),P(e).forEach(v),l.forEach(v),this.h()},h(){u(e,"width",s[1]),u(e,"height",s[1]),u(e,"class","svelte-hfkcg"),y(e,"seeking",s[2]),y(e,"fillSpace",s[3]),E(t,"--s",1/s[0]),E(t,"--bg-color",s[4]),u(t,"class","svelte-hfkcg")},m(i,l){O(i,t,l),D(t,e),s[13](e)},p(i,[l]){l&2&&u(e,"width",i[1]),l&2&&u(e,"height",i[1]),l&4&&y(e,"seeking",i[2]),l&8&&y(e,"fillSpace",i[3]),l&1&&E(t,"--s",1/i[0]),l&16&&E(t,"--bg-color",i[4])},i:K,o:K,d(i){i&&v(t),s[13](null)}}}function Ae(s,t,e){let i;const l=Math.PI*2;let{percent:c=0}=t,{size:h}=t,{seeking:d}=t,{scaleFactor:o=1}=t,w,r,{use_DPR:I=!0}=t,{use_decimal:m=!0}=t,{fillSpace:g=!1}=t,{bgColor:a="#0004"}=t,{colorFill:S="#b8b7b5"}=t,{colorStroke:M="#fff4"}=t;const b=h/8,q=h/2,B=(h-b*1.1)/2,R=b*.7,f=h*.25,k=b*.9,z={offsetX:q-f-1.3*b,offsetY:-.5*k,outlineW:b*.05};re(()=>{I?e(0,o=window.devicePixelRatio*2):e(0,o=1),e(5,w.width=Math.floor(h*o),w),e(5,w.height=Math.floor(h*o),w),e(11,r=w.getContext("2d")),r.scale(o,o),r.rotate(Math.PI/2*3),r.translate(-h,0)});const A=_=>{r.save(),r.beginPath(),r.translate(q,q),r.rotate(_),r.roundRect(z.offsetX,z.offsetY,f,k,k),r.fill(),e(11,r.lineWidth=z.outlineW,r),r.stroke(),r.restore()},G=(_,F,N,V,Y)=>{r.clearRect(0,0,h,h),r.beginPath(),r.arc(q,q,B,0,l,!0),e(11,r.strokeStyle=N,r),e(11,r.lineWidth=V,r),r.stroke(),r.beginPath(),r.arc(q,q,B,0,Y,!1),e(11,r.strokeStyle=F,r),e(11,r.lineCap="round",r),e(11,r.lineWidth=R,r),r.stroke(),_&&(e(11,r.fillStyle=F,r),e(11,r.strokeStyle=F,r),A(Y))};function U(_){ce[_?"unshift":"push"](()=>{w=_,e(5,w)})}return s.$$set=_=>{"percent"in _&&e(6,c=_.percent),"size"in _&&e(1,h=_.size),"seeking"in _&&e(2,d=_.seeking),"scaleFactor"in _&&e(0,o=_.scaleFactor),"use_DPR"in _&&e(7,I=_.use_DPR),"use_decimal"in _&&e(8,m=_.use_decimal),"fillSpace"in _&&e(3,g=_.fillSpace),"bgColor"in _&&e(4,a=_.bgColor),"colorFill"in _&&e(9,S=_.colorFill),"colorStroke"in _&&e(10,M=_.colorStroke)},s.$$.update=()=>{s.$$.dirty&320&&e(12,i=m?c*l:c/100*l),s.$$.dirty&7684&&r&&G(d,S,M,b,i)},[o,h,d,g,a,w,c,I,m,S,M,r,i,U]}class Ge extends ue{constructor(t){super(),ae(this,t,Ae,pe,ne,{percent:6,size:1,seeking:2,scaleFactor:0,use_DPR:7,use_decimal:8,fillSpace:3,bgColor:4,colorFill:9,colorStroke:10})}}const Ue=s=>({}),le=s=>({});function Ne(s){let t,e,i,l,c,h;return{c(){t=C("div"),e=C("video"),i=C("source"),this.h()},l(d){t=j(d,"DIV",{class:!0});var o=P(t);e=j(o,"VIDEO",{style:!0,class:!0});var w=P(e);i=j(w,"SOURCE",{src:!0,type:!0}),w.forEach(v),o.forEach(v),this.h()},h(){Q(i.src,l=s[0])||u(i,"src",l),u(i,"type",c="video/"+s[1]+"; "+s[2]),e.autoplay=!0,e.loop=!0,e.playsInline=!0,e.muted=!0,E(e,"--width",s[6]),E(e,"--height",s[7]),u(e,"class","svelte-qjpw24"),y(e,"dim",s[13]),u(t,"class",h="pseudo-border "+s[9]+" svelte-qjpw24"),y(t,"outline_off",s[16])},m(d,o){O(d,t,o),D(t,e),D(e,i)},p(d,o){o[0]&1&&!Q(i.src,l=d[0])&&u(i,"src",l),o[0]&6&&c!==(c="video/"+d[1]+"; "+d[2])&&u(i,"type",c),o[0]&64&&E(e,"--width",d[6]),o[0]&128&&E(e,"--height",d[7]),o[0]&8192&&y(e,"dim",d[13]),o[0]&512&&h!==(h="pseudo-border "+d[9]+" svelte-qjpw24")&&u(t,"class",h),o[0]&66048&&y(t,"outline_off",d[16])},i:K,o:K,d(d){d&&v(t)}}}function Ye(s){let t,e,i,l,c=`${s[12]}px`,h,d,o,w,r,I,m=!0,g,a,S,M,b=s[22]&&ie(s);function q(f,k){return f[21]?Je:Le}let B=q(s),R=B(s);return{c(){t=C("button"),e=C("div"),b&&b.c(),i=$(),l=J("svg"),R.c(),h=$(),d=C("div"),o=C("video"),w=C("source"),this.h()},l(f){t=j(f,"BUTTON",{class:!0});var k=P(t);e=j(k,"DIV",{class:!0});var z=P(e);b&&b.l(z),i=ee(z),l=Z(z,"svg",{viewBox:!0,id:!0,width:!0,height:!0,class:!0});var A=P(l);R.l(A),A.forEach(v),z.forEach(v),k.forEach(v),h=ee(f),d=j(f,"DIV",{class:!0});var G=P(d);o=j(G,"VIDEO",{style:!0,class:!0});var U=P(o);w=j(U,"SOURCE",{src:!0,type:!0}),U.forEach(v),G.forEach(v),this.h()},h(){u(l,"viewBox","0 0 100 100"),u(l,"id","logos"),u(l,"width","50"),u(l,"height","50"),u(l,"class","svelte-qjpw24"),y(l,"seeking",s[23]),y(l,"hovered",s[22]),u(e,"class","ui-elements pseudo-border svelte-qjpw24"),u(t,"class","controls svelte-qjpw24"),E(t,"--size",c),E(t,"--controls-bg",s[11]),Q(w.src,r=s[0])||u(w,"src",r),u(w,"type",I="video/"+s[1]+"; "+s[2]),o.autoplay=s[3],o.loop=!0,o.playsInline=!0,o.muted=!0,E(o,"--width",s[6]),E(o,"--height",s[7]),u(o,"class","svelte-qjpw24"),s[19]===void 0&&ze(()=>s[36].call(o)),y(o,"dim",s[13]),u(d,"class",g="pseudo-border "+s[9]+" svelte-qjpw24"),y(d,"outline_off",s[16])},m(f,k){O(f,t,k),D(t,e),b&&b.m(e,null),D(e,i),D(e,l),R.m(l,null),O(f,h,k),O(f,d,k),D(d,o),D(o,w),s[35](o),a=!0,S||(M=[W(t,"click",s[34]),W(o,"pointerenter",s[27]),W(o,"pointerleave",s[28]),W(o,"pointerdown",s[25]),W(o,"pointermove",s[24]),W(o,"pointerup",s[26]),W(o,"touchstart",Fe(s[33])),W(o,"durationchange",s[36]),W(o,"play",s[37]),W(o,"pause",s[37])],S=!0)},p(f,k){f[22]?b?(b.p(f,k),k[0]&4194304&&X(b,1)):(b=ie(f),b.c(),X(b,1),b.m(e,i)):b&&(te(),p(b,1,1,()=>{b=null}),se()),B!==(B=q(f))&&(R.d(1),R=B(f),R&&(R.c(),R.m(l,null))),(!a||k[0]&8388608)&&y(l,"seeking",f[23]),(!a||k[0]&4194304)&&y(l,"hovered",f[22]),k[0]&4096&&c!==(c=`${f[12]}px`)&&E(t,"--size",c),k[0]&2048&&E(t,"--controls-bg",f[11]),(!a||k[0]&1&&!Q(w.src,r=f[0]))&&u(w,"src",r),(!a||k[0]&6&&I!==(I="video/"+f[1]+"; "+f[2]))&&u(w,"type",I),(!a||k[0]&8)&&(o.autoplay=f[3]),(!a||k[0]&64)&&E(o,"--width",f[6]),(!a||k[0]&128)&&E(o,"--height",f[7]),k[0]&2097152&&m!==(m=f[21])&&o[m?"pause":"play"](),(!a||k[0]&8192)&&y(o,"dim",f[13]),(!a||k[0]&512&&g!==(g="pseudo-border "+f[9]+" svelte-qjpw24"))&&u(d,"class",g),(!a||k[0]&66048)&&y(d,"outline_off",f[16])},i(f){a||(X(b),a=!0)},o(f){p(b),a=!1},d(f){f&&(v(t),v(h),v(d)),b&&b.d(),R.d(),s[35](null),S=!1,Be(M)}}}function ie(s){let t,e;return t=new Ge({props:{size:s[12],percent:s[20],seeking:s[23]}}),{c(){Ve(t.$$.fragment)},l(i){We(t.$$.fragment,i)},m(i,l){Xe(t,i,l),e=!0},p(i,l){const c={};l[0]&4096&&(c.size=i[12]),l[0]&1048576&&(c.percent=i[20]),l[0]&8388608&&(c.seeking=i[23]),t.$set(c)},i(i){e||(X(t.$$.fragment,i),e=!0)},o(i){p(t.$$.fragment,i),e=!1},d(i){Me(t,i)}}}function Le(s){let t,e,i;return{c(){t=J("g"),e=J("rect"),i=J("rect"),this.h()},l(l){t=Z(l,"g",{id:!0,class:!0});var c=P(t);e=Z(c,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),P(e).forEach(v),i=Z(c,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),P(i).forEach(v),c.forEach(v),this.h()},h(){u(e,"x","24"),u(e,"y","20"),u(e,"width","20"),u(e,"height","60"),u(e,"rx","5"),u(i,"x","56"),u(i,"y","20"),u(i,"width","20"),u(i,"height","60"),u(i,"rx","5"),u(t,"id","pause"),u(t,"class","svelte-qjpw24")},m(l,c){O(l,t,c),D(t,e),D(t,i)},d(l){l&&v(t)}}}function Je(s){let t,e;return{c(){t=J("g"),e=J("path"),this.h()},l(i){t=Z(i,"g",{id:!0,class:!0});var l=P(t);e=Z(l,"path",{d:!0}),P(e).forEach(v),l.forEach(v),this.h()},h(){u(e,"d","M 34 25 v 50L 76 50 Z"),u(t,"id","play"),u(t,"class","svelte-qjpw24")},m(i,l){O(i,t,l),D(t,e)},d(i){i&&v(t)}}}function oe(s){let t,e;const i=s[32].caption,l=Re(i,s,s[31],le);return{c(){t=C("figcaption"),l&&l.c(),this.h()},l(c){t=j(c,"FIGCAPTION",{class:!0});var h=P(t);l&&l.l(h),h.forEach(v),this.h()},h(){u(t,"class","caption svelte-qjpw24"),y(t,"cap_center",s[5])},m(c,h){O(c,t,h),l&&l.m(t,null),e=!0},p(c,h){l&&l.p&&(!e||h[1]&1)&&qe(l,i,c,c[31],e?je(i,c[31],h,Ue):Ce(c[31]),le),(!e||h[0]&32)&&y(t,"cap_center",c[5])},i(c){e||(X(l,c),e=!0)},o(c){p(l,c),e=!1},d(c){c&&v(t),l&&l.d(c)}}}function Ze(s){let t,e,i,l,c=`${100-s[13]}%`,h,d=`${s[14]}rem`,o;const w=[Ye,Ne],r=[];function I(g,a){return g[4]?0:1}i=I(s),l=r[i]=w[i](s);let m=s[29].caption&&oe(s);return{c(){t=C("figure"),e=C("div"),l.c(),h=$(),m&&m.c(),this.h()},l(g){t=j(g,"FIGURE",{class:!0});var a=P(t);e=j(a,"DIV",{class:!0});var S=P(e);l.l(S),S.forEach(v),h=ee(a),m&&m.l(a),a.forEach(v),this.h()},h(){u(e,"class","wrapper radius svelte-qjpw24"),E(e,"--dim",c),u(t,"class","svelte-qjpw24"),y(t,"card",s[8]),y(t,"inset_shadow",s[17]),y(t,"hovered",s[22]),E(t,"--bg",s[10]),E(t,"--pad",d),E(t,"--inner-radius",s[15])},m(g,a){O(g,t,a),D(t,e),r[i].m(e,null),D(t,h),m&&m.m(t,null),o=!0},p(g,a){let S=i;i=I(g),i===S?r[i].p(g,a):(te(),p(r[S],1,1,()=>{r[S]=null}),se(),l=r[i],l?l.p(g,a):(l=r[i]=w[i](g),l.c()),X(l,1),l.m(e,null)),a[0]&8192&&c!==(c=`${100-g[13]}%`)&&E(e,"--dim",c),g[29].caption?m?(m.p(g,a),a[0]&536870912&&X(m,1)):(m=oe(g),m.c(),X(m,1),m.m(t,null)):m&&(te(),p(m,1,1,()=>{m=null}),se()),(!o||a[0]&256)&&y(t,"card",g[8]),(!o||a[0]&131072)&&y(t,"inset_shadow",g[17]),(!o||a[0]&4194304)&&y(t,"hovered",g[22]),a[0]&1024&&E(t,"--bg",g[10]),a[0]&16384&&d!==(d=`${g[14]}rem`)&&E(t,"--pad",d),a[0]&32768&&E(t,"--inner-radius",g[15])},i(g){o||(X(l),X(m),o=!0)},o(g){p(l),p(m),o=!1},d(g){g&&v(t),r[i].d(),m&&m.d()}}}function He(s,t,e){let i;Se(s,Te,n=>e(40,i=n));let{$$slots:l={},$$scope:c}=t;const h=Pe(l),d=window.matchMedia("(prefers-reduced-motion: reduce)").matches==!0;let{src:o=""}=t,{ext:w=o.split(".")[1]}=t,{codecs:r="hevc1"}=t,{t:I="#t=0.01"}=t,{autoplay:m=!0}=t,{controls:g=!0}=t,{cap_center:a=!0}=t,{width:S="100%"}=t,{height:M="auto"}=t,{card:b=!1}=t,{radius_type:q="all"}=t,{background:B="var(--grey-0)"}=t,{controlsBg:R="#0002"}=t,{controlsSize:f=32}=t,{dim:k=0}=t,{pad:z=0}=t,{inner_radius:A="var(--space-3xs)"}=t,{outline_off:G=!1}=t,{inset_shadow:U=!1}=t,_,F,N,V,Y=!1,H=!1;const L={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let T;re(()=>{if(i==!0){let n=o.split(".")[0]+".webm";e(0,o=n),e(1,w="webm"),e(2,r="vp9")}T=void 0,d&&e(3,m=!1),m||(e(21,V=!0),e(0,o=o+I))}),Ie(()=>{T&&(clearInterval(T),T=void 0)});const fe=n=>{if(!F||n.type!=="touchmove"&&!(n.buttons&1))return;n.target.setPointerCapture(n.pointerId);const x=n.type==="touchmove"?n.touches[0].clientX:n.clientX,{width:Ee}=_.getBoundingClientRect();e(20,N=Oe(L.initialProgress+(x-L.initialPosition)/Ee,.01,.99)),e(18,_.currentTime=F*N,_)},_e=n=>{_.pause();const x=n.type==="touchmove"?n.touches[0].clientX:n.clientX;e(23,H=!0),L.paused_before=!!V,L.initialPosition=x,L.initialProgress=_.currentTime/F},he=n=>{e(23,H=!1),L.paused_before||_.play()},de=n=>{e(22,Y=!0),(!H||!V)&&(T=setInterval(me,10))},ge=n=>{e(22,Y=!1),T&&clearInterval(T),T=void 0};function me(){e(20,N=_.currentTime/F)}function be(n){De.call(this,s,n)}const ke=()=>e(21,V=!V);function we(n){ce[n?"unshift":"push"](()=>{_=n,e(18,_)})}function ve(){F=this.duration,e(19,F)}function ye(){V=this.paused,e(21,V)}return s.$$set=n=>{"src"in n&&e(0,o=n.src),"ext"in n&&e(1,w=n.ext),"codecs"in n&&e(2,r=n.codecs),"t"in n&&e(30,I=n.t),"autoplay"in n&&e(3,m=n.autoplay),"controls"in n&&e(4,g=n.controls),"cap_center"in n&&e(5,a=n.cap_center),"width"in n&&e(6,S=n.width),"height"in n&&e(7,M=n.height),"card"in n&&e(8,b=n.card),"radius_type"in n&&e(9,q=n.radius_type),"background"in n&&e(10,B=n.background),"controlsBg"in n&&e(11,R=n.controlsBg),"controlsSize"in n&&e(12,f=n.controlsSize),"dim"in n&&e(13,k=n.dim),"pad"in n&&e(14,z=n.pad),"inner_radius"in n&&e(15,A=n.inner_radius),"outline_off"in n&&e(16,G=n.outline_off),"inset_shadow"in n&&e(17,U=n.inset_shadow),"$$scope"in n&&e(31,c=n.$$scope)},[o,w,r,m,g,a,S,M,b,q,B,R,f,k,z,A,G,U,_,F,N,V,Y,H,fe,_e,he,de,ge,h,I,c,l,be,ke,we,ve,ye]}class et extends ue{constructor(t){super(),ae(this,t,He,Ze,ne,{src:0,ext:1,codecs:2,t:30,autoplay:3,controls:4,cap_center:5,width:6,height:7,card:8,radius_type:9,background:10,controlsBg:11,controlsSize:12,dim:13,pad:14,inner_radius:15,outline_off:16,inset_shadow:17},null,[-1,-1])}}export{et as G,Ge as R};
