import{s as ne,f as D,g as p,h as I,d as w,j as u,r as y,k as z,i as F,u as B,v as Z,o as oe,p as re,a as x,c as $,y as ze,V as Ee,W as Pe,A as Ie,B as Se,C as Re,D as Ce,X as De,P as H,I as L,J as j,z as pe,F as X,Y as Be,O as Ve}from"./scheduler.8d84c197.js";import{S as ae,i as ue,g as ee,t as G,c as te,a as M,b as We,d as Xe,m as Me,e as Oe}from"./index.5e028736.js";import{c as Te}from"./utils.27f8e387.js";import{u as Fe}from"./stores.09d83ec6.js";function Ae(s){let t,e;return{c(){t=D("div"),e=D("canvas"),this.h()},l(i){t=p(i,"DIV",{style:!0,class:!0});var l=I(t);e=p(l,"CANVAS",{width:!0,height:!0,class:!0}),I(e).forEach(w),l.forEach(w),this.h()},h(){u(e,"width",s[1]),u(e,"height",s[1]),u(e,"class","svelte-hfkcg"),y(e,"seeking",s[2]),y(e,"fillSpace",s[3]),z(t,"--s",1/s[0]),z(t,"--bg-color",s[4]),u(t,"class","svelte-hfkcg")},m(i,l){F(i,t,l),B(t,e),s[11](e)},p(i,[l]){l&2&&u(e,"width",i[1]),l&2&&u(e,"height",i[1]),l&4&&y(e,"seeking",i[2]),l&8&&y(e,"fillSpace",i[3]),l&1&&z(t,"--s",1/i[0]),l&16&&z(t,"--bg-color",i[4])},i:Z,o:Z,d(i){i&&w(t),s[11](null)}}}function Ge(s,t,e){let i;const l=Math.PI*2;let{percent:a=0}=t,{size:_}=t,{seeking:h}=t,{scaleFactor:n=1}=t,b,r,{use_DPR:S=!0}=t,{use_decimal:g=!0}=t,{fillSpace:d=!1}=t,{bgColor:c="#0004"}=t;const E=_/8,C=_/2,k=(_-E*1.1)/2,U=E*.7,W=_*.25,R=E*.9,f={offsetX:C-W-1.3*E,offsetY:-.5*R,outlineW:E*.05};oe(()=>{S?e(0,n=window.devicePixelRatio*2):e(0,n=1),e(5,b.width=Math.floor(_*n),b),e(5,b.height=Math.floor(_*n),b),e(9,r=b.getContext("2d")),r.scale(n,n),r.rotate(Math.PI/2*3),r.translate(-_,0)});const v=m=>{r.save(),r.beginPath(),r.translate(C,C),r.rotate(m),r.roundRect(f.offsetX,f.offsetY,W,R,R),r.fill(),e(9,r.lineWidth=f.outlineW,r),r.stroke(),r.restore()},O=(m,P,T,Y,V)=>{r.clearRect(0,0,_,_),r.beginPath(),r.arc(C,C,k,0,l,!0),e(9,r.strokeStyle=T,r),e(9,r.lineWidth=Y,r),r.stroke(),r.beginPath(),r.arc(C,C,k,0,V,!1),e(9,r.strokeStyle=P,r),e(9,r.lineCap="round",r),e(9,r.lineWidth=U,r),r.stroke(),m&&(e(9,r.fillStyle=P,r),e(9,r.strokeStyle=P,r),v(V))};function N(m){re[m?"unshift":"push"](()=>{b=m,e(5,b)})}return s.$$set=m=>{"percent"in m&&e(6,a=m.percent),"size"in m&&e(1,_=m.size),"seeking"in m&&e(2,h=m.seeking),"scaleFactor"in m&&e(0,n=m.scaleFactor),"use_DPR"in m&&e(7,S=m.use_DPR),"use_decimal"in m&&e(8,g=m.use_decimal),"fillSpace"in m&&e(3,d=m.fillSpace),"bgColor"in m&&e(4,c=m.bgColor)},s.$$.update=()=>{s.$$.dirty&320&&e(10,i=g?a*l:a/100*l),s.$$.dirty&1540&&r&&O(h,"#b8b7b5","#fff4",E,i)},[n,_,h,d,c,b,a,S,g,r,i,N]}class Ue extends ae{constructor(t){super(),ue(this,t,Ge,Ae,ne,{percent:6,size:1,seeking:2,scaleFactor:0,use_DPR:7,use_decimal:8,fillSpace:3,bgColor:4})}}const Ne=s=>({}),se=s=>({});function Ye(s){let t,e,i,l,a,_;return{c(){t=D("div"),e=D("video"),i=D("source"),this.h()},l(h){t=p(h,"DIV",{class:!0});var n=I(t);e=p(n,"VIDEO",{style:!0,class:!0});var b=I(e);i=p(b,"SOURCE",{src:!0,type:!0}),b.forEach(w),n.forEach(w),this.h()},h(){H(i.src,l=s[0])||u(i,"src",l),u(i,"type",a="video/"+s[1]+"; "+s[2]),e.autoplay=!0,e.loop=!0,e.playsInline=!0,e.muted=!0,z(e,"--width",s[6]),z(e,"--height",s[7]),u(e,"class","svelte-byasvz"),y(e,"dim",s[13]),u(t,"class",_="pseudo-border "+s[9]+" svelte-byasvz"),y(t,"outline_off",s[16])},m(h,n){F(h,t,n),B(t,e),B(e,i)},p(h,n){n[0]&1&&!H(i.src,l=h[0])&&u(i,"src",l),n[0]&6&&a!==(a="video/"+h[1]+"; "+h[2])&&u(i,"type",a),n[0]&64&&z(e,"--width",h[6]),n[0]&128&&z(e,"--height",h[7]),n[0]&8192&&y(e,"dim",h[13]),n[0]&512&&_!==(_="pseudo-border "+h[9]+" svelte-byasvz")&&u(t,"class",_),n[0]&66048&&y(t,"outline_off",h[16])},i:Z,o:Z,d(h){h&&w(t)}}}function qe(s){let t,e,i,l,a=`${s[12]}px`,_,h,n,b,r,S,g=!0,d,c,E,C,k=s[22]&&le(s);function U(f,v){return f[21]?je:Le}let W=U(s),R=W(s);return{c(){t=D("button"),e=D("div"),k&&k.c(),i=x(),l=L("svg"),R.c(),_=x(),h=D("div"),n=D("video"),b=D("source"),this.h()},l(f){t=p(f,"BUTTON",{class:!0});var v=I(t);e=p(v,"DIV",{class:!0});var O=I(e);k&&k.l(O),i=$(O),l=j(O,"svg",{viewBox:!0,id:!0,width:!0,height:!0,class:!0});var N=I(l);R.l(N),N.forEach(w),O.forEach(w),v.forEach(w),_=$(f),h=p(f,"DIV",{class:!0});var m=I(h);n=p(m,"VIDEO",{style:!0,class:!0});var P=I(n);b=p(P,"SOURCE",{src:!0,type:!0}),P.forEach(w),m.forEach(w),this.h()},h(){u(l,"viewBox","0 0 100 100"),u(l,"id","logos"),u(l,"width","50"),u(l,"height","50"),u(l,"class","svelte-byasvz"),y(l,"seeking",s[23]),y(l,"hovered",s[22]),u(e,"class","ui-elements pseudo-border svelte-byasvz"),u(t,"class","controls svelte-byasvz"),z(t,"--size",a),z(t,"--controls-bg",s[11]),H(b.src,r=s[0])||u(b,"src",r),u(b,"type",S="video/"+s[1]+"; "+s[2]),n.autoplay=s[3],n.loop=!0,n.playsInline=!0,n.muted=!0,z(n,"--width",s[6]),z(n,"--height",s[7]),u(n,"class","svelte-byasvz"),s[19]===void 0&&pe(()=>s[35].call(n)),y(n,"dim",s[13]),u(h,"class",d="pseudo-border "+s[9]+" svelte-byasvz"),y(h,"outline_off",s[16])},m(f,v){F(f,t,v),B(t,e),k&&k.m(e,null),B(e,i),B(e,l),R.m(l,null),F(f,_,v),F(f,h,v),B(h,n),B(n,b),s[34](n),c=!0,E||(C=[X(t,"click",s[33]),X(n,"pointerenter",s[27]),X(n,"pointerleave",s[28]),X(n,"pointerdown",s[25]),X(n,"pointermove",s[24]),X(n,"pointerup",s[26]),X(n,"touchstart",Be(s[32])),X(n,"durationchange",s[35]),X(n,"play",s[36]),X(n,"pause",s[36])],E=!0)},p(f,v){f[22]?k?(k.p(f,v),v[0]&4194304&&M(k,1)):(k=le(f),k.c(),M(k,1),k.m(e,i)):k&&(ee(),G(k,1,1,()=>{k=null}),te()),W!==(W=U(f))&&(R.d(1),R=W(f),R&&(R.c(),R.m(l,null))),(!c||v[0]&8388608)&&y(l,"seeking",f[23]),(!c||v[0]&4194304)&&y(l,"hovered",f[22]),v[0]&4096&&a!==(a=`${f[12]}px`)&&z(t,"--size",a),v[0]&2048&&z(t,"--controls-bg",f[11]),(!c||v[0]&1&&!H(b.src,r=f[0]))&&u(b,"src",r),(!c||v[0]&6&&S!==(S="video/"+f[1]+"; "+f[2]))&&u(b,"type",S),(!c||v[0]&8)&&(n.autoplay=f[3]),(!c||v[0]&64)&&z(n,"--width",f[6]),(!c||v[0]&128)&&z(n,"--height",f[7]),v[0]&2097152&&g!==(g=f[21])&&n[g?"pause":"play"](),(!c||v[0]&8192)&&y(n,"dim",f[13]),(!c||v[0]&512&&d!==(d="pseudo-border "+f[9]+" svelte-byasvz"))&&u(h,"class",d),(!c||v[0]&66048)&&y(h,"outline_off",f[16])},i(f){c||(M(k),c=!0)},o(f){G(k),c=!1},d(f){f&&(w(t),w(_),w(h)),k&&k.d(),R.d(),s[34](null),E=!1,Ve(C)}}}function le(s){let t,e;return t=new Ue({props:{size:s[12],percent:s[20],seeking:s[23]}}),{c(){We(t.$$.fragment)},l(i){Xe(t.$$.fragment,i)},m(i,l){Me(t,i,l),e=!0},p(i,l){const a={};l[0]&4096&&(a.size=i[12]),l[0]&1048576&&(a.percent=i[20]),l[0]&8388608&&(a.seeking=i[23]),t.$set(a)},i(i){e||(M(t.$$.fragment,i),e=!0)},o(i){G(t.$$.fragment,i),e=!1},d(i){Oe(t,i)}}}function Le(s){let t,e,i;return{c(){t=L("g"),e=L("rect"),i=L("rect"),this.h()},l(l){t=j(l,"g",{id:!0,class:!0});var a=I(t);e=j(a,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),I(e).forEach(w),i=j(a,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),I(i).forEach(w),a.forEach(w),this.h()},h(){u(e,"x","24"),u(e,"y","20"),u(e,"width","20"),u(e,"height","60"),u(e,"rx","5"),u(i,"x","56"),u(i,"y","20"),u(i,"width","20"),u(i,"height","60"),u(i,"rx","5"),u(t,"id","pause"),u(t,"class","svelte-byasvz")},m(l,a){F(l,t,a),B(t,e),B(t,i)},d(l){l&&w(t)}}}function je(s){let t,e;return{c(){t=L("g"),e=L("path"),this.h()},l(i){t=j(i,"g",{id:!0,class:!0});var l=I(t);e=j(l,"path",{d:!0}),I(e).forEach(w),l.forEach(w),this.h()},h(){u(e,"d","M 34 25 v 50L 76 50 Z"),u(t,"id","play"),u(t,"class","svelte-byasvz")},m(i,l){F(i,t,l),B(t,e)},d(i){i&&w(t)}}}function ie(s){let t,e;const i=s[31].caption,l=Ie(i,s,s[30],se);return{c(){t=D("figcaption"),l&&l.c(),this.h()},l(a){t=p(a,"FIGCAPTION",{class:!0});var _=I(t);l&&l.l(_),_.forEach(w),this.h()},h(){u(t,"class","caption svelte-byasvz"),y(t,"cap_center",s[5])},m(a,_){F(a,t,_),l&&l.m(t,null),e=!0},p(a,_){l&&l.p&&(!e||_[0]&1073741824)&&Se(l,i,a,a[30],e?Ce(i,a[30],_,Ne):Re(a[30]),se),(!e||_[0]&32)&&y(t,"cap_center",a[5])},i(a){e||(M(l,a),e=!0)},o(a){G(l,a),e=!1},d(a){a&&w(t),l&&l.d(a)}}}function Je(s){let t,e,i,l,a=`${100-s[13]}%`,_,h=`${s[14]}rem`,n;const b=[qe,Ye],r=[];function S(d,c){return d[4]?0:1}i=S(s),l=r[i]=b[i](s);let g=s[29].caption&&ie(s);return{c(){t=D("figure"),e=D("div"),l.c(),_=x(),g&&g.c(),this.h()},l(d){t=p(d,"FIGURE",{class:!0});var c=I(t);e=p(c,"DIV",{class:!0});var E=I(e);l.l(E),E.forEach(w),_=$(c),g&&g.l(c),c.forEach(w),this.h()},h(){u(e,"class","wrapper radius svelte-byasvz"),z(e,"--dim",a),u(t,"class","svelte-byasvz"),y(t,"card",s[8]),y(t,"inset_shadow",s[17]),y(t,"hovered",s[22]),z(t,"--bg",s[10]),z(t,"--pad",h),z(t,"--inner-radius",s[15])},m(d,c){F(d,t,c),B(t,e),r[i].m(e,null),B(t,_),g&&g.m(t,null),n=!0},p(d,c){let E=i;i=S(d),i===E?r[i].p(d,c):(ee(),G(r[E],1,1,()=>{r[E]=null}),te(),l=r[i],l?l.p(d,c):(l=r[i]=b[i](d),l.c()),M(l,1),l.m(e,null)),c[0]&8192&&a!==(a=`${100-d[13]}%`)&&z(e,"--dim",a),d[29].caption?g?(g.p(d,c),c[0]&536870912&&M(g,1)):(g=ie(d),g.c(),M(g,1),g.m(t,null)):g&&(ee(),G(g,1,1,()=>{g=null}),te()),(!n||c[0]&256)&&y(t,"card",d[8]),(!n||c[0]&131072)&&y(t,"inset_shadow",d[17]),(!n||c[0]&4194304)&&y(t,"hovered",d[22]),c[0]&1024&&z(t,"--bg",d[10]),c[0]&16384&&h!==(h=`${d[14]}rem`)&&z(t,"--pad",h),c[0]&32768&&z(t,"--inner-radius",d[15])},i(d){n||(M(l),M(g),n=!0)},o(d){G(l),G(g),n=!1},d(d){d&&w(t),r[i].d(),g&&g.d()}}}function Ze(s,t,e){let i;ze(s,Fe,o=>e(39,i=o));let{$$slots:l={},$$scope:a}=t;const _=Ee(l),h=window.matchMedia("(prefers-reduced-motion: reduce)").matches==!0;let{src:n=""}=t,{ext:b=n.split(".")[1]}=t,{codecs:r="hevc1"}=t,{autoplay:S=!0}=t,{controls:g=!0}=t,{cap_center:d=!0}=t,{width:c="100%"}=t,{height:E="auto"}=t,{card:C=!1}=t,{radius_type:k="all"}=t,{background:U="var(--grey-0)"}=t,{controlsBg:W="#0002"}=t,{controlsSize:R=32}=t,{dim:f=0}=t,{pad:v=0}=t,{inner_radius:O="var(--space-3xs)"}=t,{outline_off:N=!1}=t,{inset_shadow:m=!1}=t,P,T,Y,V,K=!1,J=!1;const q={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let A;oe(()=>{if(i==!0){let o=n.split(".")[0]+".webm";e(0,n=o),e(1,b="webm"),e(2,r="vp9")}A=void 0,h&&e(3,S=!1),S||(e(21,V=!0),e(0,n=n+"#t=0.01"))}),Pe(()=>{A&&(clearInterval(A),A=void 0)});const ce=o=>{if(!T||o.type!=="touchmove"&&!(o.buttons&1))return;o.target.setPointerCapture(o.pointerId);const Q=o.type==="touchmove"?o.touches[0].clientX:o.clientX,{width:ye}=P.getBoundingClientRect();e(20,Y=Te(q.initialProgress+(Q-q.initialPosition)/ye,.01,.99)),e(18,P.currentTime=T*Y,P)},fe=o=>{P.pause();const Q=o.type==="touchmove"?o.touches[0].clientX:o.clientX;e(23,J=!0),q.paused_before=!!V,q.initialPosition=Q,q.initialProgress=P.currentTime/T},_e=o=>{e(23,J=!1),q.paused_before||P.play()},he=o=>{e(22,K=!0),(!J||!V)&&(A=setInterval(ge,10))},de=o=>{e(22,K=!1),A&&clearInterval(A),A=void 0};function ge(){e(20,Y=P.currentTime/T)}function me(o){De.call(this,s,o)}const be=()=>e(21,V=!V);function ve(o){re[o?"unshift":"push"](()=>{P=o,e(18,P)})}function ke(){T=this.duration,e(19,T)}function we(){V=this.paused,e(21,V)}return s.$$set=o=>{"src"in o&&e(0,n=o.src),"ext"in o&&e(1,b=o.ext),"codecs"in o&&e(2,r=o.codecs),"autoplay"in o&&e(3,S=o.autoplay),"controls"in o&&e(4,g=o.controls),"cap_center"in o&&e(5,d=o.cap_center),"width"in o&&e(6,c=o.width),"height"in o&&e(7,E=o.height),"card"in o&&e(8,C=o.card),"radius_type"in o&&e(9,k=o.radius_type),"background"in o&&e(10,U=o.background),"controlsBg"in o&&e(11,W=o.controlsBg),"controlsSize"in o&&e(12,R=o.controlsSize),"dim"in o&&e(13,f=o.dim),"pad"in o&&e(14,v=o.pad),"inner_radius"in o&&e(15,O=o.inner_radius),"outline_off"in o&&e(16,N=o.outline_off),"inset_shadow"in o&&e(17,m=o.inset_shadow),"$$scope"in o&&e(30,a=o.$$scope)},[n,b,r,S,g,d,c,E,C,k,U,W,R,f,v,O,N,m,P,T,Y,V,K,J,ce,fe,_e,he,de,_,a,l,me,be,ve,ke,we]}class $e extends ae{constructor(t){super(),ue(this,t,Ze,Je,ne,{src:0,ext:1,codecs:2,autoplay:3,controls:4,cap_center:5,width:6,height:7,card:8,radius_type:9,background:10,controlsBg:11,controlsSize:12,dim:13,pad:14,inner_radius:15,outline_off:16,inset_shadow:17},null,[-1,-1])}}export{$e as G,Ue as R};
