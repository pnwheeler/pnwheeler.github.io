import{s as ie,f as C,g as D,h as I,d as v,j as f,k as y,r as p,i as X,v as L,o as le,p as ne,a as K,c as Q,u as B,Y as we,Z as ye,B as Ee,C as pe,D as Ie,E as Pe,_ as Se,P as Z,H as Y,I as j,A as ze,N as T,R as Re,O as Ce}from"./scheduler.897fc3d6.js";import{S as oe,i as re,g as x,t as G,c as $,a as W,b as De,d as Be,m as Oe,e as Te}from"./index.f7b4bdff.js";function We(s){let t;return{c(){t=C("canvas"),this.h()},l(e){t=D(e,"CANVAS",{width:!0,height:!0,style:!0,class:!0}),I(t).forEach(v),this.h()},h(){f(t,"width",s[1]),f(t,"height",s[1]),y(t,"--s",1/s[0]),f(t,"class","svelte-1i724kj"),p(t,"seeking",s[2])},m(e,i){X(e,t,i),s[7](t)},p(e,[i]){i&2&&f(t,"width",e[1]),i&2&&f(t,"height",e[1]),i&1&&y(t,"--s",1/e[0]),i&4&&p(t,"seeking",e[2])},i:L,o:L,d(e){e&&v(t),s[7](null)}}}function Xe(s,t,e){let i;const l=Math.PI*2;let{percent:u=0}=t,{size:c}=t,{seeking:h}=t,{scaleFactor:o=1}=t,m,r;const E=c/8,w=c/2,z=(c-E*1.1)/2,_=E*.7,g=c*.25,b=E*.9,d={offsetX:w-g-1.3*E,offsetY:-.5*b,outlineW:E*.05};le(()=>{e(0,o=window.devicePixelRatio*2),e(3,m.width=Math.floor(c*o),m),e(3,m.height=Math.floor(c*o),m),e(5,r=m.getContext("2d")),r.scale(o,o),r.rotate(Math.PI/2*3),r.translate(-c,0)});const N=a=>{r.save(),r.beginPath(),r.translate(w,w),r.rotate(a),r.roundRect(d.offsetX,d.offsetY,g,b,b),r.fill(),e(5,r.lineWidth=d.outlineW,r),r.stroke(),r.restore()},O=(a,k,M,S,R)=>{r.clearRect(0,0,c,c),r.beginPath(),r.arc(w,w,z,0,l,!0),e(5,r.strokeStyle=M,r),e(5,r.lineWidth=S,r),r.stroke(),r.beginPath(),r.arc(w,w,z,0,R,!1),e(5,r.strokeStyle=k,r),e(5,r.lineCap="round",r),e(5,r.lineWidth=_,r),r.stroke(),a&&(e(5,r.fillStyle=k,r),e(5,r.strokeStyle=k,r),N(R))};function P(a){ne[a?"unshift":"push"](()=>{m=a,e(3,m)})}return s.$$set=a=>{"percent"in a&&e(4,u=a.percent),"size"in a&&e(1,c=a.size),"seeking"in a&&e(2,h=a.seeking),"scaleFactor"in a&&e(0,o=a.scaleFactor)},s.$$.update=()=>{s.$$.dirty&16&&e(6,i=u*l),s.$$.dirty&100&&r&&O(h,"#fffa","#fff3",E,i)},[o,c,h,m,u,r,i,P]}class Me extends oe{constructor(t){super(),re(this,t,Xe,We,ie,{percent:4,size:1,seeking:2,scaleFactor:0})}}const Ve=(s,t,e)=>s<t?t:s>e?e:s;const Ae=s=>({}),ee=s=>({});function Ge(s){let t,e,i,l,u,c;return{c(){t=C("div"),e=C("video"),i=C("source"),this.h()},l(h){t=D(h,"DIV",{class:!0});var o=I(t);e=D(o,"VIDEO",{style:!0,class:!0});var m=I(e);i=D(m,"SOURCE",{src:!0,type:!0}),m.forEach(v),o.forEach(v),this.h()},h(){Z(i.src,l=s[0])||f(i,"src",l),f(i,"type",u="video/"+s[1]+"; "+s[2]),e.autoplay=!0,e.loop=!0,e.playsInline=!0,e.muted=!0,y(e,"--width",s[5]),y(e,"--height",s[6]),f(e,"class","svelte-h4iuag"),p(e,"dim",s[12]),f(t,"class",c="pseudo-border "+s[8]+" svelte-h4iuag"),p(t,"outline_off",s[15])},m(h,o){X(h,t,o),B(t,e),B(e,i)},p(h,o){o[0]&1&&!Z(i.src,l=h[0])&&f(i,"src",l),o[0]&6&&u!==(u="video/"+h[1]+"; "+h[2])&&f(i,"type",u),o[0]&32&&y(e,"--width",h[5]),o[0]&64&&y(e,"--height",h[6]),o[0]&4096&&p(e,"dim",h[12]),o[0]&256&&c!==(c="pseudo-border "+h[8]+" svelte-h4iuag")&&f(t,"class",c),o[0]&33024&&p(t,"outline_off",h[15])},i:L,o:L,d(h){h&&v(t)}}}function Ne(s){let t,e,i,l,u=`${s[11]}px`,c,h,o,m,r,E,w=!0,z,_,g,b,d=s[21]&&te(s);function N(a,k){return a[20]?Fe:Ue}let O=N(s),P=O(s);return{c(){t=C("button"),e=C("div"),d&&d.c(),i=K(),l=Y("svg"),P.c(),c=K(),h=C("div"),o=C("video"),m=C("source"),this.h()},l(a){t=D(a,"BUTTON",{class:!0});var k=I(t);e=D(k,"DIV",{class:!0});var M=I(e);d&&d.l(M),i=Q(M),l=j(M,"svg",{viewBox:!0,id:!0,class:!0});var S=I(l);P.l(S),S.forEach(v),M.forEach(v),k.forEach(v),c=Q(a),h=D(a,"DIV",{class:!0});var R=I(h);o=D(R,"VIDEO",{style:!0,class:!0});var U=I(o);m=D(U,"SOURCE",{src:!0,type:!0}),U.forEach(v),R.forEach(v),this.h()},h(){f(l,"viewBox","0 0 10 10"),f(l,"id","logos"),f(l,"class","svelte-h4iuag"),p(l,"seeking",s[22]),f(e,"class","ui-elements pseudo-border svelte-h4iuag"),f(t,"class","controls svelte-h4iuag"),y(t,"--size",u),y(t,"--controls-bg",s[10]),Z(m.src,r=s[0])||f(m,"src",r),f(m,"type",E="video/"+s[1]+"; "+s[2]),o.autoplay=s[3],o.loop=!0,o.playsInline=!0,o.muted=!0,y(o,"--width",s[5]),y(o,"--height",s[6]),f(o,"class","svelte-h4iuag"),s[18]===void 0&&ze(()=>s[35].call(o)),p(o,"dim",s[12]),f(h,"class",z="pseudo-border "+s[8]+" svelte-h4iuag"),p(h,"outline_off",s[15])},m(a,k){X(a,t,k),B(t,e),d&&d.m(e,null),B(e,i),B(e,l),P.m(l,null),X(a,c,k),X(a,h,k),B(h,o),B(o,m),s[34](o),_=!0,g||(b=[T(t,"click",s[33]),T(o,"pointerenter",s[27]),T(o,"pointerleave",s[28]),T(o,"pointerdown",s[25]),T(o,"pointermove",s[24]),T(o,"pointerup",s[26]),T(o,"touchstart",Re(s[32])),T(o,"durationchange",s[35]),T(o,"play",s[36]),T(o,"pause",s[36])],g=!0)},p(a,k){a[21]?d?(d.p(a,k),k[0]&2097152&&W(d,1)):(d=te(a),d.c(),W(d,1),d.m(e,i)):d&&(x(),G(d,1,1,()=>{d=null}),$()),O!==(O=N(a))&&(P.d(1),P=O(a),P&&(P.c(),P.m(l,null))),(!_||k[0]&4194304)&&p(l,"seeking",a[22]),k[0]&2048&&u!==(u=`${a[11]}px`)&&y(t,"--size",u),k[0]&1024&&y(t,"--controls-bg",a[10]),(!_||k[0]&1&&!Z(m.src,r=a[0]))&&f(m,"src",r),(!_||k[0]&6&&E!==(E="video/"+a[1]+"; "+a[2]))&&f(m,"type",E),(!_||k[0]&8)&&(o.autoplay=a[3]),(!_||k[0]&32)&&y(o,"--width",a[5]),(!_||k[0]&64)&&y(o,"--height",a[6]),k[0]&1048576&&w!==(w=a[20])&&o[w?"pause":"play"](),(!_||k[0]&4096)&&p(o,"dim",a[12]),(!_||k[0]&256&&z!==(z="pseudo-border "+a[8]+" svelte-h4iuag"))&&f(h,"class",z),(!_||k[0]&33024)&&p(h,"outline_off",a[15])},i(a){_||(W(d),_=!0)},o(a){G(d),_=!1},d(a){a&&(v(t),v(c),v(h)),d&&d.d(),P.d(),s[34](null),g=!1,Ce(b)}}}function te(s){let t,e;return t=new Me({props:{size:s[11],percent:s[19],seeking:s[22]}}),{c(){De(t.$$.fragment)},l(i){Be(t.$$.fragment,i)},m(i,l){Oe(t,i,l),e=!0},p(i,l){const u={};l[0]&2048&&(u.size=i[11]),l[0]&524288&&(u.percent=i[19]),l[0]&4194304&&(u.seeking=i[22]),t.$set(u)},i(i){e||(W(t.$$.fragment,i),e=!0)},o(i){G(t.$$.fragment,i),e=!1},d(i){Te(t,i)}}}function Ue(s){let t,e,i;return{c(){t=Y("g"),e=Y("rect"),i=Y("rect"),this.h()},l(l){t=j(l,"g",{id:!0,class:!0});var u=I(t);e=j(u,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),I(e).forEach(v),i=j(u,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),I(i).forEach(v),u.forEach(v),this.h()},h(){f(e,"x","2.5"),f(e,"y","2"),f(e,"width","2"),f(e,"height","6"),f(e,"rx","0.5"),f(i,"x","5.5"),f(i,"y","2"),f(i,"width","2"),f(i,"height","6"),f(i,"rx","0.5"),f(t,"id","pause"),f(t,"class","svelte-h4iuag")},m(l,u){X(l,t,u),B(t,e),B(t,i)},d(l){l&&v(t)}}}function Fe(s){let t,e;return{c(){t=Y("g"),e=Y("path"),this.h()},l(i){t=j(i,"g",{id:!0,class:!0});var l=I(t);e=j(l,"path",{d:!0}),I(e).forEach(v),l.forEach(v),this.h()},h(){f(e,"d","M 3.5 2.25 v 5.5L 7.25 5 Z"),f(t,"id","play"),f(t,"class","svelte-h4iuag")},m(i,l){X(i,t,l),B(t,e)},d(i){i&&v(t)}}}function se(s){let t,e;const i=s[31].caption,l=Ee(i,s,s[30],ee);return{c(){t=C("figcaption"),l&&l.c(),this.h()},l(u){t=D(u,"FIGCAPTION",{class:!0});var c=I(t);l&&l.l(c),c.forEach(v),this.h()},h(){f(t,"class","caption svelte-h4iuag")},m(u,c){X(u,t,c),l&&l.m(t,null),e=!0},p(u,c){l&&l.p&&(!e||c[0]&1073741824)&&pe(l,i,u,u[30],e?Pe(i,u[30],c,Ae):Ie(u[30]),ee)},i(u){e||(W(l,u),e=!0)},o(u){G(l,u),e=!1},d(u){u&&v(t),l&&l.d(u)}}}function Ye(s){let t,e,i,l,u=`${100-s[12]}%`,c,h=`${s[13]}rem`,o=`${s[23]}rem`,m=`${s[14]}rem`,r;const E=[Ne,Ge],w=[];function z(g,b){return g[4]?0:1}i=z(s),l=w[i]=E[i](s);let _=s[29].caption&&se(s);return{c(){t=C("figure"),e=C("div"),l.c(),c=K(),_&&_.c(),this.h()},l(g){t=D(g,"FIGURE",{class:!0});var b=I(t);e=D(b,"DIV",{class:!0});var d=I(e);l.l(d),d.forEach(v),c=Q(b),_&&_.l(b),b.forEach(v),this.h()},h(){f(e,"class","wrapper radius svelte-h4iuag"),y(e,"--dim",u),f(t,"class","svelte-h4iuag"),p(t,"card",s[7]),p(t,"inset_shadow",s[16]),y(t,"--bg",s[9]),y(t,"--pad",h),y(t,"--outer-radius",o),y(t,"--inner-radius",m)},m(g,b){X(g,t,b),B(t,e),w[i].m(e,null),B(t,c),_&&_.m(t,null),r=!0},p(g,b){let d=i;i=z(g),i===d?w[i].p(g,b):(x(),G(w[d],1,1,()=>{w[d]=null}),$(),l=w[i],l?l.p(g,b):(l=w[i]=E[i](g),l.c()),W(l,1),l.m(e,null)),b[0]&4096&&u!==(u=`${100-g[12]}%`)&&y(e,"--dim",u),g[29].caption?_?(_.p(g,b),b[0]&536870912&&W(_,1)):(_=se(g),_.c(),W(_,1),_.m(t,null)):_&&(x(),G(_,1,1,()=>{_=null}),$()),(!r||b[0]&128)&&p(t,"card",g[7]),(!r||b[0]&65536)&&p(t,"inset_shadow",g[16]),b[0]&512&&y(t,"--bg",g[9]),b[0]&8192&&h!==(h=`${g[13]}rem`)&&y(t,"--pad",h),b[0]&16384&&m!==(m=`${g[14]}rem`)&&y(t,"--inner-radius",m)},i(g){r||(W(l),W(_),r=!0)},o(g){G(l),G(_),r=!1},d(g){g&&v(t),w[i].d(),_&&_.d()}}}function je(s,t,e){let{$$slots:i={},$$scope:l}=t;const u=we(i);let{src:c=""}=t,{ext:h=c.split(".")[1]}=t,{codecs:o=""}=t,{autoplay:m=!0}=t,{controls:r=!0}=t,{width:E="100%"}=t,{height:w="auto"}=t,{card:z=!1}=t,{radius_type:_="all"}=t,{background:g=""}=t,{controlsBg:b="#0002"}=t,{controlsSize:d=28}=t,{dim:N=0}=t,{pad:O=0}=t,{inner_radius:P=1.15}=t,{outline_off:a=!1}=t,{inset_shadow:k=!1}=t,M=P+O,S,R,U,V,H=!1,q=!1;const F={paused_before:!1,initialPosition:0,initialProgress:0,width:0};let A;le(()=>{A=void 0,m||(e(20,V=!0),e(0,c=c+"#t=0.01"))}),ye(()=>{A&&(clearInterval(A),A=void 0)});const ae=n=>{if(!R||n.type!=="touchmove"&&!(n.buttons&1))return;n.target.setPointerCapture(n.pointerId);const J=n.type==="touchmove"?n.touches[0].clientX:n.clientX,{width:ve}=S.getBoundingClientRect();e(19,U=Ve(F.initialProgress+(J-F.initialPosition)/ve,.01,.99)),e(17,S.currentTime=R*U,S)},ue=n=>{S.pause();const J=n.type==="touchmove"?n.touches[0].clientX:n.clientX;e(22,q=!0),F.paused_before=!!V,F.initialPosition=J,F.initialProgress=S.currentTime/R},fe=n=>{e(22,q=!1),F.paused_before||S.play()},ce=n=>{e(21,H=!0),(!q||!V)&&(A=setInterval(he,10))},_e=n=>{e(21,H=!1),A&&clearInterval(A),A=void 0};function he(){e(19,U=S.currentTime/R)}function de(n){Se.call(this,s,n)}const ge=()=>e(20,V=!V);function me(n){ne[n?"unshift":"push"](()=>{S=n,e(17,S)})}function ke(){R=this.duration,e(18,R)}function be(){V=this.paused,e(20,V)}return s.$$set=n=>{"src"in n&&e(0,c=n.src),"ext"in n&&e(1,h=n.ext),"codecs"in n&&e(2,o=n.codecs),"autoplay"in n&&e(3,m=n.autoplay),"controls"in n&&e(4,r=n.controls),"width"in n&&e(5,E=n.width),"height"in n&&e(6,w=n.height),"card"in n&&e(7,z=n.card),"radius_type"in n&&e(8,_=n.radius_type),"background"in n&&e(9,g=n.background),"controlsBg"in n&&e(10,b=n.controlsBg),"controlsSize"in n&&e(11,d=n.controlsSize),"dim"in n&&e(12,N=n.dim),"pad"in n&&e(13,O=n.pad),"inner_radius"in n&&e(14,P=n.inner_radius),"outline_off"in n&&e(15,a=n.outline_off),"inset_shadow"in n&&e(16,k=n.inset_shadow),"$$scope"in n&&e(30,l=n.$$scope)},[c,h,o,m,r,E,w,z,_,g,b,d,N,O,P,a,k,S,R,U,V,H,q,M,ae,ue,fe,ce,_e,u,l,i,de,ge,me,ke,be]}class Ze extends oe{constructor(t){super(),re(this,t,je,Ye,ie,{src:0,ext:1,codecs:2,autoplay:3,controls:4,width:5,height:6,card:7,radius_type:8,background:9,controlsBg:10,controlsSize:11,dim:12,pad:13,inner_radius:14,outline_off:15,inset_shadow:16},null,[-1,-1])}}export{Ze as G};
