import{s as zt,K as se,p as Ot,f as c,a as w,g as d,h as y,c as $,d as s,G as M,j as o,k as at,i as u,u as f,S as fe,l as L,m as P,v as Et,I as S,J as R,r as ne,F as Ft,O as me,o as ce,e as re,n as de}from"../chunks/scheduler.8d84c197.js";import{S as qt,i as Ut,j as pe,b as ot,d as it,m as lt,a as ut,t as ft,e as pt}from"../chunks/index.5e028736.js";import{G as ge}from"../chunks/Gif.cb2d118f.js";import{g as ae,a as oe}from"../chunks/spread.8a54911c.js";import{I as ie}from"../chunks/Img.27b22fe7.js";import{i as nt}from"../chunks/utils.f0ccaf0a.js";function _e(l){let e,r;return{c(){e=c("a"),r=L("risankizumab-rzaa"),this.h()},l(n){e=d(n,"A",{href:!0,target:!0});var a=y(e);r=P(a,"risankizumab-rzaa"),a.forEach(s),this.h()},h(){o(e,"href",ke),o(e,"target","_blank")},m(n,a){u(n,e,a),f(e,r)},p:Et,d(n){n&&s(e)}}}function ve(l){let e,r;return{c(){e=c("a"),r=L("Chevrolet GPT"),this.h()},l(n){e=d(n,"A",{href:!0,target:!0});var a=y(e);r=P(a,"Chevrolet GPT"),a.forEach(s),this.h()},h(){o(e,"href",ye),o(e,"target","_blank")},m(n,a){u(n,e,a),f(e,r)},p:Et,d(n){n&&s(e)}}}function be(l){let e,r,n,a,h,b,_,m,x="Inspo grid: Working at the intersection of this. Skyrizi:+2, OpenAI:-2.",T;const I=[l[1]];let C={$$slots:{caption:[_e]},$$scope:{ctx:l}};for(let p=0;p<I.length;p+=1)C=se(C,I[p]);n=new ie({props:C});const A=[l[2]];function E(p){l[3](p)}let g={$$slots:{caption:[ve]},$$scope:{ctx:l}};for(let p=0;p<A.length;p+=1)g=se(g,A[p]);return l[0]!==void 0&&(g.h=l[0]),h=new ie({props:g}),Ot.push(()=>pe(h,"h",E)),{c(){e=c("figure"),r=c("div"),ot(n.$$.fragment),a=w(),ot(h.$$.fragment),_=w(),m=c("figcaption"),m.textContent=x,this.h()},l(p){e=d(p,"FIGURE",{class:!0,style:!0,role:!0});var v=y(e);r=d(v,"DIV",{class:!0});var D=y(r);it(n.$$.fragment,D),a=$(D),it(h.$$.fragment,D),D.forEach(s),_=$(v),m=d(v,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),M(m)!=="svelte-1jhh7ni"&&(m.textContent=x),v.forEach(s),this.h()},h(){o(r,"class","radius svelte-1bw2t5z"),o(m,"class","caption"),o(e,"class","max-w svelte-1bw2t5z"),at(e,"--h",l[0]+"px"),o(e,"role","group")},m(p,v){u(p,e,v),f(e,r),lt(n,r,null),f(r,a),lt(h,r,null),f(e,_),f(e,m),T=!0},p(p,[v]){const D=v&2?ae(I,[oe(p[1])]):{};v&16&&(D.$$scope={dirty:v,ctx:p}),n.$set(D);const k=v&4?ae(A,[oe(p[2])]):{};v&16&&(k.$$scope={dirty:v,ctx:p}),!b&&v&1&&(b=!0,k.h=p[0],fe(()=>b=!1)),h.$set(k),(!T||v&1)&&at(e,"--h",p[0]+"px")},i(p){T||(ut(n.$$.fragment,p),ut(h.$$.fragment,p),T=!0)},o(p){ft(n.$$.fragment,p),ft(h.$$.fragment,p),T=!1},d(p){p&&s(e),pt(n),pt(h)}}}const ye="https://stoney.monster/@stoneymonster/111592567052438463",ke="https://genius.com/Skyrizi-nothing-is-everything-lyrics";function we(l,e,r){const n={src:"/media/projects/DrugGenerator/skyrizi.avif",alt:"Skyrizi promo1",from:{x:0,y:0,s:1},to:{x:0,y:0,s:1.05},radius_type:"combo left"},a={src:"/media/projects/DrugGenerator/chevy.avif",alt:"Chevy-GPT",dim:30,outline_color:"#fff5",contrast:1.75,from:{x:0,y:0,s:1},to:{x:0,y:0,s:1.05},radius_type:"combo right"};let h=0;function b(_){h=_,r(0,h)}return[h,n,a,b]}class $e extends qt{constructor(e){super(),Ut(this,e,we,be,zt,{})}}function le(l){let e=l[3],r,n=ue(l);return{c(){n.c(),r=re()},l(a){n.l(a),r=re()},m(a,h){n.m(a,h),u(a,r,h)},p(a,h){h&8&&zt(e,e=a[3])?(n.d(1),n=ue(a),n.c(),n.m(r.parentNode,r)):n.p(a,h)},d(a){a&&s(r),n.d(a)}}}function ue(l){let e,r;return{c(){e=c("span"),r=L(l[3]),this.h()},l(n){e=d(n,"SPAN",{class:!0,style:!0});var a=y(e);r=P(a,l[3]),a.forEach(s),this.h()},h(){o(e,"class","drugname vfont svelte-1hrst5h"),at(e,"--wght",nt(0,900)),at(e,"--slnt",nt(-10,0)),at(e,"--c","oklch(70.54% "+nt(0,15)*.01+" "+nt(0,360)+")")},m(n,a){u(n,e,a),f(e,r)},p(n,a){a&8&&de(r,n[3])},d(n){n&&s(e)}}}function xe(l){let e,r,n,a="Generate IP",h,b,_,m,x,T,I,C,A,E,g,p,v,D,k=l[0]&&le(l);return{c(){e=c("div"),r=c("button"),n=c("span"),n.textContent=a,h=w(),b=c("div"),_=S("svg"),m=S("linearGradient"),x=S("stop"),T=S("stop"),I=S("stop"),C=S("stop"),A=S("stop"),E=S("animateTransform"),g=S("path"),p=w(),k&&k.c(),this.h()},l(H){e=d(H,"DIV",{id:!0,class:!0});var z=y(e);r=d(z,"BUTTON",{class:!0});var V=y(r);n=d(V,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),M(n)!=="svelte-1i81hrx"&&(n.textContent=a),h=$(V),b=d(V,"DIV",{id:!0,class:!0});var J=y(b);_=R(J,"svg",{viewBox:!0,xmlns:!0});var F=y(_);m=R(F,"linearGradient",{id:!0,x1:!0,x2:!0,y1:!0,y2:!0});var G=y(m);x=R(G,"stop",{offset:!0,"stop-color":!0}),y(x).forEach(s),T=R(G,"stop",{offset:!0,"stop-color":!0}),y(T).forEach(s),I=R(G,"stop",{offset:!0,"stop-color":!0}),y(I).forEach(s),C=R(G,"stop",{offset:!0,"stop-color":!0}),y(C).forEach(s),A=R(G,"stop",{offset:!0,"stop-color":!0}),y(A).forEach(s),E=R(G,"animateTransform",{attributeName:!0,type:!0,values:!0,dur:!0,begin:!0}),y(E).forEach(s),G.forEach(s),g=R(F,"path",{id:!0,d:!0,fill:!0}),y(g).forEach(s),F.forEach(s),J.forEach(s),V.forEach(s),p=$(z),k&&k.l(z),z.forEach(s),this.h()},h(){o(n,"id","btn-txt"),o(n,"class","svelte-1hrst5h"),o(x,"offset","0"),o(x,"stop-color","#fff0"),o(T,"offset",".65"),o(T,"stop-color","#fff0"),o(I,"offset",".65"),o(I,"stop-color","rgba(99, 245, 120, 0.3)"),o(C,"offset",".69"),o(C,"stop-color","rgba(99, 245, 120, 0.6)"),o(A,"offset","1"),o(A,"stop-color","oklch(65.29% 0.209 146.15 / 0.5)"),o(E,"attributeName","gradientTransform"),o(E,"type","rotate"),o(E,"values","0 .5 .5;40 .5 .5;-25 .5 .5;0 .5 .5;"),o(E,"dur",".3s"),o(E,"begin","0s"),o(m,"id","gradient"),o(m,"x1","0"),o(m,"x2","0"),o(m,"y1","0"),o(m,"y2","1"),o(g,"id","body"),o(g,"d",`M 2 1 L 2 3 \r
				  L 1 4.75 \r
				  C 0.5 5.75, 4.5 5.75, 4 4.75\r
				  L 3 3 L 3 1 \r
				  M 1.75 1 h 1.5`),o(g,"fill","url(#gradient)"),o(_,"viewBox","0 0 5 6"),o(_,"xmlns","http://www.w3.org/2000/svg"),o(b,"id","flask"),o(b,"class","svelte-1hrst5h"),ne(b,"playjiggle",l[1]),o(r,"class","pseudo-border btn svelte-1hrst5h"),o(e,"id","demo"),o(e,"class","svelte-1hrst5h")},m(H,z){u(H,e,z),f(e,r),f(r,n),f(r,h),f(r,b),f(b,_),f(_,m),f(m,x),f(m,T),f(m,I),f(m,C),f(m,A),f(m,E),l[10](E),f(_,g),f(e,p),k&&k.m(e,null),v||(D=[Ft(b,"animationend",l[5]),Ft(r,"click",l[4])],v=!0)},p(H,[z]){z&2&&ne(b,"playjiggle",H[1]),H[0]?k?k.p(H,z):(k=le(H),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},i:Et,o:Et,d(H){H&&s(e),l[10](null),k&&k.d(),v=!1,me(D)}}}const Ie="https://raw.githubusercontent.com/pnwheeler/drug-generator/main/fake_drugs.txt";function Ce(l,e,r){let n,a=!1,h=[],b="",_=0,m=0,{y_example:x=!0}=e;const T=async()=>await(await fetch(Ie)).text();ce(async()=>{const g=await T();r(7,h=g.split(`
`)),r(8,_=h.length-1),r(0,a=!0)});let I=!1;const C=()=>{r(1,I=!0),n.beginElement(),x&&r(6,x=!1),r(9,m=nt(0,_))},A=()=>{r(1,I=!1),n.endElement()};function E(g){Ot[g?"unshift":"push"](()=>{n=g,r(2,n)})}return l.$$set=g=>{"y_example"in g&&r(6,x=g.y_example)},l.$$.update=()=>{l.$$.dirty&321&&r(9,m=a&&x?407:nt(0,_)),l.$$.dirty&641&&r(3,b=a?h[m]:""),l.$$.dirty&2&&console.log(I)},[a,I,n,b,C,A,x,h,_,m,E]}class Te extends qt{constructor(e){super(),Ut(this,e,Ce,xe,zt,{y_example:6})}}function Ee(l){let e;return{c(){e=L("Trained model + prefix use")},l(r){e=P(r,"Trained model + prefix use")},m(r,n){u(r,e,n)},d(r){r&&s(e)}}}function ze(l){let e,r="<span>Drug Generator</span>",n,a,h=`An LSTM for creating drug brands of the future—<em>today</em>! I’ve been reading a lot about LLMs and &quot;AGI&quot;, so I
	thought I&#39;d take the opportunity to learn more about ML, review Python, and make something to help pad out my resume.`,b,_,m,x,T,I,C,A="Data Prep",E,g,p,v,D,k,H,z,V=`I used <em>Pandas</em> to filter out the more obvious <em>sciency</em> terms by excluding any strings that contained hyphens,
	numbers, or spaces. The remaining names were then split into subsequences and one-hot-encoded before being batched
	up and stuffed into a dataframe.`,J,F,G,K,Bt="Learning",ht,N,Lt,W,Pt,At,Q,Ht,Dt,mt,X,ct,Y,Vt=`A cool thing about predictive modeling is that you don&#39;t <em>need</em> to have a perfect understanding of each and every mechanism
	that goes into producing convincing output—allow the data to speak for itself, and cast blame in its direction when things
	go wrong!`,dt,gt,_t,Z,Jt="Synthesizing Drugs",vt,tt,Kt=`To prevent it from settling at local maxima, the generator draws from its top-k<sup>3</sup> probability distribution and, at each step,
	randomly selects a character to append. That general process continues until it eventually produces the
	<code>&#39;\\n&#39;</code> token, indicating the completion of a word.`,bt,et,O,yt,q,Gt,U,Wt="click here",Mt,kt,wt,$t,B,Nt,st,jt,St,xt,Rt,Qt;function he(t){l[1](t)}let Xt={};return l[0]!==void 0&&(Xt.y_example=l[0]),_=new Te({props:Xt}),Ot.push(()=>pe(_,"y_example",he)),X=new $e({}),O=new ge({props:{src:"/media/projects/DrugGenerator/drug_creation.mp4",$$slots:{caption:[Ee]},$$scope:{ctx:l}}}),{c(){e=c("h1"),e.innerHTML=r,n=w(),a=c("p"),a.innerHTML=h,b=w(),ot(_.$$.fragment),x=w(),T=c("hr"),I=w(),C=c("h3"),C.textContent=A,E=w(),g=c("p"),p=L("After sourcing a list of proprietary drugs from OpenFDA's "),v=c("a"),D=L("Human NDC database"),k=L(`, I\r
	noticed a number of them stood out for sounding too much like chemicals–that’s not good for business!`),H=w(),z=c("p"),z.innerHTML=V,J=w(),F=c("hr"),G=w(),K=c("h3"),K.textContent=Bt,ht=w(),N=c("p"),Lt=L(`For parameters and training options, I mostly stuck to using suggestions I found in existing tutorials about\r
	`),W=c("a"),Pt=L("RNNs"),At=L(", "),Q=c("a"),Ht=L("LSTMs"),Dt=L(`, or stackoverflow. After letting it run\r
	for 8 epochs(~2 minutes on my CPU), I subclassed the resulting model to make its behavior easier to guide\r
	and enable evaluation on prefixes.`),mt=w(),ot(X.$$.fragment),ct=w(),Y=c("p"),Y.innerHTML=Vt,dt=w(),gt=c("hr"),_t=w(),Z=c("h3"),Z.textContent=Jt,vt=w(),tt=c("p"),tt.innerHTML=Kt,bt=w(),et=c("div"),ot(O.$$.fragment),yt=w(),q=c("p"),Gt=L("Not super surprising, but it struggles to build off patterns that aren’t well established in the dataset ("),U=c("button"),U.textContent=Wt,Mt=L(`\r
	for an example at the top of the page). In this case, adding a couple of English words that start with 'y'\r
	to the original list might improve things, but I was happy enough with the results as they were and didn't bother.`),kt=w(),wt=c("hr"),$t=w(),B=c("p"),Nt=L(`The Jupyter notebook and some related files I made during the journey are in a separate\r
	`),st=c("a"),jt=L("github repo here"),St=L("."),this.h()},l(t){e=d(t,"H1",{"data-svelte-h":!0}),M(e)!=="svelte-1cfmbpk"&&(e.innerHTML=r),n=$(t),a=d(t,"P",{"data-svelte-h":!0}),M(a)!=="svelte-1aa8abh"&&(a.innerHTML=h),b=$(t),it(_.$$.fragment,t),x=$(t),T=d(t,"HR",{}),I=$(t),C=d(t,"H3",{"data-svelte-h":!0}),M(C)!=="svelte-1ugge9r"&&(C.textContent=A),E=$(t),g=d(t,"P",{});var i=y(g);p=P(i,"After sourcing a list of proprietary drugs from OpenFDA's "),v=d(i,"A",{href:!0,target:!0});var rt=y(v);D=P(rt,"Human NDC database"),rt.forEach(s),k=P(i,`, I\r
	noticed a number of them stood out for sounding too much like chemicals–that’s not good for business!`),i.forEach(s),H=$(t),z=d(t,"P",{"data-svelte-h":!0}),M(z)!=="svelte-dymub1"&&(z.innerHTML=V),J=$(t),F=d(t,"HR",{}),G=$(t),K=d(t,"H3",{"data-svelte-h":!0}),M(K)!=="svelte-1ea7r3m"&&(K.textContent=Bt),ht=$(t),N=d(t,"P",{});var j=y(N);Lt=P(j,`For parameters and training options, I mostly stuck to using suggestions I found in existing tutorials about\r
	`),W=d(j,"A",{href:!0,target:!0});var Yt=y(W);Pt=P(Yt,"RNNs"),Yt.forEach(s),At=P(j,", "),Q=d(j,"A",{href:!0,target:!0});var Zt=y(Q);Ht=P(Zt,"LSTMs"),Zt.forEach(s),Dt=P(j,`, or stackoverflow. After letting it run\r
	for 8 epochs(~2 minutes on my CPU), I subclassed the resulting model to make its behavior easier to guide\r
	and enable evaluation on prefixes.`),j.forEach(s),mt=$(t),it(X.$$.fragment,t),ct=$(t),Y=d(t,"P",{"data-svelte-h":!0}),M(Y)!=="svelte-1f5zp49"&&(Y.innerHTML=Vt),dt=$(t),gt=d(t,"HR",{}),_t=$(t),Z=d(t,"H3",{"data-svelte-h":!0}),M(Z)!=="svelte-32ajkc"&&(Z.textContent=Jt),vt=$(t),tt=d(t,"P",{"data-svelte-h":!0}),M(tt)!=="svelte-1n36uq5"&&(tt.innerHTML=Kt),bt=$(t),et=d(t,"DIV",{class:!0});var te=y(et);it(O.$$.fragment,te),te.forEach(s),yt=$(t),q=d(t,"P",{});var It=y(q);Gt=P(It,"Not super surprising, but it struggles to build off patterns that aren’t well established in the dataset ("),U=d(It,"BUTTON",{class:!0,"data-svelte-h":!0}),M(U)!=="svelte-1nr6omz"&&(U.textContent=Wt),Mt=P(It,`\r
	for an example at the top of the page). In this case, adding a couple of English words that start with 'y'\r
	to the original list might improve things, but I was happy enough with the results as they were and didn't bother.`),It.forEach(s),kt=$(t),wt=d(t,"HR",{}),$t=$(t),B=d(t,"P",{});var Ct=y(B);Nt=P(Ct,`The Jupyter notebook and some related files I made during the journey are in a separate\r
	`),st=d(Ct,"A",{href:!0,target:!0});var ee=y(st);jt=P(ee,"github repo here"),ee.forEach(s),St=P(Ct,"."),Ct.forEach(s),this.h()},h(){o(v,"href",Pe),o(v,"target",Tt),o(W,"href",He),o(W,"target",Tt),o(Q,"href",Ae),o(Q,"target",Tt),o(et,"class","max-w"),o(U,"class","pseudo-border btn svelte-ck7fpx"),o(st,"href",Le),o(st,"target",Tt)},m(t,i){u(t,e,i),u(t,n,i),u(t,a,i),u(t,b,i),lt(_,t,i),u(t,x,i),u(t,T,i),u(t,I,i),u(t,C,i),u(t,E,i),u(t,g,i),f(g,p),f(g,v),f(v,D),f(g,k),u(t,H,i),u(t,z,i),u(t,J,i),u(t,F,i),u(t,G,i),u(t,K,i),u(t,ht,i),u(t,N,i),f(N,Lt),f(N,W),f(W,Pt),f(N,At),f(N,Q),f(Q,Ht),f(N,Dt),u(t,mt,i),lt(X,t,i),u(t,ct,i),u(t,Y,i),u(t,dt,i),u(t,gt,i),u(t,_t,i),u(t,Z,i),u(t,vt,i),u(t,tt,i),u(t,bt,i),u(t,et,i),lt(O,et,null),u(t,yt,i),u(t,q,i),f(q,Gt),f(q,U),f(q,Mt),u(t,kt,i),u(t,wt,i),u(t,$t,i),u(t,B,i),f(B,Nt),f(B,st),f(st,jt),f(B,St),xt=!0,Rt||(Qt=Ft(U,"click",l[2]),Rt=!0)},p(t,[i]){const rt={};!m&&i&1&&(m=!0,rt.y_example=t[0],fe(()=>m=!1)),_.$set(rt);const j={};i&8&&(j.$$scope={dirty:i,ctx:t}),O.$set(j)},i(t){xt||(ut(_.$$.fragment,t),ut(X.$$.fragment,t),ut(O.$$.fragment,t),xt=!0)},o(t){ft(_.$$.fragment,t),ft(X.$$.fragment,t),ft(O.$$.fragment,t),xt=!1},d(t){t&&(s(e),s(n),s(a),s(b),s(x),s(T),s(I),s(C),s(E),s(g),s(H),s(z),s(J),s(F),s(G),s(K),s(ht),s(N),s(mt),s(ct),s(Y),s(dt),s(gt),s(_t),s(Z),s(vt),s(tt),s(bt),s(et),s(yt),s(q),s(kt),s(wt),s($t),s(B)),pt(_,t),pt(X,t),pt(O),Rt=!1,Qt()}}}const Tt="_blank",Le="https://github.com/pnwheeler/drug-generator",Pe="https://open.fda.gov/data/downloads/",Ae="https://medium.com/analytics-vidhya/business-name-generator-with-tensorflow-eba86c35d9cf",He="https://www.tensorflow.org/text/tutorials/text_generation";function De(l,e,r){let n=!1;function a(b){n=b,r(0,n)}return[n,a,()=>r(0,n=!0)]}class Fe extends qt{constructor(e){super(),Ut(this,e,De,ze,zt,{})}}export{Fe as component};
