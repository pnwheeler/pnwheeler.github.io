import{s as _e,f as c,a as w,g,h as j,c as y,d as r,G as R,j as C,i as m,u as o,l as k,m as H,I as me,p as Me,S as Re,v as Ee}from"../chunks/scheduler.1a83071e.js";import{S as $e,i as be,b as B,d as q,m as O,a as N,t as U,e as V,j as Le}from"../chunks/index.98f22588.js";import{G as Ie,R as ve}from"../chunks/Gif.c67f3549.js";import{g as fe,a as de}from"../chunks/spread.8a54911c.js";import{R as De}from"../chunks/RangeSlider.1316e9da.js";function Ge(v){let t;return{c(){t=k("Blender donut")},l(n){t=H(n,"Blender donut")},m(n,s){m(n,t,s)},d(n){n&&r(t)}}}function Se(v){let t;return{c(){t=k("Final boss")},l(n){t=H(n,"Final boss")},m(n,s){m(n,t,s)},d(n){n&&r(t)}}}function je(v){let t,n,s,b,d,x,p,P=`The™ Tutorial Donut and gamer clip from my best 
		run of <a href="https://store.steampowered.com/app/1676130/Deadlink/" target="_blank">deadlink</a>.`,u;return s=new Ie({props:{src:"/media/projects/GifScrubber/blender_donut.mp4",height:"min(240px, 24vh)",autoplay:!1,$$slots:{caption:[Ge]},$$scope:{ctx:v}}}),d=new Ie({props:{src:"/media/projects/GifScrubber/deadlink.mp4",height:"min(240px, 24vh)",controlsBg:"#0006",$$slots:{caption:[Se]},$$scope:{ctx:v}}}),{c(){t=c("figure"),n=c("div"),B(s.$$.fragment),b=w(),B(d.$$.fragment),x=w(),p=c("figcaption"),p.innerHTML=P,this.h()},l(h){t=g(h,"FIGURE",{class:!0,role:!0});var _=j(t);n=g(_,"DIV",{class:!0});var f=j(n);q(s.$$.fragment,f),b=y(f),q(d.$$.fragment,f),f.forEach(r),x=y(_),p=g(_,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),R(p)!=="svelte-1ft0upb"&&(p.innerHTML=P),_.forEach(r),this.h()},h(){C(n,"class","svelte-wqvtc0"),C(p,"class","caption"),C(t,"class","max-w svelte-wqvtc0"),C(t,"role","group")},m(h,_){m(h,t,_),o(t,n),O(s,n,null),o(n,b),O(d,n,null),o(t,x),o(t,p),u=!0},p(h,[_]){const f={};_&1&&(f.$$scope={dirty:_,ctx:h}),s.$set(f);const E={};_&1&&(E.$$scope={dirty:_,ctx:h}),d.$set(E)},i(h){u||(N(s.$$.fragment,h),N(d.$$.fragment,h),u=!0)},o(h){U(s.$$.fragment,h),U(d.$$.fragment,h),u=!1},d(h){h&&r(t),V(s),V(d)}}}class Fe extends $e{constructor(t){super(),be(this,t,null,je,_e,{})}}function ze(v){let t,n,s,b,d,x,p,P,u,h,_,f,E=`Comparing quality at different render scales (<em>simulating DPR=3</em>). From left: no scaling (20px), by
		1×DPR (60px), and 2×DPR (120px).`,T;const F=[{size:20},{percent:v[0]},v[2]];let W={};for(let a=0;a<F.length;a+=1)W=me(W,F[a]);s=new ve({props:W});const L=[{size:60},{percent:v[0]},v[2]];let z={};for(let a=0;a<L.length;a+=1)z=me(z,L[a]);d=new ve({props:z});const D=[{size:120},{percent:v[0]},v[2]];let $={};for(let a=0;a<D.length;a+=1)$=me($,D[a]);p=new ve({props:$});const J=[v[1]];function G(a){v[3](a)}let A={};for(let a=0;a<J.length;a+=1)A=me(A,J[a]);return v[0]!==void 0&&(A.value=v[0]),u=new De({props:A}),Me.push(()=>Le(u,"value",G)),{c(){t=c("figure"),n=c("div"),B(s.$$.fragment),b=w(),B(d.$$.fragment),x=w(),B(p.$$.fragment),P=w(),B(u.$$.fragment),_=w(),f=c("figcaption"),f.innerHTML=E,this.h()},l(a){t=g(a,"FIGURE",{role:!0,class:!0});var l=j(t);n=g(l,"DIV",{class:!0});var M=j(n);q(s.$$.fragment,M),b=y(M),q(d.$$.fragment,M),x=y(M),q(p.$$.fragment,M),M.forEach(r),P=y(l),q(u.$$.fragment,l),_=y(l),f=g(l,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),R(f)!=="svelte-1862r31"&&(f.innerHTML=E),l.forEach(r),this.h()},h(){C(n,"class","radius"),C(f,"class","caption"),C(t,"role","group"),C(t,"class","max-w svelte-1nw7jjk")},m(a,l){m(a,t,l),o(t,n),O(s,n,null),o(n,b),O(d,n,null),o(n,x),O(p,n,null),o(t,P),O(u,t,null),o(t,_),o(t,f),T=!0},p(a,[l]){const M=l&5?fe(F,[F[0],l&1&&{percent:a[0]},l&4&&de(a[2])]):{};s.$set(M);const te=l&5?fe(L,[L[0],l&1&&{percent:a[0]},l&4&&de(a[2])]):{};d.$set(te);const S=l&5?fe(D,[D[0],l&1&&{percent:a[0]},l&4&&de(a[2])]):{};p.$set(S);const ae=l&2?fe(J,[de(a[1])]):{};!h&&l&1&&(h=!0,ae.value=a[0],Re(()=>h=!1)),u.$set(ae)},i(a){T||(N(s.$$.fragment,a),N(d.$$.fragment,a),N(p.$$.fragment,a),N(u.$$.fragment,a),T=!0)},o(a){U(s.$$.fragment,a),U(d.$$.fragment,a),U(p.$$.fragment,a),U(u.$$.fragment,a),T=!1},d(a){a&&r(t),V(s),V(d),V(p),V(u)}}}function Ae(v,t,n){const s={thumbColor:"var(--slate-blue-dim)",showNumber:!0,numSize:"var(--step--1)",step:"1"};let b=85;const d={use_decimal:!1,use_DPR:!1,fillSpace:!0,seeking:!0,bgColor:"none"};function x(p){b=p,n(0,b)}return[b,s,d,x]}class Be extends $e{constructor(t){super(),be(this,t,Ae,ze,_e,{})}}function qe(v){let t,n="<span>Gif Scrubber</span>",s,b,d=`An inline video player with custom controls. I made in the process of updating my website in an effort to avoid the
	headache of making <em>actual</em> gifs and generally have a more flexible way to embed media (naive!).`,x,p,P,u,h='For mobile-friendly controls that don&#39;t rely on a hover-timeout, I stuck an always-visible <code data-type="html">button</code> on the corner to toggle play state and added some event handlers + state management to implement the timeline scrubbing.',_,f,E,T,F,W,L,z,D,$,J,G,A,a,l,M="svg",te,S,ae="canvas",ue,ee,we="still-unclear-issue",ce,K,ge,he,ne,Q,re,X,ye=`I increased the resolution another factor of 2 (<em>i.e.</em> the last one) to make it look <em>super</em> crisp:
	<em>super</em> unnecessary! But it looked marginally better on my phone and didn&#39;t have any noticeable impact on performance, so
	<em>why not?!</em>`,se,le,ie,Y,Ce=`I didn&#39;t realize how hard it&#39;d be to get a single video format &lt; 20 y/o playing nicely across
	browsers—Encoding wise, it means trading compatibility (<em>h.264</em>) for the relatively massive improvements
	newer codecs (<em>h.265, av1</em>) bring to quality/size.`,oe,Z,xe=`I ended up writing a Python script to backfill all my media with a WebM counterpart ☹. Learned a ton about web\r
	development, but came to realize that using actual gifs in 2024 is completely valid and less painful.`,pe;return p=new Fe({}),Q=new Be({}),{c(){t=c("h1"),t.innerHTML=n,s=w(),b=c("p"),b.innerHTML=d,x=w(),B(p.$$.fragment),P=w(),u=c("p"),u.innerHTML=h,_=w(),f=c("p"),E=k(`It's set up so moving a distance across the container's width is proportional to the video's duration. Huge s/o to Red\r
	Blob Games for their in-depth `),T=c("a"),F=k("article about draggable objects"),W=k(", extremely helpful!"),L=w(),z=c("hr"),D=w(),$=c("p"),J=k("I originally made the "),G=c("a"),A=k("angular"),a=k(` progress indicator with an\r
	`),l=c("code"),l.textContent=M,te=k(", but decided to scrap it for a "),S=c("code"),S.textContent=ae,ue=k(` to fix some\r
	`),ee=c("em"),ee.textContent=we,ce=k(` causing transform jank. To avoid pixelation on high-dpi screens, the dimensions are\r
	multiplied by the\r
	`),K=c("a"),ge=k("device pixel ratio (DPR)"),he=k(" before its area is scaled back down with CSS."),ne=w(),B(Q.$$.fragment),re=w(),X=c("p"),X.innerHTML=ye,se=w(),le=c("hr"),ie=w(),Y=c("p"),Y.innerHTML=Ce,oe=w(),Z=c("p"),Z.textContent=xe,this.h()},l(e){t=g(e,"H1",{"data-svelte-h":!0}),R(t)!=="svelte-16mbdpp"&&(t.innerHTML=n),s=y(e),b=g(e,"P",{"data-svelte-h":!0}),R(b)!=="svelte-1pwf8bf"&&(b.innerHTML=d),x=y(e),q(p.$$.fragment,e),P=y(e),u=g(e,"P",{"data-svelte-h":!0}),R(u)!=="svelte-1s6s8b9"&&(u.innerHTML=h),_=y(e),f=g(e,"P",{});var i=j(f);E=H(i,`It's set up so moving a distance across the container's width is proportional to the video's duration. Huge s/o to Red\r
	Blob Games for their in-depth `),T=g(i,"A",{href:!0,target:!0});var ke=j(T);F=H(ke,"article about draggable objects"),ke.forEach(r),W=H(i,", extremely helpful!"),i.forEach(r),L=y(e),z=g(e,"HR",{}),D=y(e),$=g(e,"P",{});var I=j($);J=H(I,"I originally made the "),G=g(I,"A",{href:!0,target:!0});var He=j(G);A=H(He,"angular"),He.forEach(r),a=H(I,` progress indicator with an\r
	`),l=g(I,"CODE",{"data-type":!0,"data-svelte-h":!0}),R(l)!=="svelte-mflvan"&&(l.textContent=M),te=H(I,", but decided to scrap it for a "),S=g(I,"CODE",{"data-type":!0,"data-svelte-h":!0}),R(S)!=="svelte-jhma2z"&&(S.textContent=ae),ue=H(I,` to fix some\r
	`),ee=g(I,"EM",{"data-svelte-h":!0}),R(ee)!=="svelte-9a59xd"&&(ee.textContent=we),ce=H(I,` causing transform jank. To avoid pixelation on high-dpi screens, the dimensions are\r
	multiplied by the\r
	`),K=g(I,"A",{href:!0,target:!0});var Te=j(K);ge=H(Te,"device pixel ratio (DPR)"),Te.forEach(r),he=H(I," before its area is scaled back down with CSS."),I.forEach(r),ne=y(e),q(Q.$$.fragment,e),re=y(e),X=g(e,"P",{"data-svelte-h":!0}),R(X)!=="svelte-1ebku71"&&(X.innerHTML=ye),se=y(e),le=g(e,"HR",{}),ie=y(e),Y=g(e,"P",{"data-svelte-h":!0}),R(Y)!=="svelte-t5oso0"&&(Y.innerHTML=Ce),oe=y(e),Z=g(e,"P",{"data-svelte-h":!0}),R(Z)!=="svelte-6mu4h7"&&(Z.textContent=xe),this.h()},h(){C(T,"href",Oe),C(T,"target",Pe),C(G,"href",Ue),C(G,"target","_blank"),C(l,"data-type","html"),C(S,"data-type","html"),C(K,"href",Ne),C(K,"target",Pe)},m(e,i){m(e,t,i),m(e,s,i),m(e,b,i),m(e,x,i),O(p,e,i),m(e,P,i),m(e,u,i),m(e,_,i),m(e,f,i),o(f,E),o(f,T),o(T,F),o(f,W),m(e,L,i),m(e,z,i),m(e,D,i),m(e,$,i),o($,J),o($,G),o(G,A),o($,a),o($,l),o($,te),o($,S),o($,ue),o($,ee),o($,ce),o($,K),o(K,ge),o($,he),m(e,ne,i),O(Q,e,i),m(e,re,i),m(e,X,i),m(e,se,i),m(e,le,i),m(e,ie,i),m(e,Y,i),m(e,oe,i),m(e,Z,i),pe=!0},p:Ee,i(e){pe||(N(p.$$.fragment,e),N(Q.$$.fragment,e),pe=!0)},o(e){U(p.$$.fragment,e),U(Q.$$.fragment,e),pe=!1},d(e){e&&(r(t),r(s),r(b),r(x),r(P),r(u),r(_),r(f),r(L),r(z),r(D),r($),r(ne),r(re),r(X),r(se),r(le),r(ie),r(Y),r(oe),r(Z)),V(p,e),V(Q,e)}}}const Pe="_blank",Oe="https://www.redblobgames.com/making-of/draggable/",Ne="https://cloudinary.com/glossary/device-pixel-ratio",Ue="https://x.com/FreyaHolmer/status/1751026030960112090?s=20";class Xe extends $e{constructor(t){super(),be(this,t,null,qe,_e,{})}}export{Xe as component};
