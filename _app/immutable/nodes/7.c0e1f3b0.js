import{s as Ne,f as o,a as u,g as p,h as j,c as d,d as t,G as x,j as y,i as r,u as i,l as C,m as k,K as Ie,p as ot,S as pt,v as ft}from"../chunks/scheduler.8d84c197.js";import{S as Qe,i as Ue,b as N,d as Q,m as U,a as V,t as K,e as W,j as mt}from"../chunks/index.5e028736.js";import{G as it,R as Ae}from"../chunks/Gif.a1b3e23e.js";import{g as Pe,a as Me}from"../chunks/spread.8a54911c.js";import{R as ut}from"../chunks/RangeSlider.00a7ad4c.js";function dt(_){let a;return{c(){a=C("Blender donut")},l(l){a=k(l,"Blender donut")},m(l,f){r(l,a,f)},d(l){l&&t(a)}}}function ct(_){let a;return{c(){a=C("Quick ttk on boss")},l(l){a=k(l,"Quick ttk on boss")},m(l,f){r(l,a,f)},d(l){l&&t(a)}}}function ht(_){let a,l,f,b,v,T,m,L=`Demo gifs: Tutorial Donut and gamer clip from my best 
		run of <a href="https://store.steampowered.com/app/1676130/Deadlink/" target="_blank">deadlink</a>.`,$;return f=new it({props:{src:"/media/projects/GifScrubber/blender_donut.mp4",height:"min(240px, 24vh)",radius_type:"combo left",$$slots:{caption:[dt]},$$scope:{ctx:_}}}),v=new it({props:{src:"/media/projects/GifScrubber/deadlink.mp4",height:"min(240px, 24vh)",t:"#t=1",autoplay:!1,controlsBg:"#0006",radius_type:"combo right",$$slots:{caption:[ct]},$$scope:{ctx:_}}}),{c(){a=o("figure"),l=o("div"),N(f.$$.fragment),b=u(),N(v.$$.fragment),T=u(),m=o("figcaption"),m.innerHTML=L,this.h()},l(h){a=p(h,"FIGURE",{class:!0,role:!0});var g=j(a);l=p(g,"DIV",{class:!0});var w=j(l);Q(f.$$.fragment,w),b=d(w),Q(v.$$.fragment,w),w.forEach(t),T=d(g),m=p(g,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),x(m)!=="svelte-1s14123"&&(m.innerHTML=L),g.forEach(t),this.h()},h(){y(l,"class","svelte-o0m8eb"),y(m,"class","caption"),y(a,"class","max-w svelte-o0m8eb"),y(a,"role","group")},m(h,g){r(h,a,g),i(a,l),U(f,l,null),i(l,b),U(v,l,null),i(a,T),i(a,m),$=!0},p(h,[g]){const w={};g&1&&(w.$$scope={dirty:g,ctx:h}),f.$set(w);const G={};g&1&&(G.$$scope={dirty:g,ctx:h}),v.$set(G)},i(h){$||(V(f.$$.fragment,h),V(v.$$.fragment,h),$=!0)},o(h){K(f.$$.fragment,h),K(v.$$.fragment,h),$=!1},d(h){h&&t(a),W(f),W(v)}}}class gt extends Qe{constructor(a){super(),Ue(this,a,null,ht,Ne,{})}}new TextEncoder;function vt(_){let a,l,f,b,v,T,m,L,$,h,g,w,G=`Comparing canvas detail at different render scales. From left: default (<em>20px</em>), by 1×DPR
		(<em>60px</em>), and by 2×DPR (<em>120px</em>).`,M;const J=[{size:20},{percent:_[0]},_[2]];let q={};for(let n=0;n<J.length;n+=1)q=Ie(q,J[n]);f=new Ae({props:q});const H=[{size:60},{percent:_[0]},_[2]];let X={};for(let n=0;n<H.length;n+=1)X=Ie(X,H[n]);v=new Ae({props:X});const R=[{size:120},{percent:_[0]},_[2]];let pe={};for(let n=0;n<R.length;n+=1)pe=Ie(pe,R[n]);m=new Ae({props:pe});const Y=[_[1]];function S(n){_[3](n)}let z={};for(let n=0;n<Y.length;n+=1)z=Ie(z,Y[n]);return _[0]!==void 0&&(z.value=_[0]),$=new ut({props:z}),ot.push(()=>mt($,"value",S)),{c(){a=o("figure"),l=o("div"),N(f.$$.fragment),b=u(),N(v.$$.fragment),T=u(),N(m.$$.fragment),L=u(),N($.$$.fragment),g=u(),w=o("figcaption"),w.innerHTML=G,this.h()},l(n){a=p(n,"FIGURE",{class:!0,role:!0});var c=j(a);l=p(c,"DIV",{class:!0});var P=j(l);Q(f.$$.fragment,P),b=d(P),Q(v.$$.fragment,P),T=d(P),Q(m.$$.fragment,P),P.forEach(t),L=d(c),Q($.$$.fragment,c),g=d(c),w=p(c,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),x(w)!=="svelte-a480t"&&(w.innerHTML=G),c.forEach(t),this.h()},h(){y(l,"class","radius examples svelte-1xclt6b"),y(w,"class","caption"),y(a,"class","max-w svelte-1xclt6b"),y(a,"role","group")},m(n,c){r(n,a,c),i(a,l),U(f,l,null),i(l,b),U(v,l,null),i(l,T),U(m,l,null),i(a,L),U($,a,null),i(a,g),i(a,w),M=!0},p(n,[c]){const P=c&5?Pe(J,[J[0],c&1&&{percent:n[0]},c&4&&Me(n[2])]):{};f.$set(P);const fe=c&5?Pe(H,[H[0],c&1&&{percent:n[0]},c&4&&Me(n[2])]):{};v.$set(fe);const F=c&5?Pe(R,[R[0],c&1&&{percent:n[0]},c&4&&Me(n[2])]):{};m.$set(F);const de=c&2?Pe(Y,[Me(n[1])]):{};!h&&c&1&&(h=!0,de.value=n[0],pt(()=>h=!1)),$.$set(de)},i(n){M||(V(f.$$.fragment,n),V(v.$$.fragment,n),V(m.$$.fragment,n),V($.$$.fragment,n),M=!0)},o(n){K(f.$$.fragment,n),K(v.$$.fragment,n),K(m.$$.fragment,n),K($.$$.fragment,n),M=!1},d(n){n&&t(a),W(f),W(v),W(m),W($)}}}function _t(_,a,l){const f={thumbColor:"var(--slate-blue-dim)",showNumber:!0,numSize:"var(--step--1)",step:"1",numColor:"var(--color-caption)"};let b=25;const v={use_decimal:!1,use_DPR:!1,fillSpace:!0,seeking:!0,bgColor:"transparent",colorFill:"#686766",colorStroke:"#8e8d8a44"};function T(m){b=m,l(0,b)}return[b,f,v,T]}class bt extends Qe{constructor(a){super(),Ue(this,a,_t,vt,Ne,{})}}function $t(_){let a,l="<span>Gif Scrubber</span>",f,b,v=`An inline video player I made to act as a drop-in alternative to <code data-type="ext">.gif</code>. Along with helping
	me avoid any conversion-related headaches when adding assets to my website, the component includes a couple of QOL
	improvements that make media handling more flexible.`,T,m,L,$,h,g,w="Scrubbing",G,M,J=`To keep everything mobile friendly and consistent across browsers, I decided to implement custom controls: an\r
	always-visible button on the corner toggles play state and, when the container is grabbed, pointer events kick in to\r
	manage the timeline.`,q,H,X,R,pe="s.t.",Y,S,z,n,c,P,fe,F,de="Progress indicator",ce,E,Ee,Z,Ve="canvas",Le,ee,Ke="svg",Re,te,Ge,De,he,ae,ge,ne,We=`I ended up scaling the dimensions up by an extra factor of two (<em>i.e.</em> the rightmost canvas) to make it
	<em>super</em> crisp—<em>super</em> unnecessary! It <em>was</em> slightly sharper and there <em>wasn&#39;t</em> any noticeable
	impact on performance (only a single canvas is active/time), so I went with it.`,ve,_e,be,se,Je="Other Considerations",$e,re,Xe=`While the quality/compression benefits it brings are great,
	using the video element to replace the <em>_actual_</em> format has a couple of tradeoffs:`,xe,O,Ye="<li>can&#39;t <em>hold-to-save</em> on mobile</li> <li>they aren&#39;t visible in reader mode</li> <li>compatibility isn&#39;t guaranteed—playback support depends on browser features and hardware capabilities</li>",ye,le,Ze=`To make a long story short, I address the last point by running a pre-build Python script to crawl my directory and
	generate <code data-type="ext">.webm</code> fallbacks where none exist. The magic <code data-type="ext">ffmpeg</code> command
	I use looks like this:`,we,A,et=`<code class="svelte-1fdslyx"><span>ffmpeg</span> -i [input].mp4 -movflags +faststart -pix_fmt yuv420p -c:v libvpx-vp9 -threads 8 -crf 40 -g 32 -deadline good -an [output].webm</code>
`,Ce,ke,He,I,je,me,tt="e.g.",Se,ie,Fe,qe,oe,at=".h265",ze,ue,nt="etc.",Oe,Te;return m=new gt({}),ae=new bt({}),{c(){a=o("h1"),a.innerHTML=l,f=u(),b=o("p"),b.innerHTML=v,T=u(),N(m.$$.fragment),L=u(),$=o("hr"),h=u(),g=o("h3"),g.textContent=w,G=u(),M=o("p"),M.textContent=J,q=u(),H=o("p"),X=C("It's set up "),R=o("em"),R.textContent=pe,Y=C(` moving a distance across the figure’s width is proportional to seeking that fraction of its\r
	video's duration. Huge s/o to Red Blob Games for their in-depth article about\r
	`),S=o("a"),z=C("draggable objects"),n=C("—extremely helpful!"),c=u(),P=o("hr"),fe=u(),F=o("h3"),F.textContent=de,ce=u(),E=o("p"),Ee=C("Porting the original version of this graphic to "),Z=o("code"),Z.textContent=Ve,Le=C(` solved an issue I had with janky\r
	`),ee=o("code"),ee.textContent=Ke,Re=C(` transforms, but introduced another that gave it a low-quality, aliased look on my\r
	phone. Thankfully, browsers provide a fix for high dpi screens courtesy the\r
	`),te=o("a"),Ge=C("device pixel ratio (DPR)"),De=C(", which I query and use as a resolution multiplier."),he=u(),N(ae.$$.fragment),ge=u(),ne=o("p"),ne.innerHTML=We,ve=u(),_e=o("hr"),be=u(),se=o("h3"),se.textContent=Je,$e=u(),re=o("p"),re.innerHTML=Xe,xe=u(),O=o("ol"),O.innerHTML=Ye,ye=u(),le=o("p"),le.innerHTML=Ze,we=u(),A=o("pre"),A.innerHTML=et,Ce=u(),ke=o("hr"),He=u(),I=o("p"),je=C("Getting to a point where the behavior felt predictable took a lot more effort than I expected ("),me=o("em"),me.textContent=tt,Se=u(),ie=o("a"),Fe=C("safari media fragment hack"),qe=C(", no "),oe=o("code"),oe.textContent=at,ze=C(` in\r
	FireFox, `),ue=o("em"),ue.textContent=nt,Oe=C("), but I’m happy with how it turned out!"),this.h()},l(e){a=p(e,"H1",{"data-svelte-h":!0}),x(a)!=="svelte-16mbdpp"&&(a.innerHTML=l),f=d(e),b=p(e,"P",{"data-svelte-h":!0}),x(b)!=="svelte-1qz52ta"&&(b.innerHTML=v),T=d(e),Q(m.$$.fragment,e),L=d(e),$=p(e,"HR",{}),h=d(e),g=p(e,"H3",{"data-svelte-h":!0}),x(g)!=="svelte-1c67i5l"&&(g.textContent=w),G=d(e),M=p(e,"P",{"data-svelte-h":!0}),x(M)!=="svelte-19t10t7"&&(M.textContent=J),q=d(e),H=p(e,"P",{});var s=j(H);X=k(s,"It's set up "),R=p(s,"EM",{"data-svelte-h":!0}),x(R)!=="svelte-hspnzd"&&(R.textContent=pe),Y=k(s,` moving a distance across the figure’s width is proportional to seeking that fraction of its\r
	video's duration. Huge s/o to Red Blob Games for their in-depth article about\r
	`),S=p(s,"A",{href:!0,target:!0});var st=j(S);z=k(st,"draggable objects"),st.forEach(t),n=k(s,"—extremely helpful!"),s.forEach(t),c=d(e),P=p(e,"HR",{}),fe=d(e),F=p(e,"H3",{"data-svelte-h":!0}),x(F)!=="svelte-lxue3i"&&(F.textContent=de),ce=d(e),E=p(e,"P",{});var B=j(E);Ee=k(B,"Porting the original version of this graphic to "),Z=p(B,"CODE",{"data-type":!0,"data-svelte-h":!0}),x(Z)!=="svelte-jhma2z"&&(Z.textContent=Ve),Le=k(B,` solved an issue I had with janky\r
	`),ee=p(B,"CODE",{"data-type":!0,"data-svelte-h":!0}),x(ee)!=="svelte-mflvan"&&(ee.textContent=Ke),Re=k(B,` transforms, but introduced another that gave it a low-quality, aliased look on my\r
	phone. Thankfully, browsers provide a fix for high dpi screens courtesy the\r
	`),te=p(B,"A",{href:!0,target:!0});var rt=j(te);Ge=k(rt,"device pixel ratio (DPR)"),rt.forEach(t),De=k(B,", which I query and use as a resolution multiplier."),B.forEach(t),he=d(e),Q(ae.$$.fragment,e),ge=d(e),ne=p(e,"P",{"data-svelte-h":!0}),x(ne)!=="svelte-1vxpaju"&&(ne.innerHTML=We),ve=d(e),_e=p(e,"HR",{}),be=d(e),se=p(e,"H3",{"data-svelte-h":!0}),x(se)!=="svelte-1ibvyiz"&&(se.textContent=Je),$e=d(e),re=p(e,"P",{"data-svelte-h":!0}),x(re)!=="svelte-13ydy91"&&(re.innerHTML=Xe),xe=d(e),O=p(e,"OL",{role:!0,"data-svelte-h":!0}),x(O)!=="svelte-1nvufvm"&&(O.innerHTML=Ye),ye=d(e),le=p(e,"P",{"data-svelte-h":!0}),x(le)!=="svelte-1r2dh1s"&&(le.innerHTML=Ze),we=d(e),A=p(e,"PRE",{class:!0,"data-svelte-h":!0}),x(A)!=="svelte-1wwy5vq"&&(A.innerHTML=et),Ce=d(e),ke=p(e,"HR",{}),He=d(e),I=p(e,"P",{});var D=j(I);je=k(D,"Getting to a point where the behavior felt predictable took a lot more effort than I expected ("),me=p(D,"EM",{"data-svelte-h":!0}),x(me)!=="svelte-2dbwd4"&&(me.textContent=tt),Se=d(D),ie=p(D,"A",{href:!0,target:!0});var lt=j(ie);Fe=k(lt,"safari media fragment hack"),lt.forEach(t),qe=k(D,", no "),oe=p(D,"CODE",{"data-type":!0,"data-svelte-h":!0}),x(oe)!=="svelte-1lul1jc"&&(oe.textContent=at),ze=k(D,` in\r
	FireFox, `),ue=p(D,"EM",{"data-svelte-h":!0}),x(ue)!=="svelte-ynskcq"&&(ue.textContent=nt),Oe=k(D,"), but I’m happy with how it turned out!"),D.forEach(t),this.h()},h(){y(S,"href",xt),y(S,"target",Be),y(Z,"data-type","html"),y(ee,"data-type","html"),y(te,"href",yt),y(te,"target",Be),y(O,"role","list"),y(A,"class","codeblock overflow-scrollbar max-w svelte-1fdslyx"),y(ie,"href",wt),y(ie,"target",Be),y(oe,"data-type","ext")},m(e,s){r(e,a,s),r(e,f,s),r(e,b,s),r(e,T,s),U(m,e,s),r(e,L,s),r(e,$,s),r(e,h,s),r(e,g,s),r(e,G,s),r(e,M,s),r(e,q,s),r(e,H,s),i(H,X),i(H,R),i(H,Y),i(H,S),i(S,z),i(H,n),r(e,c,s),r(e,P,s),r(e,fe,s),r(e,F,s),r(e,ce,s),r(e,E,s),i(E,Ee),i(E,Z),i(E,Le),i(E,ee),i(E,Re),i(E,te),i(te,Ge),i(E,De),r(e,he,s),U(ae,e,s),r(e,ge,s),r(e,ne,s),r(e,ve,s),r(e,_e,s),r(e,be,s),r(e,se,s),r(e,$e,s),r(e,re,s),r(e,xe,s),r(e,O,s),r(e,ye,s),r(e,le,s),r(e,we,s),r(e,A,s),r(e,Ce,s),r(e,ke,s),r(e,He,s),r(e,I,s),i(I,je),i(I,me),i(I,Se),i(I,ie),i(ie,Fe),i(I,qe),i(I,oe),i(I,ze),i(I,ue),i(I,Oe),Te=!0},p:ft,i(e){Te||(V(m.$$.fragment,e),V(ae.$$.fragment,e),Te=!0)},o(e){K(m.$$.fragment,e),K(ae.$$.fragment,e),Te=!1},d(e){e&&(t(a),t(f),t(b),t(T),t(L),t($),t(h),t(g),t(G),t(M),t(q),t(H),t(c),t(P),t(fe),t(F),t(ce),t(E),t(he),t(ge),t(ne),t(ve),t(_e),t(be),t(se),t($e),t(re),t(xe),t(O),t(ye),t(le),t(we),t(A),t(Ce),t(ke),t(He),t(I)),W(m,e),W(ae,e)}}}const Be="_blank",xt="https://www.redblobgames.com/making-of/draggable/",yt="https://cloudinary.com/glossary/device-pixel-ratio",wt="https://muffinman.io/blog/hack-for-ios-safari-to-display-html-video-thumbnail/";class Pt extends Qe{constructor(a){super(),Ue(this,a,null,$t,Ne,{})}}export{Pt as component};
