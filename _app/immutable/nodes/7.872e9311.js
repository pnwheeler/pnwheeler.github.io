import{s as me,f as h,a as b,g as v,h as q,c as w,d as r,G as I,j as k,i as o,u as _,l as L,m as S,I as oe,p as ye,S as ke,v as xe}from"../chunks/scheduler.1a83071e.js";import{S as ue,i as de,b as A,d as B,m as F,a as N,t as O,e as V,j as Te}from"../chunks/index.98f22588.js";import{G as we,R as fe}from"../chunks/Gif.c67f3549.js";import{g as pe,a as ce}from"../chunks/spread.8a54911c.js";import{R as He}from"../chunks/RangeSlider.f858772b.js";function Pe(d){let t;return{c(){t=L("Blender donut")},l(s){t=S(s,"Blender donut")},m(s,l){o(s,t,l)},d(s){s&&r(t)}}}function Ie(d){let t;return{c(){t=L("Quick ttk on the last phase")},l(s){t=S(s,"Quick ttk on the last phase")},m(s,l){o(s,t,l)},d(s){s&&r(t)}}}function De(d){let t,s,l,$,f,C,p,H=`Demo gifs: Tutorial Donut and gamer clip from my best 
		run of <a href="https://store.steampowered.com/app/1676130/Deadlink/" target="_blank">deadlink</a>.`,m;return l=new we({props:{src:"/media/projects/GifScrubber/blender_donut.mp4",height:"min(240px, 24vh)",autoplay:!1,$$slots:{caption:[Pe]},$$scope:{ctx:d}}}),f=new we({props:{src:"/media/projects/GifScrubber/deadlink.mp4",height:"min(240px, 24vh)",controlsBg:"#0006",$$slots:{caption:[Ie]},$$scope:{ctx:d}}}),{c(){t=h("figure"),s=h("div"),A(l.$$.fragment),$=b(),A(f.$$.fragment),C=b(),p=h("figcaption"),p.innerHTML=H,this.h()},l(u){t=v(u,"FIGURE",{class:!0,role:!0});var g=q(t);s=v(g,"DIV",{class:!0});var c=q(s);B(l.$$.fragment,c),$=w(c),B(f.$$.fragment,c),c.forEach(r),C=w(g),p=v(g,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),I(p)!=="svelte-1s14123"&&(p.innerHTML=H),g.forEach(r),this.h()},h(){k(s,"class","svelte-wqvtc0"),k(p,"class","caption"),k(t,"class","max-w svelte-wqvtc0"),k(t,"role","group")},m(u,g){o(u,t,g),_(t,s),F(l,s,null),_(s,$),F(f,s,null),_(t,C),_(t,p),m=!0},p(u,[g]){const c={};g&1&&(c.$$scope={dirty:g,ctx:u}),l.$set(c);const D={};g&1&&(D.$$scope={dirty:g,ctx:u}),f.$set(D)},i(u){m||(N(l.$$.fragment,u),N(f.$$.fragment,u),m=!0)},o(u){O(l.$$.fragment,u),O(f.$$.fragment,u),m=!1},d(u){u&&r(t),V(l),V(f)}}}class Me extends ue{constructor(t){super(),de(this,t,null,De,me,{})}}function Re(d){let t,s,l,$,f,C,p,H,m,u,g,c,D=`Comparing canvas quality at different render scales (simulating DPR=3). From left: no scaling (<em>20px</em>), by 
		1×DPR (<em>60px</em>), and 2×DPR (<em>120px</em>).`,x;const j=[{size:20},{percent:d[0]},d[2]];let Q={};for(let a=0;a<j.length;a+=1)Q=oe(Q,j[a]);l=new fe({props:Q});const M=[{size:60},{percent:d[0]},d[2]];let E={};for(let a=0;a<M.length;a+=1)E=oe(E,M[a]);f=new fe({props:E});const R=[{size:120},{percent:d[0]},d[2]];let y={};for(let a=0;a<R.length;a+=1)y=oe(y,R[a]);p=new fe({props:y});const U=[d[1]];function G(a){d[3](a)}let W={};for(let a=0;a<U.length;a+=1)W=oe(W,U[a]);return d[0]!==void 0&&(W.value=d[0]),m=new He({props:W}),ye.push(()=>Te(m,"value",G)),{c(){t=h("figure"),s=h("div"),A(l.$$.fragment),$=b(),A(f.$$.fragment),C=b(),A(p.$$.fragment),H=b(),A(m.$$.fragment),g=b(),c=h("figcaption"),c.innerHTML=D,this.h()},l(a){t=v(a,"FIGURE",{role:!0,class:!0});var i=q(t);s=v(i,"DIV",{class:!0});var T=q(s);B(l.$$.fragment,T),$=w(T),B(f.$$.fragment,T),C=w(T),B(p.$$.fragment,T),T.forEach(r),H=w(i),B(m.$$.fragment,i),g=w(i),c=v(i,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),I(c)!=="svelte-12vptf1"&&(c.innerHTML=D),i.forEach(r),this.h()},h(){k(s,"class","radius"),k(c,"class","caption"),k(t,"role","group"),k(t,"class","max-w svelte-16j8r33")},m(a,i){o(a,t,i),_(t,s),F(l,s,null),_(s,$),F(f,s,null),_(s,C),F(p,s,null),_(t,H),F(m,t,null),_(t,g),_(t,c),x=!0},p(a,[i]){const T=i&5?pe(j,[j[0],i&1&&{percent:a[0]},i&4&&ce(a[2])]):{};l.$set(T);const ee=i&5?pe(M,[M[0],i&1&&{percent:a[0]},i&4&&ce(a[2])]):{};f.$set(ee);const Y=i&5?pe(R,[R[0],i&1&&{percent:a[0]},i&4&&ce(a[2])]):{};p.$set(Y);const P=i&2?pe(U,[ce(a[1])]):{};!u&&i&1&&(u=!0,P.value=a[0],ke(()=>u=!1)),m.$set(P)},i(a){x||(N(l.$$.fragment,a),N(f.$$.fragment,a),N(p.$$.fragment,a),N(m.$$.fragment,a),x=!0)},o(a){O(l.$$.fragment,a),O(f.$$.fragment,a),O(p.$$.fragment,a),O(m.$$.fragment,a),x=!1},d(a){a&&r(t),V(l),V(f),V(p),V(m)}}}function Ge(d,t,s){const l={thumbColor:"var(--slate-blue-dim)",showNumber:!0,numSize:"var(--step--1)",labelSize:"var(--step--1)",step:"1",numColor:"var(--color-caption)"};let $=85;const f={use_decimal:!1,use_DPR:!1,fillSpace:!0,seeking:!0,bgColor:"none"};function C(p){$=p,s(0,$)}return[$,l,f,C]}class Le extends ue{constructor(t){super(),de(this,t,Ge,Re,me,{})}}function Se(d){let t,s="<span>Gif Scrubber</span>",l,$,f=`An inline video player with custom controls. Made this component in the process of updating my website in an effort to
	avoid making <em>actual</em> gifs and generally have a more flexible way to embed media.`,C,p,H,m,u=`To keep it minimal and mobile-friendly, I stuck an always-visible playback <code data-type="html">button</code> on the corner and use a combination
	of pointer events for timeline scrubbing.`,g,c,D,x,j,Q,M,E,R,y,U,G,W="canvas",a,i,T,ee,Y,P,te,J,ge=`I used a factor of 2×DPR (<em>i.e.</em> the last graphic) to make it <em>super</em>
	crisp: <em>super</em> unnecessary! It did look marginally better on my phone and didn&#39;t have any noticeable impact on
	performance, so <em>why not?!</em>`,ae,se,re,K,he=`Didn't realize how hard it'd be to get a single video source made with a codec newer than 20 years old to play nicely\r
	across browsers—I ended up writing a Python script to backfill all my clips with a WebM counterpart. My magic command is:`,ne,z,ve="<code>ffmpeg -i [input] -movflags +faststart -c:v libx265 -pix_fmt yuv420p -tag:v hvc1 [output]</code>",le,X,_e="It turned out to be a lot more involved than I was expecting, and realized that using real gifs in 2024 is completely valid.",ie;return p=new Me({}),P=new Le({}),{c(){t=h("h1"),t.innerHTML=s,l=b(),$=h("p"),$.innerHTML=f,C=b(),A(p.$$.fragment),H=b(),m=h("p"),m.innerHTML=u,g=b(),c=h("p"),D=L(`It's set up so moving a distance across the container's width is proportional to seeking that fraction of the video's\r
	duration. Huge s/o to Red Blob Games for their in-depth `),x=h("a"),j=L("article about draggable objects"),Q=L(", extremely helpful!"),M=b(),E=h("hr"),R=b(),y=h("p"),U=L("The progress indicator was made with a "),G=h("code"),G.textContent=W,a=L(`. To avoid pixelation on high-dpi screens,\r
	the base resolution is scaled by the\r
	`),i=h("a"),T=L("device pixel ratio (DPR)"),ee=L(` before its area is brought back down with\r
	CSS.`),Y=b(),A(P.$$.fragment),te=b(),J=h("p"),J.innerHTML=ge,ae=b(),se=h("hr"),re=b(),K=h("p"),K.textContent=he,ne=b(),z=h("div"),z.innerHTML=ve,le=b(),X=h("p"),X.textContent=_e,this.h()},l(e){t=v(e,"H1",{"data-svelte-h":!0}),I(t)!=="svelte-16mbdpp"&&(t.innerHTML=s),l=w(e),$=v(e,"P",{"data-svelte-h":!0}),I($)!=="svelte-1helrvd"&&($.innerHTML=f),C=w(e),B(p.$$.fragment,e),H=w(e),m=v(e,"P",{"data-svelte-h":!0}),I(m)!=="svelte-1jpjk5b"&&(m.innerHTML=u),g=w(e),c=v(e,"P",{});var n=q(c);D=S(n,`It's set up so moving a distance across the container's width is proportional to seeking that fraction of the video's\r
	duration. Huge s/o to Red Blob Games for their in-depth `),x=v(n,"A",{href:!0,target:!0});var $e=q(x);j=S($e,"article about draggable objects"),$e.forEach(r),Q=S(n,", extremely helpful!"),n.forEach(r),M=w(e),E=v(e,"HR",{}),R=w(e),y=v(e,"P",{});var Z=q(y);U=S(Z,"The progress indicator was made with a "),G=v(Z,"CODE",{"data-type":!0,"data-svelte-h":!0}),I(G)!=="svelte-jhma2z"&&(G.textContent=W),a=S(Z,`. To avoid pixelation on high-dpi screens,\r
	the base resolution is scaled by the\r
	`),i=v(Z,"A",{href:!0,target:!0});var be=q(i);T=S(be,"device pixel ratio (DPR)"),be.forEach(r),ee=S(Z,` before its area is brought back down with\r
	CSS.`),Z.forEach(r),Y=w(e),B(P.$$.fragment,e),te=w(e),J=v(e,"P",{"data-svelte-h":!0}),I(J)!=="svelte-9qsob8"&&(J.innerHTML=ge),ae=w(e),se=v(e,"HR",{}),re=w(e),K=v(e,"P",{"data-svelte-h":!0}),I(K)!=="svelte-cr1d1m"&&(K.textContent=he),ne=w(e),z=v(e,"DIV",{class:!0,"data-svelte-h":!0}),I(z)!=="svelte-17peamh"&&(z.innerHTML=ve),le=w(e),X=v(e,"P",{"data-svelte-h":!0}),I(X)!=="svelte-w6fzc5"&&(X.textContent=_e),this.h()},h(){k(x,"href",je),k(x,"target",Ce),k(G,"data-type","html"),k(i,"href",Ee),k(i,"target",Ce),k(z,"class","codeblock overflowscrollbar svelte-rs93d0")},m(e,n){o(e,t,n),o(e,l,n),o(e,$,n),o(e,C,n),F(p,e,n),o(e,H,n),o(e,m,n),o(e,g,n),o(e,c,n),_(c,D),_(c,x),_(x,j),_(c,Q),o(e,M,n),o(e,E,n),o(e,R,n),o(e,y,n),_(y,U),_(y,G),_(y,a),_(y,i),_(i,T),_(y,ee),o(e,Y,n),F(P,e,n),o(e,te,n),o(e,J,n),o(e,ae,n),o(e,se,n),o(e,re,n),o(e,K,n),o(e,ne,n),o(e,z,n),o(e,le,n),o(e,X,n),ie=!0},p:xe,i(e){ie||(N(p.$$.fragment,e),N(P.$$.fragment,e),ie=!0)},o(e){O(p.$$.fragment,e),O(P.$$.fragment,e),ie=!1},d(e){e&&(r(t),r(l),r($),r(C),r(H),r(m),r(g),r(c),r(M),r(E),r(R),r(y),r(Y),r(te),r(J),r(ae),r(se),r(re),r(K),r(ne),r(z),r(le),r(X)),V(p,e),V(P,e)}}}const Ce="_blank",je="https://www.redblobgames.com/making-of/draggable/",Ee="https://cloudinary.com/glossary/device-pixel-ratio";class Ne extends ue{constructor(t){super(),de(this,t,null,Se,me,{})}}export{Ne as component};
