import{s as Y,f as R,a as z,g as H,h as j,d as c,c as E,j as b,r as D,k as h,i as P,u as w,W as $,N as ee,v as Q,O as se,l as A,m as F,n as re,X as oe,J as X,p as ue,F as G,V as fe}from"../chunks/scheduler.897fc3d6.js";import{S as Z,i as x,j as he,b as L,d as O,m as V,a as M,t as U,e as J}from"../chunks/index.f7b4bdff.js";import{g as y,a as K}from"../chunks/spread.8a54911c.js";import{G as te}from"../chunks/Gif.a4ed1882.js";function ne(i){let e,n;return{c(){e=R("span"),n=A(i[0])},l(u){e=H(u,"SPAN",{});var l=j(e);n=F(l,i[0]),l.forEach(c)},m(u,l){P(u,e,l),w(e,n)},p(u,l){l&1&&re(n,u[0])},d(u){u&&c(e)}}}function me(i){let e,n,u,l,m,g,d,f=i[17]&&ne(i);return{c(){e=R("label"),n=R("div"),u=z(),l=R("input"),m=z(),f&&f.c(),this.h()},l(s){e=H(s,"LABEL",{style:!0,class:!0});var a=j(e);n=H(a,"DIV",{id:!0,class:!0}),j(n).forEach(c),u=E(a),l=H(a,"INPUT",{type:!0,min:!0,max:!0,step:!0,style:!0,class:!0}),m=E(a),f&&f.l(a),a.forEach(c),this.h()},h(){b(n,"id","bg-track"),b(n,"class","pseudo-border svelte-1lhkouw"),D(n,"trackRound",i[5]),b(l,"type","range"),b(l,"min",i[2]),b(l,"max",i[3]),b(l,"step",i[4]),h(l,"--offset",i[19]+"px"),h(l,"--thumb-pad",i[20]+"px"),h(l,"--thumb-color",i[12]),h(l,"--color-border",i[13]),b(l,"class","svelte-1lhkouw"),h(e,"--percent",i[18]+"%"),h(e,"--color-bg",i[16]),h(e,"--track-h",i[6]+"px"),h(e,"--thumb-h",i[11]+"px"),h(e,"--thumb-w",i[10]+"px"),h(e,"--min-inline",i[21]+"px"),h(e,"--padding",i[15]+"px"),h(e,"--outline-w",i[9]+"px"),h(e,"--track-pre",i[7]),h(e,"--track-post",i[8]),h(e,"--thumb-radius",i[1]+"px"),b(e,"class","svelte-1lhkouw"),D(e,"showNumber",i[17]),D(e,"inset_shadow",i[14])},m(s,a){P(s,e,a),w(e,n),w(e,u),w(e,l),$(l,i[0]),w(e,m),f&&f.m(e,null),g||(d=[ee(l,"change",i[22]),ee(l,"input",i[22])],g=!0)},p(s,[a]){a&32&&D(n,"trackRound",s[5]),a&4&&b(l,"min",s[2]),a&8&&b(l,"max",s[3]),a&16&&b(l,"step",s[4]),a&524288&&h(l,"--offset",s[19]+"px"),a&4096&&h(l,"--thumb-color",s[12]),a&8192&&h(l,"--color-border",s[13]),a&1&&$(l,s[0]),s[17]?f?f.p(s,a):(f=ne(s),f.c(),f.m(e,null)):f&&(f.d(1),f=null),a&262144&&h(e,"--percent",s[18]+"%"),a&65536&&h(e,"--color-bg",s[16]),a&64&&h(e,"--track-h",s[6]+"px"),a&2048&&h(e,"--thumb-h",s[11]+"px"),a&1024&&h(e,"--thumb-w",s[10]+"px"),a&32768&&h(e,"--padding",s[15]+"px"),a&512&&h(e,"--outline-w",s[9]+"px"),a&128&&h(e,"--track-pre",s[7]),a&256&&h(e,"--track-post",s[8]),a&2&&h(e,"--thumb-radius",s[1]+"px"),a&131072&&D(e,"showNumber",s[17]),a&16384&&D(e,"inset_shadow",s[14])},i:Q,o:Q,d(s){s&&c(e),f&&f.d(),g=!1,se(d)}}}function ge(i,e,n){let u,l,{min:m=0}=e,{max:g=100}=e,{step:d="any"}=e,{value:f=(g-m)/2}=e,{trackRound:s=!0}=e,{trackHeight:a=4}=e,{trackPre:W="rgb(62, 62, 62)"}=e,{trackPost:v="#aaaaaa"}=e,{outlineWidth:p=2}=e,C=p*1.5,{thumbWidth:I=30}=e,{thumbHeight:N=30}=e,{thumbColor:_="white"}=e,{thumbColorBorder:B="color-mix(in srgb, var(--color-bg), rgba(0, 0, 0, 0.171) 90%)"}=e,{thumbRadius:k=0}=e,{inset_shadow:t=!1}=e;k==0&&(k=Math.min(I,N)*.5);let{padding:r=0}=e,{bgColor:S="none"}=e,{showNumber:T=!1}=e,q=(I-p)*.5;function le(){f=oe(this.value),n(0,f)}return i.$$set=o=>{"min"in o&&n(2,m=o.min),"max"in o&&n(3,g=o.max),"step"in o&&n(4,d=o.step),"value"in o&&n(0,f=o.value),"trackRound"in o&&n(5,s=o.trackRound),"trackHeight"in o&&n(6,a=o.trackHeight),"trackPre"in o&&n(7,W=o.trackPre),"trackPost"in o&&n(8,v=o.trackPost),"outlineWidth"in o&&n(9,p=o.outlineWidth),"thumbWidth"in o&&n(10,I=o.thumbWidth),"thumbHeight"in o&&n(11,N=o.thumbHeight),"thumbColor"in o&&n(12,_=o.thumbColor),"thumbColorBorder"in o&&n(13,B=o.thumbColorBorder),"thumbRadius"in o&&n(1,k=o.thumbRadius),"inset_shadow"in o&&n(14,t=o.inset_shadow),"padding"in o&&n(15,r=o.padding),"bgColor"in o&&n(16,S=o.bgColor),"showNumber"in o&&n(17,T=o.showNumber)},i.$$.update=()=>{i.$$.dirty&9&&n(18,u=100*(f/g)),i.$$.dirty&263168&&n(19,l=I*.01*(u-50))},[f,k,m,g,d,s,a,W,v,p,I,N,_,B,t,r,S,T,u,l,C,q,le]}class de extends Z{constructor(e){super(),x(this,e,ge,me,Y,{min:2,max:3,step:4,value:0,trackRound:5,trackHeight:6,trackPre:7,trackPost:8,outlineWidth:9,thumbWidth:10,thumbHeight:11,thumbColor:12,thumbColorBorder:13,thumbRadius:1,inset_shadow:14,padding:15,bgColor:16,showNumber:17})}}function ce(i){let e,n,u,l,m,g,d,f,s,a,W='<strong id="before">Before</strong> and <strong id="after" class="svelte-cmhd00">after</strong> running the script',v;const p=[i[1],{src:ae}];let C={};for(let t=0;t<p.length;t+=1)C=X(C,p[t]);u=new te({props:C});const I=[i[1],{src:ie},{outline_off:!0}];let N={};for(let t=0;t<I.length;t+=1)N=X(N,I[t]);m=new te({props:N});const _=[i[2]];function B(t){i[3](t)}let k={};for(let t=0;t<_.length;t+=1)k=X(k,_[t]);return i[0]!==void 0&&(k.value=i[0]),d=new de({props:k}),ue.push(()=>he(d,"value",B)),{c(){e=R("figure"),n=R("div"),L(u.$$.fragment),l=z(),L(m.$$.fragment),g=z(),L(d.$$.fragment),s=z(),a=R("figcaption"),a.innerHTML=W,this.h()},l(t){e=H(t,"FIGURE",{class:!0,style:!0});var r=j(e);n=H(r,"DIV",{class:!0});var S=j(n);O(u.$$.fragment,S),l=E(S),O(m.$$.fragment,S),S.forEach(c),g=E(r),O(d.$$.fragment,r),s=E(r),a=H(r,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-tqjknh"&&(a.innerHTML=W),r.forEach(c),this.h()},h(){b(n,"class","before-after svelte-cmhd00"),b(a,"class","caption svelte-cmhd00"),b(e,"class","demo max-w svelte-cmhd00"),h(e,"--percent",i[0]+"%")},m(t,r){P(t,e,r),w(e,n),V(u,n,null),w(n,l),V(m,n,null),w(e,g),V(d,e,null),w(e,s),w(e,a),v=!0},p(t,[r]){const S=r&2?y(p,[r&2&&K(t[1]),r&0&&{src:ae}]):{};u.$set(S);const T=r&2?y(I,[r&2&&K(t[1]),r&0&&{src:ie},I[2]]):{};m.$set(T);const q=r&4?y(_,[K(t[2])]):{};!f&&r&1&&(f=!0,q.value=t[0],fe(()=>f=!1)),d.$set(q),(!v||r&1)&&h(e,"--percent",t[0]+"%")},i(t){v||(M(u.$$.fragment,t),M(m.$$.fragment,t),M(d.$$.fragment,t),v=!0)},o(t){U(u.$$.fragment,t),U(m.$$.fragment,t),U(d.$$.fragment,t),v=!1},d(t){t&&c(e),J(u),J(m),J(d)}}}const ae="/media/projects/ImageStabilzation/church_after.mp4",ie="/media/projects/ImageStabilzation/church_before.mp4";function be(i,e,n){const u={controls:!1,pad:.5,background:"var(--grey-0)",dim:20,inset_shadow:!0},l={padding:10,thumbWidth:14,thumbHeight:28,thumbRadius:4,trackHeight:6,bgColor:"var(--grey-0)",thumbColor:"var(--slate-blue-dim)",trackPre:"#5d5d5d",trackPost:"#5d5d5d",inset_shadow:!0};let m=50;function g(d){m=d,n(0,m)}return[m,u,l,g]}class _e extends Z{constructor(e){super(),x(this,e,be,ce,Y,{})}}function ke(i){let e,n="Image Stabilization",u,l,m,g,d,f,s,a,W,v,p,C,I="It used OpenCV's ORB descriptors and BF matcher to track a set of common feature points across the sequence.",N,_,B=`The idea was to go through the set and, from one image to another, apply transforms to minimize the\r
	distance between the features. It's not super extreme, but I also cropped to the minimal bounding area to avoid wonky\r
	letterboxing.`,k;return a=new _e({}),{c(){e=R("h1"),e.textContent=n,u=z(),l=R("p"),m=A("I had recently been given a Nikon D40 and wanted to try making some "),g=R("a"),d=A("cinemagraphs"),f=A(`. I\r
	knew aligning all the frames would be tedious and wanted to try automating it—never ended up making any and lost\r
	the code(lol), but check out this demo slider!`),s=z(),L(a.$$.fragment),W=z(),v=R("hr"),p=z(),C=R("p"),C.textContent=I,N=z(),_=R("p"),_.textContent=B,this.h()},l(t){e=H(t,"H1",{"data-svelte-h":!0}),G(e)!=="svelte-13zz6k4"&&(e.textContent=n),u=E(t),l=H(t,"P",{});var r=j(l);m=F(r,"I had recently been given a Nikon D40 and wanted to try making some "),g=H(r,"A",{href:!0,target:!0});var S=j(g);d=F(S,"cinemagraphs"),S.forEach(c),f=F(r,`. I\r
	knew aligning all the frames would be tedious and wanted to try automating it—never ended up making any and lost\r
	the code(lol), but check out this demo slider!`),r.forEach(c),s=E(t),O(a.$$.fragment,t),W=E(t),v=H(t,"HR",{}),p=E(t),C=H(t,"P",{"data-svelte-h":!0}),G(C)!=="svelte-mbh35q"&&(C.textContent=I),N=E(t),_=H(t,"P",{"data-svelte-h":!0}),G(_)!=="svelte-1vc2co3"&&(_.textContent=B),this.h()},h(){b(g,"href",we),b(g,"target",ve)},m(t,r){P(t,e,r),P(t,u,r),P(t,l,r),w(l,m),w(l,g),w(g,d),w(l,f),P(t,s,r),V(a,t,r),P(t,W,r),P(t,v,r),P(t,p,r),P(t,C,r),P(t,N,r),P(t,_,r),k=!0},p:Q,i(t){k||(M(a.$$.fragment,t),k=!0)},o(t){U(a.$$.fragment,t),k=!1},d(t){t&&(c(e),c(u),c(l),c(s),c(W),c(v),c(p),c(C),c(N),c(_)),J(a,t)}}}const we="https://en.wikipedia.org/wiki/Cinemagraph",ve="_blank";class Re extends Z{constructor(e){super(),x(this,e,null,ke,Y,{})}}export{Re as component};
