import{s as I,f as v,l as se,g as y,h as k,m as ne,d,j as p,r as A,i as j,u as E,n as le,v as D,w as re,o as G,p as J,a as N,c as C,k as g,x as ie,b as oe,e as V,y as z,z as K,A as fe,B as ce,C as ue,D as he}from"../chunks/scheduler.1a83071e.js";import{S as M,i as P,a as b,g as B,c as L,t as w,b as Q,d as Y,m as Z,e as x,f as $,h as _e}from"../chunks/index.98f22588.js";import{b as de,f as me,a as ee}from"../chunks/index.6c0f9f0a.js";import{t as O,a as pe,u as S,d as be}from"../chunks/stores.f36e888a.js";import{e as F}from"../chunks/each.e59479a4.js";const ge=({url:a})=>{const{pathname:e}=a;return{pathname:e}},ve=!0,ze=Object.freeze(Object.defineProperty({__proto__:null,load:ge,prerender:ve},Symbol.toStringTag,{value:"Module"}));function ye(a){let e,s,t;return{c(){e=v("li"),s=v("a"),t=se(a[2]),this.h()},l(n){e=y(n,"LI",{class:!0});var r=k(e);s=y(r,"A",{href:!0,class:!0});var c=k(s);t=ne(c,a[2]),c.forEach(d),r.forEach(d),this.h()},h(){p(s,"href",a[1]),p(s,"class","svelte-2ed2u3"),p(e,"class","svelte-2ed2u3"),A(e,"active",a[0])},m(n,r){j(n,e,r),E(e,s),E(s,t),a[5](e)},p(n,[r]){r&4&&le(t,n[2]),r&2&&p(s,"href",n[1]),r&1&&A(e,"active",n[0])},i:D,o:D,d(n){n&&d(e),a[5](null)}}}function ke(a,e,s){const t=re();let{active:n=!1}=e,{id:r}=e,{href:c}=e,{title:i}=e,u=0,l=0,_;function f(){t("activeChanged",{width:u,left:l,path:c,id:r})}G(()=>{u=_.clientWidth,l=_.offsetLeft,n&&f()});function h(o){J[o?"unshift":"push"](()=>{_=o,s(3,_)})}return a.$$set=o=>{"active"in o&&s(0,n=o.active),"id"in o&&s(4,r=o.id),"href"in o&&s(1,c=o.href),"title"in o&&s(2,i=o.title)},a.$$.update=()=>{a.$$.dirty&1&&n&&f()},[n,c,i,_,r,h]}class we extends M{constructor(e){super(),P(this,e,ke,ye,I,{active:0,id:4,href:1,title:2})}}const T=[{id:0,title:"home",href:"/"},{id:1,title:"projects",href:"/projects"},{id:2,title:"misc",href:"/other"}];function R(a,e,s){const t=a.slice();t[10]=e[s];const n=t[0]==t[10].href;return t[11]=n,t}function U(a){let e;return{c(){e=v("div"),this.h()},l(s){e=y(s,"DIV",{class:!0,style:!0});var t=k(e);t.forEach(d),this.h()},h(){p(e,"class","nested pseudo-border svelte-27ntpk"),g(e,"--w",a[2]+"px"),g(e,"--l",a[3]+"px")},m(s,t){j(s,e,t)},p(s,t){t&4&&g(e,"--w",s[2]+"px"),t&8&&g(e,"--l",s[3]+"px")},d(s){s&&d(e)}}}function W(a){let e,s;return e=new we({props:{active:a[11],id:a[10].id,href:a[10].href,title:a[10].title}}),e.$on("activeChanged",a[7]),{c(){Q(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,n){Z(e,t,n),s=!0},p(t,n){const r={};n&1&&(r.active=t[11]),e.$set(r)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){x(e,t)}}}function Ee(a){let e,s,t,n,r,c,i=a[6]&&U(a),u=F(T),l=[];for(let f=0;f<u.length;f+=1)l[f]=W(R(a,u,f));const _=f=>w(l[f],1,1,()=>{l[f]=null});return{c(){e=v("nav"),i&&i.c(),s=N(),t=v("ul");for(let f=0;f<l.length;f+=1)l[f].c();n=N(),r=v("div"),this.h()},l(f){e=y(f,"NAV",{class:!0});var h=k(e);i&&i.l(h),s=C(h),t=y(h,"UL",{class:!0});var o=k(t);for(let m=0;m<l.length;m+=1)l[m].l(o);n=C(o),r=y(o,"DIV",{id:!0,style:!0,class:!0}),k(r).forEach(d),o.forEach(d),h.forEach(d),this.h()},h(){p(r,"id","bgtab"),g(r,"--w",a[2]+"px"),g(r,"--l",a[3]+"px"),g(r,"--br",(a[4]==0||a[4]==T.length-1?.5:2)+"rem"),p(r,"class","svelte-27ntpk"),A(r,"notInPath",a[1]),p(t,"class","svelte-27ntpk"),p(e,"class","nav pseudo-border svelte-27ntpk")},m(f,h){j(f,e,h),i&&i.m(e,null),E(e,s),E(e,t);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,null);E(t,n),E(t,r),a[8](r),c=!0},p(f,[h]){if(f[6]?i?i.p(f,h):(i=U(f),i.c(),i.m(e,s)):i&&(i.d(1),i=null),h&129){u=F(T);let o;for(o=0;o<u.length;o+=1){const m=R(f,u,o);l[o]?(l[o].p(m,h),b(l[o],1)):(l[o]=W(m),l[o].c(),b(l[o],1),l[o].m(t,n))}for(B(),o=u.length;o<l.length;o+=1)_(o);L()}(!c||h&4)&&g(r,"--w",f[2]+"px"),(!c||h&8)&&g(r,"--l",f[3]+"px"),(!c||h&16)&&g(r,"--br",(f[4]==0||f[4]==T.length-1?.5:2)+"rem"),(!c||h&2)&&A(r,"notInPath",f[1])},i(f){if(!c){for(let h=0;h<u.length;h+=1)b(l[h]);c=!0}},o(f){l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)w(l[h]);c=!1},d(f){f&&d(e),i&&i.d(),ie(l,f),a[8](null)}}}function je(a,e,s){let t,{pathname:n}=e,r=0,c=0,i=0,u="",l,_=!1;function f(o){let m=o.detail;s(2,r=1.05*m.width);let te=m.width*.025;s(3,c=m.left-te),s(4,i=m.id),O.setNewTab(i),u=m.path;const ae=[{width:`${r}px`},{transform:`translate(${c}px, 0)`}];l.animate(ae,{duration:325,fill:"forwards",easing:"cubic-bezier(0.34, 1.56, 0.69, .9)"})}oe(()=>{n!=u?s(1,_=!0):(O.setNewTab(i),s(1,_=!1))});function h(o){J[o?"unshift":"push"](()=>{l=o,s(5,l)})}return a.$$set=o=>{"pathname"in o&&s(0,n=o.pathname)},a.$$.update=()=>{a.$$.dirty&3&&s(6,t=n.includes("/projects")&&_)},[n,_,r,c,i,l,t,f,h]}class Te extends M{constructor(e){super(),P(this,e,je,Ee,I,{pathname:0})}}function X(a){let e,s,t,n,r=a[3],c,i;t=new Te({props:{pathname:a[3]}});let u=q(a);return{c(){e=v("div"),s=v("header"),Q(t.$$.fragment),n=N(),u.c(),this.h()},l(l){e=y(l,"DIV",{class:!0});var _=k(e);s=y(_,"HEADER",{class:!0});var f=k(s);Y(t.$$.fragment,f),f.forEach(d),n=C(_),u.l(_),_.forEach(d),this.h()},h(){p(s,"class","nav-bar svelte-1429hfn"),p(e,"class","page svelte-1429hfn")},m(l,_){j(l,e,_),E(e,s),Z(t,s,null),E(e,n),u.m(e,null),i=!0},p(l,_){const f={};_&8&&(f.pathname=l[3]),t.$set(f),_&8&&I(r,r=l[3])?(B(),w(u,1,1,D),L(),u=q(l),u.c(),b(u,1),u.m(e,null)):u.p(l,_)},i(l){i||(b(t.$$.fragment,l),b(u),l&&(c||K(()=>{c=$(e,ee,{duration:300}),c.start()})),i=!0)},o(l){w(t.$$.fragment,l),w(u),i=!1},d(l){l&&d(e),x(t),u.d(l)}}}function q(a){let e,s,t,n;const r=a[8].default,c=fe(r,a,a[7],null);return{c(){e=v("main"),c&&c.c(),this.h()},l(i){e=y(i,"MAIN",{class:!0});var u=k(e);c&&c.l(u),u.forEach(d),this.h()},h(){p(e,"class","flow svelte-1429hfn")},m(i,u){j(i,e,u),c&&c.m(e,null),n=!0},p(i,u){a=i,c&&c.p&&(!n||u&128)&&ce(c,r,a,a[7],n?he(r,a[7],u,null):ue(a[7]),null)},i(i){n||(b(c,i),i&&K(()=>{n&&(t&&t.end(1),s=$(e,me,{x:a[2],duration:a[1],delay:Se,easing:de}),s.start())}),n=!0)},o(i){w(c,i),s&&s.invalidate(),i&&(t=_e(e,ee,{duration:250,delay:0})),n=!1},d(i){i&&d(e),c&&c.d(i),i&&t&&t.end()}}}function Ae(a){let e,s,t=a[0]&&X(a);return{c(){t&&t.c(),e=V()},l(n){t&&t.l(n),e=V()},m(n,r){t&&t.m(n,r),j(n,e,r),s=!0},p(n,[r]){n[0]?t?(t.p(n,r),r&1&&b(t,1)):(t=X(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(B(),w(t,1,1,()=>{t=null}),L())},i(n){s||(b(t),s=!0)},o(n){w(t),s=!1},d(n){n&&d(e),t&&t.d(n)}}}const Ie=16,H=550,Se=300;async function De(){const a="https://api.weather.gov/gridpoints/LWX/103,89/forecast";let e;try{e=(await(await fetch(a)).json()).properties.periods[0].temperature}catch(s){console.log("Error fetching temperature."),console.warn(s),console.log(`Retrying...
`),e=(await(await fetch(a)).json()).properties.periods[0].temperature}return e}async function Ne(){let a=!1;return document.createElement("video").canPlayType('video/mp4;codecs="hvc1"')==""&&(a=!0),a}function Ce(a,e,s){let t,n,r,c,i;z(a,be,h=>s(5,c=h)),z(a,S,h=>s(6,i=h));let{$$slots:u={},$$scope:l}=e,{data:_}=e,f=!1;return G(async()=>{pe.setTemperature(await De()),await Ne()?S.on():S.off(),s(0,f=!0)}),a.$$set=h=>{"data"in h&&s(4,_=h.data),"$$scope"in h&&s(7,l=h.$$scope)},a.$$.update=()=>{a.$$.dirty&16&&s(3,t=_.pathname),a.$$.dirty&64&&console.log("fallback to webm: "+i),a.$$.dirty&32&&s(2,n=Ie*c),a.$$.dirty&32&&s(1,r=H+H*Math.abs(1-Math.abs(c))*.15)},[f,r,n,t,_,c,i,l,u]}class Oe extends M{constructor(e){super(),P(this,e,Ce,Ae,I,{data:4})}}export{Oe as component,ze as universal};
