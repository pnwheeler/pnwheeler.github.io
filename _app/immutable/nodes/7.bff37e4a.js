import{s as Ae,f as i,a as u,g as o,h as j,c,d as t,G as y,j as x,i as s,u as p,l as C,m as k,K as He,p as st,S as lt,v as it}from"../chunks/scheduler.8d84c197.js";import{S as Oe,i as Be,b as O,d as B,m as N,a as Q,t as U,e as V,j as ot}from"../chunks/index.5e028736.js";import{G as rt,R as Fe}from"../chunks/Gif.cb2d118f.js";import{g as Te,a as Pe}from"../chunks/spread.8a54911c.js";import{R as pt}from"../chunks/RangeSlider.00a7ad4c.js";function mt(_){let a;return{c(){a=C("Blender donut")},l(l){a=k(l,"Blender donut")},m(l,m){s(l,a,m)},d(l){l&&t(a)}}}function ft(_){let a;return{c(){a=C("Quick ttk on boss")},l(l){a=k(l,"Quick ttk on boss")},m(l,m){s(l,a,m)},d(l){l&&t(a)}}}function dt(_){let a,l,m,$,v,H,d,R=`Demo gifs: Tutorial Donut and gamer clip from my best 
		run of <a href="https://store.steampowered.com/app/1676130/Deadlink/" target="_blank">deadlink</a>.`,b;return m=new rt({props:{src:"/media/projects/GifScrubber/blender_donut.mp4",height:"min(240px, 24vh)",radius_type:"combo left",$$slots:{caption:[mt]},$$scope:{ctx:_}}}),v=new rt({props:{src:"/media/projects/GifScrubber/deadlink.mp4",height:"min(240px, 24vh)",t:"#t=1",autoplay:!1,controlsBg:"#0006",radius_type:"combo right",$$slots:{caption:[ft]},$$scope:{ctx:_}}}),{c(){a=i("figure"),l=i("div"),O(m.$$.fragment),$=u(),O(v.$$.fragment),H=u(),d=i("figcaption"),d.innerHTML=R,this.h()},l(h){a=o(h,"FIGURE",{class:!0,role:!0});var g=j(a);l=o(g,"DIV",{class:!0});var w=j(l);B(m.$$.fragment,w),$=c(w),B(v.$$.fragment,w),w.forEach(t),H=c(g),d=o(g,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),y(d)!=="svelte-1s14123"&&(d.innerHTML=R),g.forEach(t),this.h()},h(){x(l,"class","svelte-o0m8eb"),x(d,"class","caption"),x(a,"class","max-w svelte-o0m8eb"),x(a,"role","group")},m(h,g){s(h,a,g),p(a,l),N(m,l,null),p(l,$),N(v,l,null),p(a,H),p(a,d),b=!0},p(h,[g]){const w={};g&1&&(w.$$scope={dirty:g,ctx:h}),m.$set(w);const D={};g&1&&(D.$$scope={dirty:g,ctx:h}),v.$set(D)},i(h){b||(Q(m.$$.fragment,h),Q(v.$$.fragment,h),b=!0)},o(h){U(m.$$.fragment,h),U(v.$$.fragment,h),b=!1},d(h){h&&t(a),V(m),V(v)}}}class ut extends Oe{constructor(a){super(),Be(this,a,null,dt,Ae,{})}}function ct(_){let a,l,m,$,v,H,d,R,b,h,g,w,D=`Simulating DPR=3 to compare canvas detail at different render scales. From left: default (<em>20px</em>), by 1×DPR
		(<em>60px</em>), and by 2×DPR (<em>120px</em>).`,M;const J=[{size:20},{percent:_[0]},_[2]];let S={};for(let n=0;n<J.length;n+=1)S=He(S,J[n]);m=new Fe({props:S});const I=[{size:60},{percent:_[0]},_[2]];let K={};for(let n=0;n<I.length;n+=1)K=He(K,I[n]);v=new Fe({props:K});const L=[{size:120},{percent:_[0]},_[2]];let W={};for(let n=0;n<L.length;n+=1)W=He(W,L[n]);d=new Fe({props:W});const X=[_[1]];function oe(n){_[3](n)}let z={};for(let n=0;n<X.length;n+=1)z=He(z,X[n]);return _[0]!==void 0&&(z.value=_[0]),b=new pt({props:z}),st.push(()=>ot(b,"value",oe)),{c(){a=i("figure"),l=i("div"),O(m.$$.fragment),$=u(),O(v.$$.fragment),H=u(),O(d.$$.fragment),R=u(),O(b.$$.fragment),g=u(),w=i("figcaption"),w.innerHTML=D,this.h()},l(n){a=o(n,"FIGURE",{class:!0,role:!0});var f=j(a);l=o(f,"DIV",{class:!0});var E=j(l);B(m.$$.fragment,E),$=c(E),B(v.$$.fragment,E),H=c(E),B(d.$$.fragment,E),E.forEach(t),R=c(f),B(b.$$.fragment,f),g=c(f),w=o(f,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),y(w)!=="svelte-1g7ousm"&&(w.innerHTML=D),f.forEach(t),this.h()},h(){x(l,"class","radius examples svelte-15ez60t"),x(w,"class","caption"),x(a,"class","max-w svelte-15ez60t"),x(a,"role","group")},m(n,f){s(n,a,f),p(a,l),N(m,l,null),p(l,$),N(v,l,null),p(l,H),N(d,l,null),p(a,R),N(b,a,null),p(a,g),p(a,w),M=!0},p(n,[f]){const E=f&5?Te(J,[J[0],f&1&&{percent:n[0]},f&4&&Pe(n[2])]):{};m.$set(E);const pe=f&5?Te(I,[I[0],f&1&&{percent:n[0]},f&4&&Pe(n[2])]):{};v.$set(pe);const T=f&5?Te(L,[L[0],f&1&&{percent:n[0]},f&4&&Pe(n[2])]):{};d.$set(T);const me=f&2?Te(X,[Pe(n[1])]):{};!h&&f&1&&(h=!0,me.value=n[0],lt(()=>h=!1)),b.$set(me)},i(n){M||(Q(m.$$.fragment,n),Q(v.$$.fragment,n),Q(d.$$.fragment,n),Q(b.$$.fragment,n),M=!0)},o(n){U(m.$$.fragment,n),U(v.$$.fragment,n),U(d.$$.fragment,n),U(b.$$.fragment,n),M=!1},d(n){n&&t(a),V(m),V(v),V(d),V(b)}}}function ht(_,a,l){const m={thumbColor:"var(--slate-blue-dim)",showNumber:!0,numSize:"var(--step--1)",step:"1",numColor:"var(--color-caption)"};let $=25;const v={use_decimal:!1,use_DPR:!1,fillSpace:!0,seeking:!0,bgColor:"none"};function H(d){$=d,l(0,$)}return[$,m,v,H]}class gt extends Oe{constructor(a){super(),Be(this,a,ht,ct,Ae,{})}}function vt(_){let a,l="<span>Gif Scrubber</span>",m,$,v=`An inline video player I made to act as a drop-in alternative to <code data-type="ext">.gif</code>. Along with helping
	me avoid conversion-related headaches, the component makes media handling more flexible and has the added benefit
	of thirty years’ worth of codec improvements.`,H,d,R,b,h,g,w="Scrubbing",D,M,J=`I implemented custom controls to keep everything mobile-friendly and visually consistent across browsers: an\r
	always-visible button on the corner toggles play state and, when the container is grabbed, pointer events kick in to\r
	manage the timeline.`,S,I,K,L,W,X,oe,z,n,f,E="Progress indicator",pe,T,me,Y,Ne="canvas",Ie,Z,Qe="svg",Me,ee,Le,Re,ue,te,ce,ae,Ue=`Just to try, I scaled the dimensions up by another factor of two (<em>i.e.</em> the rightmost canvas) to make it
	<em>super</em> crisp—<em>super</em> unnecessary! It <em>was</em> slightly sharper and there <em>wasn&#39;t</em> any noticeable
	impact on performance (only a single canvas is active at a time), so I went with it.`,he,ge,ve,ne,Ve="Format Considerations",_e,re,Je=`Compared to the <em>_real_</em> thing, using a <code data-type="html">video</code> element comes with a couple of
	caveats that range from annoying→severe:`,$e,F,Ke="<li><em>hold-to-save</em> doesn&#39;t work on mobile</li> <li>they aren&#39;t visible in reader mode</li> <li>compatibility isn&#39;t guaranteed—playback support depends on browser features and hardware capabilities</li>",be,se,We=`To make a long story short, I work around the last point by running a pre-build Python script to traverse my
	media directory and generate <code data-type="ext">.webm</code> fallbacks. My magic
	<code data-type="ext">ffmpeg</code> command looks like this:`,xe,q,Xe=`<code class="svelte-1k68zg8"><span>ffmpeg</span> -i [input].mp4 -movflags +faststart -pix_fmt yuv420p -c:v libvpx-vp9 -threads 8 -crf 40 -g 32 -deadline good -an [output].webm</code>
`,we,ye,Ce,P,Ee,fe,Ye="e.g.",De,le,Ge,je,ie,Ze=".h265",ze,de,et="etc.",Se,ke;return d=new ut({}),te=new gt({}),{c(){a=i("h1"),a.innerHTML=l,m=u(),$=i("p"),$.innerHTML=v,H=u(),O(d.$$.fragment),R=u(),b=i("hr"),h=u(),g=i("h3"),g.textContent=w,D=u(),M=i("p"),M.textContent=J,S=u(),I=i("p"),K=C(`It's set up so moving a distance across the figure’s width is proportional to seeking that fraction of the video's\r
	duration. Huge s/o to Red Blob Games for their in-depth article about\r
	`),L=i("a"),W=C("draggable objects"),X=C("—extremely helpful reference!"),oe=u(),z=i("hr"),n=u(),f=i("h3"),f.textContent=E,pe=u(),T=i("p"),me=C("Porting the graphic to "),Y=i("code"),Y.textContent=Ne,Ie=C(` resolved an issue I had with transform jank in the  \r
	original `),Z=i("code"),Z.textContent=Qe,Me=C(`, but introduced a new one that made it look low-quality and\r
	aliased on my phone. Thankfully, browsers provide a fix for high dpi screens courtesy the\r
	`),ee=i("a"),Le=C("device pixel ratio (DPR)"),Re=C(", which can be queried and used as a resolution multiplier."),ue=u(),O(te.$$.fragment),ce=u(),ae=i("p"),ae.innerHTML=Ue,he=u(),ge=i("hr"),ve=u(),ne=i("h3"),ne.textContent=Ve,_e=u(),re=i("p"),re.innerHTML=Je,$e=u(),F=i("ol"),F.innerHTML=Ke,be=u(),se=i("p"),se.innerHTML=We,xe=u(),q=i("pre"),q.innerHTML=Xe,we=u(),ye=i("hr"),Ce=u(),P=i("p"),Ee=C("Getting to a point where the behavior felt predictable took a lot more effort than I expected ("),fe=i("em"),fe.textContent=Ye,De=u(),le=i("a"),Ge=C("safari media fragment hack"),je=C(", no "),ie=i("code"),ie.textContent=Ze,ze=C(` in\r
	FireFox, `),de=i("em"),de.textContent=et,Se=C("), but I’m happy with how it turned out and learned a lot in the process!"),this.h()},l(e){a=o(e,"H1",{"data-svelte-h":!0}),y(a)!=="svelte-16mbdpp"&&(a.innerHTML=l),m=c(e),$=o(e,"P",{"data-svelte-h":!0}),y($)!=="svelte-18dc386"&&($.innerHTML=v),H=c(e),B(d.$$.fragment,e),R=c(e),b=o(e,"HR",{}),h=c(e),g=o(e,"H3",{"data-svelte-h":!0}),y(g)!=="svelte-1c67i5l"&&(g.textContent=w),D=c(e),M=o(e,"P",{"data-svelte-h":!0}),y(M)!=="svelte-1vtjhtt"&&(M.textContent=J),S=c(e),I=o(e,"P",{});var r=j(I);K=k(r,`It's set up so moving a distance across the figure’s width is proportional to seeking that fraction of the video's\r
	duration. Huge s/o to Red Blob Games for their in-depth article about\r
	`),L=o(r,"A",{href:!0,target:!0});var tt=j(L);W=k(tt,"draggable objects"),tt.forEach(t),X=k(r,"—extremely helpful reference!"),r.forEach(t),oe=c(e),z=o(e,"HR",{}),n=c(e),f=o(e,"H3",{"data-svelte-h":!0}),y(f)!=="svelte-lxue3i"&&(f.textContent=E),pe=c(e),T=o(e,"P",{});var A=j(T);me=k(A,"Porting the graphic to "),Y=o(A,"CODE",{"data-type":!0,"data-svelte-h":!0}),y(Y)!=="svelte-jhma2z"&&(Y.textContent=Ne),Ie=k(A,` resolved an issue I had with transform jank in the  \r
	original `),Z=o(A,"CODE",{"data-type":!0,"data-svelte-h":!0}),y(Z)!=="svelte-mflvan"&&(Z.textContent=Qe),Me=k(A,`, but introduced a new one that made it look low-quality and\r
	aliased on my phone. Thankfully, browsers provide a fix for high dpi screens courtesy the\r
	`),ee=o(A,"A",{href:!0,target:!0});var at=j(ee);Le=k(at,"device pixel ratio (DPR)"),at.forEach(t),Re=k(A,", which can be queried and used as a resolution multiplier."),A.forEach(t),ue=c(e),B(te.$$.fragment,e),ce=c(e),ae=o(e,"P",{"data-svelte-h":!0}),y(ae)!=="svelte-1ptxl27"&&(ae.innerHTML=Ue),he=c(e),ge=o(e,"HR",{}),ve=c(e),ne=o(e,"H3",{"data-svelte-h":!0}),y(ne)!=="svelte-zo8yxa"&&(ne.textContent=Ve),_e=c(e),re=o(e,"P",{"data-svelte-h":!0}),y(re)!=="svelte-1k06zob"&&(re.innerHTML=Je),$e=c(e),F=o(e,"OL",{role:!0,"data-svelte-h":!0}),y(F)!=="svelte-1opg838"&&(F.innerHTML=Ke),be=c(e),se=o(e,"P",{"data-svelte-h":!0}),y(se)!=="svelte-1xrni5c"&&(se.innerHTML=We),xe=c(e),q=o(e,"PRE",{class:!0,"data-svelte-h":!0}),y(q)!=="svelte-1wwy5vq"&&(q.innerHTML=Xe),we=c(e),ye=o(e,"HR",{}),Ce=c(e),P=o(e,"P",{});var G=j(P);Ee=k(G,"Getting to a point where the behavior felt predictable took a lot more effort than I expected ("),fe=o(G,"EM",{"data-svelte-h":!0}),y(fe)!=="svelte-2dbwd4"&&(fe.textContent=Ye),De=c(G),le=o(G,"A",{href:!0,target:!0});var nt=j(le);Ge=k(nt,"safari media fragment hack"),nt.forEach(t),je=k(G,", no "),ie=o(G,"CODE",{"data-type":!0,"data-svelte-h":!0}),y(ie)!=="svelte-1lul1jc"&&(ie.textContent=Ze),ze=k(G,` in\r
	FireFox, `),de=o(G,"EM",{"data-svelte-h":!0}),y(de)!=="svelte-ynskcq"&&(de.textContent=et),Se=k(G,"), but I’m happy with how it turned out and learned a lot in the process!"),G.forEach(t),this.h()},h(){x(L,"href",_t),x(L,"target",qe),x(Y,"data-type","html"),x(Z,"data-type","html"),x(ee,"href",$t),x(ee,"target",qe),x(F,"role","list"),x(q,"class","codeblock overflow-scrollbar max-w svelte-1k68zg8"),x(le,"href",bt),x(le,"target",qe),x(ie,"data-type","ext")},m(e,r){s(e,a,r),s(e,m,r),s(e,$,r),s(e,H,r),N(d,e,r),s(e,R,r),s(e,b,r),s(e,h,r),s(e,g,r),s(e,D,r),s(e,M,r),s(e,S,r),s(e,I,r),p(I,K),p(I,L),p(L,W),p(I,X),s(e,oe,r),s(e,z,r),s(e,n,r),s(e,f,r),s(e,pe,r),s(e,T,r),p(T,me),p(T,Y),p(T,Ie),p(T,Z),p(T,Me),p(T,ee),p(ee,Le),p(T,Re),s(e,ue,r),N(te,e,r),s(e,ce,r),s(e,ae,r),s(e,he,r),s(e,ge,r),s(e,ve,r),s(e,ne,r),s(e,_e,r),s(e,re,r),s(e,$e,r),s(e,F,r),s(e,be,r),s(e,se,r),s(e,xe,r),s(e,q,r),s(e,we,r),s(e,ye,r),s(e,Ce,r),s(e,P,r),p(P,Ee),p(P,fe),p(P,De),p(P,le),p(le,Ge),p(P,je),p(P,ie),p(P,ze),p(P,de),p(P,Se),ke=!0},p:it,i(e){ke||(Q(d.$$.fragment,e),Q(te.$$.fragment,e),ke=!0)},o(e){U(d.$$.fragment,e),U(te.$$.fragment,e),ke=!1},d(e){e&&(t(a),t(m),t($),t(H),t(R),t(b),t(h),t(g),t(D),t(M),t(S),t(I),t(oe),t(z),t(n),t(f),t(pe),t(T),t(ue),t(ce),t(ae),t(he),t(ge),t(ve),t(ne),t(_e),t(re),t($e),t(F),t(be),t(se),t(xe),t(q),t(we),t(ye),t(Ce),t(P)),V(d,e),V(te,e)}}}const qe="_blank",_t="https://www.redblobgames.com/making-of/draggable/",$t="https://cloudinary.com/glossary/device-pixel-ratio",bt="https://muffinman.io/blog/hack-for-ios-safari-to-display-html-video-thumbnail/";class Ht extends Oe{constructor(a){super(),Be(this,a,null,vt,Ae,{})}}export{Ht as component};
